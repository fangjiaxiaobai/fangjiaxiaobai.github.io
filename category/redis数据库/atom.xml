<?xml version="1.0"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://fangjiaxiaobai.github.io</id>
    <title>æ–¹å®¶å°ç™½ â€¢ Posts by &#34;redisæ•°æ®åº“&#34; category</title>
    <link href="https://fangjiaxiaobai.github.io" />
    <updated>2021-08-02T10:18:55.000Z</updated>
    <category term="å…¨ç«™åœ°å›¾" />
    <category term="ç›®å½•" />
    <category term="æºç " />
    <category term="Redis" />
    <category term="MySQL" />
    <category term="æ•°æ®ç»“æ„" />
    <category term="Elastic Search" />
    <category term="æœç´¢" />
    <category term="é›ªèŠ±ç®—æ³•" />
    <category term="ç®—æ³•" />
    <category term="go" />
    <category term="go-error" />
    <category term="git" />
    <category term="æ—¥å¸¸" />
    <category term="Springboot" />
    <category term="Netty" />
    <category term="k8s" />
    <category term="kubernetes" />
    <category term="log" />
    <category term="go-log" />
    <category term="çŒ«å½±è§†" />
    <category term="MachineLearn" />
    <category term="å›¾ç‰‡" />
    <category term="RocketMQ" />
    <category term="æ¶ˆæ¯é˜Ÿåˆ—" />
    <category term="çº¿ç¨‹æ± " />
    <category term="é¢ç»" />
    <category term="leetCode" />
    <category term="é¢ç»ä¹‹ç®—æ³•é¢˜" />
    <category term="é“¾è¡¨" />
    <category term="ä¸åšä¹Ÿç½¢çš„ç®—æ³•é¢˜" />
    <category term="åŠ¨æ€è§„åˆ’" />
    <category term="æ•°ç»„" />
    <category term="HD" />
    <category term="BQ" />
    <category term="AC" />
    <category term="æœ‰ç‚¹éš¾çš„ç®—æ³•é¢˜" />
    <category term="HashMap" />
    <category term="JDK" />
    <category term="JDK8" />
    <category term="æ•°æ®ç»“æ„ä¸ç®—æ³•" />
    <category term="go-è®¾è®¡æ¨¡å¼" />
    <category term="String" />
    <category term="é€’å½’" />
    <category term="æ’åº" />
    <category term="å†’æ³¡æ’åº" />
    <category term="åˆ†æ²»æ€æƒ³æ’åº" />
    <category term="äº¤æ¢æ’åº" />
    <category term="å¿«é€Ÿæ’åº" />
    <category term="åˆ†æ”¯æ€æƒ³æ’åº" />
    <category term="é€‰æ‹©æ’åº" />
    <category term="å“ˆå¸Œç®—æ³•" />
    <category term="æ¡¶æ’åº" />
    <category term="çº¿æ€§æ€æƒ³æ’åº" />
    <category term="Java" />
    <category term="dubbo" />
    <category term="æ¨¡å‹è¯„ä¼°" />
    <category term="æ¶æ„" />
    <category term="ç¬”è®°" />
    <category term="go-runtimes" />
    <category term="KNN" />
    <category term="JDKç‰ˆæœ¬" />
    <category term="JDK11" />
    <category term="OOM" />
    <category term="JVM" />
    <category term="Stream" />
    <entry>
        <id>https://fangjiaxiaobai.github.io/2021/08/02/Redis%E7%B3%BB%E5%88%97/C-1-Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B9%8Bziplist/</id>
        <title>Redisæ•°æ®ç»“æ„ä¹‹è¯¦è§£ ziplist</title>
        <link rel="alternate" href="https://fangjiaxiaobai.github.io/2021/08/02/Redis%E7%B3%BB%E5%88%97/C-1-Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B9%8Bziplist/"/>
        <content type="html">&lt;h2 id=&#34;è§£å¯†-ziplist&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#è§£å¯†-ziplist&#34;&gt;#&lt;/a&gt; è§£å¯† ziplist.&lt;/h2&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆå«è§£å¯†  &lt;code&gt;ziplist&lt;/code&gt;  å‘¢ï¼Ÿå› ä¸ºä» ziplist ä¸­å–åˆ°æˆ‘ä»¬é¢„æœŸçš„å€¼ï¼ŒçœŸçš„å’Œè§£å¯†ä¸€æ ·ï¼çƒ§è„‘ï¼Œä½†æ˜¯æå…¶æœ‰è¶£ï¼ï¼&lt;/p&gt;
&lt;h3 id=&#34;å¼•é¢˜&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#å¼•é¢˜&#34;&gt;#&lt;/a&gt; å¼•é¢˜&lt;/h3&gt;
&lt;p&gt;åœ¨ä»‹ç»  &lt;code&gt;Redis&lt;/code&gt;  çš„æ•°æ®ç±»å‹  &lt;code&gt;list&lt;/code&gt;  çš„æ—¶å€™ï¼Œæ˜¯æˆ‘ä»¬ç¬¬ä¸€æ¬¡æ¥è§¦  &lt;code&gt;ziplist&lt;/code&gt;  è¿™ä¸€æ•°æ®ç»“æ„ã€‚&lt;/p&gt;
&lt;p&gt;ä¸çŸ¥é“æ˜¯å¦è¿˜è®°å¾—  &lt;code&gt;ziplist&lt;/code&gt;  è¿™ç§æ•°æ®ç»“æ„çš„ç‰¹æ€§ã€‚å¦‚æœä¸è®°å¾—ä¹Ÿæ²¡æœ‰å…³ç³»ï¼Œä»Šå¤©æˆ‘ä»¬æ¥è¯¦ç»†çš„çœ‹ä¸‹è¿™ä¸ªæ•°æ®ç»“æ„ã€‚&lt;/p&gt;
&lt;h3 id=&#34;é‡è¯»-ziplist-æ•°æ®ç»“æ„&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#é‡è¯»-ziplist-æ•°æ®ç»“æ„&#34;&gt;#&lt;/a&gt; é‡è¯» ziplist æ•°æ®ç»“æ„&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;ziplist&lt;/code&gt;  æ˜¯ç»è¿‡ç‰¹æ®Šç¼–ç çš„åŒå‘é“¾æ¥åˆ—è¡¨ï¼Œæ—¨åœ¨æé«˜å†…å­˜æ•ˆç‡ã€‚ å®ƒåŒæ—¶å­˜å‚¨å­—ç¬¦ä¸²å’Œæ•´æ•°å€¼ï¼Œå…¶ä¸­æ•´æ•°è¢«ç¼–ç ä¸ºå®é™…æ•´æ•°ï¼Œè€Œä¸æ˜¯ä¸€ç³»åˆ—å­—ç¬¦ã€‚å®ƒå…è®¸åœ¨  &lt;code&gt;O(1)&lt;/code&gt;  æ—¶é—´åœ¨åˆ—è¡¨çš„ä»»ä¸€ä¾§è¿›è¡Œæ¨å’Œå¼¹å‡ºæ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯ï¼Œç”±äºæ¯ä¸ªæ“ä½œéƒ½éœ€è¦é‡æ–°åˆ†é… &lt;code&gt;ziplist&lt;/code&gt;  ä½¿ç”¨çš„å†…å­˜ï¼Œå› æ­¤å®é™…çš„å¤æ‚æ€§ä¸ &lt;code&gt;ziplist&lt;/code&gt;  ä½¿ç”¨çš„å†…å­˜é‡æœ‰å…³ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ziplist&lt;/code&gt;  çš„æ•°æ®ç»“æ„æ€»è§ˆã€‚å¦‚ä¸‹å›¾&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;/images/Redis%E7%B3%BB%E5%88%97/images/ziplist-01-Ziplist%E7%9A%84%E7%BB%93%E6%9E%84.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘æ¥ä¾æ¬¡è§£é‡Šä¸‹è¿™  &lt;code&gt;5&lt;/code&gt;  ä¸ªéƒ¨åˆ†.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;&amp;lt;uint32_t zlbytes&amp;gt;&lt;/code&gt;  : å­˜å‚¨çš„  &lt;code&gt;ziplist&lt;/code&gt;  å ç”¨çš„å­—èŠ‚æ•° (åŒ…å«  &lt;code&gt;zlbytes&lt;/code&gt;  å­—æ®µæœ¬èº«çš„  &lt;code&gt;4&lt;/code&gt;  ä¸ªå­—èŠ‚)ã€‚å› æ­¤ï¼šæ— éœ€éå†å°±èƒ½ç›´æ¥çŸ¥é“è¿™ä¸ªæ•°æ®ç»“æ„çš„å¤§å°ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;&amp;lt;uint32_t zltail&amp;gt;&lt;/code&gt;  æ˜¯åˆ—è¡¨ä¸­æœ€åä¸€ä¸ªæ¡ç›®çš„åç§»é‡ã€‚ è¿™å…è®¸åœ¨åˆ—è¡¨çš„å¦ä¸€ç«¯è¿›è¡Œå¼¹å‡ºæ“ä½œï¼Œè€Œæ— éœ€å®Œå…¨éå†ã€‚åœ¨ä»»æ„ä¸€ç«¯è¿›è¡Œ  &lt;code&gt;pop&lt;/code&gt;  å’Œ  &lt;code&gt;push&lt;/code&gt;  æ“ä½œçš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯  &lt;code&gt;O(1)&lt;/code&gt;  .&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;&amp;lt;uint16_t zllen&amp;gt;&lt;/code&gt;  æ˜¯æ¡ç›®æ•°ã€‚å½“æ¡ç›®æ•°è¶…è¿‡ &lt;code&gt;2 ^ 16-2&lt;/code&gt;  æ—¶ï¼Œæ­¤å€¼å°†è®¾ç½®ä¸º &lt;code&gt;2 ^ 16-1&lt;/code&gt; ï¼Œè¿™æ—¶ï¼Œæˆ‘ä»¬éœ€è¦éå†æ•´ä¸ªåˆ—è¡¨ä»¥äº†è§£å…¶åŒ…å«å¤šå°‘é¡¹äº†ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;&amp;lt;uint8_t zlend&amp;gt;&lt;/code&gt;  æ˜¯ä»£è¡¨ &lt;code&gt;ziplist&lt;/code&gt;  æœ«å°¾çš„ç‰¹æ®Šæ¡ç›®ã€‚ç¼–ç ä¸ºç­‰äº &lt;code&gt;255&lt;/code&gt;  çš„å•ä¸ªå­—èŠ‚ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;&amp;lt;entry&amp;gt;&lt;/code&gt;  : å¾€ä¸‹çœ‹.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;entry&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#entry&#34;&gt;#&lt;/a&gt;  &lt;code&gt;Entry&lt;/code&gt;&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;ziplist&lt;/code&gt;  ä¸­çš„æ¯ä¸ªæ¡ç›®éƒ½ä»¥åŒ…å«ä¸¤ä¸ªä¿¡æ¯çš„å…ƒæ•°æ®ä½œä¸ºå‰ç¼€ã€‚é¦–å…ˆï¼Œå­˜å‚¨å‰ä¸€ä¸ª  &lt;code&gt;entry&lt;/code&gt;  çš„é•¿åº¦ï¼Œä»¥ä¾¿èƒ½å¤Ÿä»ååˆ°å‰éå†åˆ—è¡¨ã€‚ç¬¬äºŒï¼Œæä¾›  &lt;code&gt;entry&lt;/code&gt;  ç¼–ç ã€‚ å®ƒè¡¨ç¤ºæ¡ç›®ç±»å‹ï¼Œæ•´æ•°æˆ–å­—ç¬¦ä¸²ï¼Œå¯¹äºå­—ç¬¦ä¸²ï¼Œè¿˜è¡¨ç¤ºå­—ç¬¦ä¸²æœ‰æ•ˆè´Ÿè½½çš„é•¿åº¦ã€‚å› æ­¤ï¼Œèƒ½å¤Ÿåƒä¸‹é¢è¿™æ ·å­˜å‚¨ä¸€ä¸ªå®Œæ•´çš„  &lt;code&gt;entry&lt;/code&gt; .&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;/images/Redis%E7%B3%BB%E5%88%97/images/ziplist-01-entry%E7%9A%84%E7%BB%93%E6%9E%84.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;æœ‰æ—¶ï¼Œ &lt;code&gt;encoding&lt;/code&gt;  ä¹Ÿå¯ä»¥ä»£è¡¨ &lt;code&gt;entry&lt;/code&gt;  æœ¬èº«ï¼Œå°±åƒåé¢å°†è¦çœ‹åˆ°çš„å°æ•´æ•°ä¸€æ ·ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ &lt;code&gt;&amp;lt;entry-data&amp;gt;&lt;/code&gt;  éƒ¨åˆ†ä¸¢å¤±äº†ï¼Œæˆ‘ä»¬çš„ &lt;code&gt;Entry&lt;/code&gt;  ç»“æ„æ˜¯è¿™æ ·çš„ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;/images/Redis%E7%B3%BB%E5%88%97/images/ziplist-01-entry%E7%9A%84%E7%BB%93%E6%9E%842.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬æ¥å…·ä½“çœ‹ä¸‹  &lt;code&gt;Entry&lt;/code&gt;  çš„ç¼–ç æ–¹å¼.&lt;/p&gt;
&lt;h5 id=&#34;prevlen&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#prevlen&#34;&gt;#&lt;/a&gt;  &lt;code&gt;prevlen&lt;/code&gt;&lt;/h5&gt;
&lt;p&gt;&lt;code&gt;&amp;lt;prevlen&amp;gt;&lt;/code&gt;  è¡¨ç¤º å‰ä¸€ä¸ª  &lt;code&gt;entry&lt;/code&gt;  çš„é•¿åº¦ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å¦‚æœ å‰ä¸€ä¸ª  &lt;code&gt;entry&lt;/code&gt;  çš„é•¿åº¦å°äº 254 ä¸ªå­—èŠ‚ï¼Œé‚£ä¹ˆè¿™ä¸ª  &lt;code&gt;Entry&lt;/code&gt;  åªä¼šæ¶ˆè€—ä¸€ä¸ªå­—èŠ‚æ¥è¡¨ç¤ºè¯¥é•¿åº¦ã€‚ä¸€ä¸ªæ— ç¬¦å·çš„  &lt;code&gt;8&lt;/code&gt;  ä½æ•´æ•°ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¦‚æœå‰ä¸€ä¸ª  &lt;code&gt;entry&lt;/code&gt;  é•¿åº¦å¤§äºæˆ–ç­‰äº &lt;code&gt;254&lt;/code&gt;  å­—èŠ‚çš„æ—¶å€™ï¼Œå®ƒå°†å ç”¨ 5 ä¸ªå­—èŠ‚ã€‚ç¬¬ä¸€ä¸ªå­—èŠ‚è®¾ç½®ä¸º  &lt;code&gt;254&lt;/code&gt; ( &lt;code&gt;FE&lt;/code&gt; ), ä»¥æŒ‡ç¤ºéšåçš„å€¼æ›´å¤§ã€‚ å…¶ä»–çš„å››ä¸ªå­—èŠ‚å°†ä½œä¸ºå‰ä¸€ä¸ª entry çš„é•¿åº¦çš„å€¼ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œæˆ‘ä»¬å°±èƒ½çŸ¥é“äº† ä¸‹é¢è¿™ç§ç¼–ç æ–¹å¼.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;&amp;lt;prevlen form 9 to 253&amp;gt; &amp;lt;encoding&amp;gt; &amp;lt;entry-data&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;æˆ–è€…&lt;/p&gt;
&lt;p&gt;&lt;code&gt;&amp;lt;prevlen 4 bytes unsigned little endian prevlen&amp;gt; &amp;lt;encoding&amp;gt; &amp;lt;entry-data&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;h5 id=&#34;encoding&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#encoding&#34;&gt;#&lt;/a&gt;  &lt;code&gt;encoding&lt;/code&gt;&lt;/h5&gt;
&lt;p&gt;&lt;code&gt;entry&lt;/code&gt;  ä¸­çš„  &lt;code&gt;encoding&lt;/code&gt;  å­—æ®µå–å†³äº  &lt;code&gt;entry-data&lt;/code&gt;  çš„å†…å®¹ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å¦‚æœ  &lt;code&gt;entry-data&lt;/code&gt;  æ˜¯å­—ç¬¦ä¸²çš„æ—¶å€™ï¼Œ &lt;code&gt;encoding&lt;/code&gt;  ç¬¬ä¸€ä¸ªå­—èŠ‚çš„å‰ä¸¤ä½ç”¨äºå­˜å‚¨å­—ç¬¦ä¸²é•¿åº¦çš„ç¼–ç ç±»å‹ã€‚ç„¶åæ˜¯å­—ç¬¦ä¸²çš„å®é™…é•¿åº¦ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¦‚æœ  &lt;code&gt;entry&lt;/code&gt;  æ˜¯æ•´æ•°æ—¶ï¼Œå‰ &lt;code&gt;2&lt;/code&gt;  ä½éƒ½æ˜¯ &lt;code&gt;1&lt;/code&gt; ,ã€‚ æ¥ä¸‹æ¥çš„ä¸¤ä½ç”¨äºæŒ‡å®šåœ¨æ­¤æ ‡å¤´ä¹‹åå°†å­˜å‚¨å“ªç§ç±»å‹.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç”±ä¸Šé¢çš„ä¸¤ç‚¹ï¼Œå°±è¶³ä»¥ç¡®å®š  &lt;code&gt;entry-data&lt;/code&gt;  çš„ç±»å‹.&lt;/p&gt;
&lt;p&gt;ä¸åŒçš„ç±»å‹å’Œç¼–ç çš„æ¦‚è¿°å¦‚ä¸‹:&lt;/p&gt;
&lt;h6 id=&#34;å­—ç¬¦ä¸²ç±»å‹&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#å­—ç¬¦ä¸²ç±»å‹&#34;&gt;#&lt;/a&gt; å­—ç¬¦ä¸²ç±»å‹&lt;/h6&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;a&lt;/code&gt; .  &lt;code&gt;| 00pppppp |&lt;/code&gt;  : å«ä¹‰æ˜¯å ç”¨ &lt;code&gt;1&lt;/code&gt;  ä¸ªå­—èŠ‚æ¥è¡¨ç¤ºé•¿åº¦å°äºæˆ–ç­‰äº &lt;code&gt;63&lt;/code&gt;  ä¸ªå­—èŠ‚ï¼ˆ &lt;code&gt;6&lt;/code&gt;  ä½ï¼‰çš„å­—ç¬¦ä¸²å€¼ã€‚Â   &lt;code&gt;pppppp&lt;/code&gt;  è¡¨ç¤ºæ— ç¬¦å·çš„ 6 ä½é•¿åº¦ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;b&lt;/code&gt; . &lt;code&gt;|01pppppp|qqqqqqqq|&lt;/code&gt;  å«ä¹‰æ˜¯ç”¨ &lt;code&gt;2&lt;/code&gt;  ä¸ªå­—èŠ‚æ¥è¡¨ç¤ºå°äºç­‰äº  &lt;code&gt;16383(2^14)&lt;/code&gt;  ä¸ªå­—èŠ‚çš„å­—ç¬¦ä¸²çš„é•¿åº¦. (&lt;b&gt;è¿™é‡Œä½¿ç”¨å¤§ç«¯æ³•è®¡æ•°&lt;/b&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;c&lt;/code&gt; . &lt;code&gt;|10000000|qqqqqqqq|rrrrrrrr|ssssssss|tttttttt|&lt;/code&gt;  å«ä¹‰æ˜¯ ä½¿ç”¨ 5 ä¸ªå­—èŠ‚æ¥è¡¨ç¤ºå¤§äºç­‰äº 16384 ä¸ªå­—èŠ‚é•¿åº¦çš„å­—ç¬¦ä¸²ï¼Œåªæœ‰ 4 ä¸ªå­—èŠ‚è¡¨ç¤ºå…¶æœ€å¤§é•¿åº¦ä¸º  &lt;code&gt;2^32-1&lt;/code&gt; . ä½ä½çš„ 6 ä½è¢«è®¾ç½®æˆ  &lt;code&gt;0&lt;/code&gt; .(&lt;b&gt;è¿™é‡Œä½¿ç”¨å¤§ç«¯æ³•è®¡æ•°&lt;/b&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h6 id=&#34;æ•´æ•°ç±»å‹&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#æ•´æ•°ç±»å‹&#34;&gt;#&lt;/a&gt; æ•´æ•°ç±»å‹&lt;/h6&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;d&lt;/code&gt; . &lt;code&gt;|11000000|&lt;/code&gt; : å«ä¹‰æ˜¯ç”¨ &lt;code&gt;3&lt;/code&gt;  ä¸ªå­—èŠ‚è¡¨ç¤ºä¸€ä¸ª &lt;code&gt;16&lt;/code&gt;  ä½çš„æœ‰ç¬¦å·çš„çŸ­æ•´å½¢æ•° ( &lt;code&gt;short&lt;/code&gt; )ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;e&lt;/code&gt; . &lt;code&gt;|11010000|&lt;/code&gt;  : å«ä¹‰æ˜¯ç”¨ &lt;code&gt;5&lt;/code&gt;  ä¸ªå­—èŠ‚ è¡¨ç¤ºä¸€ä¸ª &lt;code&gt;32&lt;/code&gt;  ä½çš„æœ‰ç¬¦åˆæ•´æ•°å‹ ( &lt;code&gt;int&lt;/code&gt; ).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;f&lt;/code&gt; . &lt;code&gt;|11100000|&lt;/code&gt;  : å«ä¹‰æ˜¯ç”¨ &lt;code&gt;9&lt;/code&gt;  ä¸ªå­—èŠ‚ï¼Œè¡¨ç¤ºä¸€ä¸ª &lt;code&gt;64&lt;/code&gt;  ä½çš„æœ‰ç¬¦åˆé•¿æ•´æ•° ( &lt;code&gt;long&lt;/code&gt; )&lt;/li&gt;
&lt;li&gt;&lt;code&gt;g&lt;/code&gt; . &lt;code&gt;|11110000|&lt;/code&gt;  : å«ä¹‰æ˜¯ç”¨ &lt;code&gt;4&lt;/code&gt;  ä¸ªå­—èŠ‚è¡¨ç¤º &lt;code&gt;24&lt;/code&gt;  ä½æœ‰ç¬¦å·æ•´æ•° (åªå ç”¨ 3 ä¸ªå­—èŠ‚)ã€‚PS: æœ‰ä»€ä¹ˆä½œç”¨å‘¢ï¼Ÿå‰é¢è¯´çš„å°æ•´å½¢æ•°ã€‚èŠ‚çº¦ç©ºé—´ã€‚å³å¦‚å›¾&lt;/li&gt;
&lt;li&gt;&lt;code&gt;h&lt;/code&gt; . &lt;code&gt;|11111110|&lt;/code&gt;  :  å«ä¹‰æ˜¯ç”¨ &lt;code&gt;2&lt;/code&gt;  ä¸ªå­—èŠ‚è¡¨ç¤ºä¸€ä¸ª &lt;code&gt;8&lt;/code&gt;  ä½çš„æœ‰ç¬¦å·å°æ•´å½¢æ•°ã€‚ &lt;code&gt;1&lt;/code&gt;  ä¸ªå­—èŠ‚ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;i&lt;/code&gt; . &lt;code&gt;|1111xxxx|&lt;/code&gt;  :&lt;br&gt;
 é™¤å»ä¸Šé¢åˆ—ä¸¾çš„å‡ ç±»ç¼–ç æ ‡è¯†ï¼Œè¿˜æœ‰ &lt;code&gt;|1111xxxx|&lt;/code&gt;  çš„ç±»åˆ«ã€‚&lt;br&gt;
( &lt;code&gt;xxxx&lt;/code&gt;  åœ¨ &lt;code&gt;0000&lt;/code&gt;  å’Œ &lt;code&gt;1101&lt;/code&gt;  ä¹‹é—´) ç«‹å³ &lt;code&gt;4&lt;/code&gt;  ä½æ•´æ•°ã€‚  &lt;code&gt;0&lt;/code&gt;  åˆ° &lt;code&gt;12&lt;/code&gt;  ä¹‹é—´çš„æ— ç¬¦å·æ•´æ•°ã€‚ç¼–ç å€¼å®é™…ä¸Šæ˜¯ &lt;code&gt;1&lt;/code&gt;  åˆ° &lt;code&gt;13&lt;/code&gt; ï¼Œå› ä¸ºä¸èƒ½ä½¿ç”¨ &lt;code&gt;0000&lt;/code&gt;  å’Œ &lt;code&gt;1111&lt;/code&gt; ï¼Œå› æ­¤åº”ä»ç¼–ç çš„ &lt;code&gt;4&lt;/code&gt;  ä½å€¼ä¸­å‡å» &lt;code&gt;1&lt;/code&gt;  ä»¥è·å¾—æ­£ç¡®çš„å€¼ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;j&lt;/code&gt; . &lt;code&gt;|11111111| &lt;/code&gt; - è¡¨ç¤º  &lt;code&gt;ziplist&lt;/code&gt;  çš„ç‰¹æ®Š  &lt;code&gt;entry&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™æ ·ï¼Œæ•´ä¸ª &lt;code&gt;Entry&lt;/code&gt;  çš„ç¼–ç æ–¹å¼æˆ‘ä»¬å°±ææ˜ç™½äº†ã€‚&lt;br&gt;
è¿™äº›éƒ½æ˜¯  &lt;code&gt;Redis&lt;/code&gt;  ä¸­å®šä¹‰çš„è§„å®šï¼Œ æ‰€ä»¥æˆ‘ä»¬è®°ä½å°±è¡Œäº†ã€‚å¦‚æœè®©æˆ‘ä»¬è‡ªå·±å»è®¾è®¡ä¸€å¥—ç¼–ç æ–¹æ¡ˆçš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±å¯ä»¥å‚è€ƒè¿™ç§æ€è·¯å»è®¾è®¡ã€‚&lt;/p&gt;
&lt;h3 id=&#34;é‚£æˆ‘ä»¬æ¥ä¸¾ä¸¤ä¸ªä¾‹å­æ¥è¯•è¯•èº«æ‰‹å§&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#é‚£æˆ‘ä»¬æ¥ä¸¾ä¸¤ä¸ªä¾‹å­æ¥è¯•è¯•èº«æ‰‹å§&#34;&gt;#&lt;/a&gt; é‚£æˆ‘ä»¬æ¥ä¸¾ä¸¤ä¸ªä¾‹å­æ¥è¯•è¯•èº«æ‰‹å§ã€‚&lt;/h3&gt;
&lt;h4 id=&#34;ä¾‹å­1-25&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#ä¾‹å­1-25&#34;&gt;#&lt;/a&gt; ä¾‹å­ 1:  &lt;code&gt;25&lt;/code&gt;&lt;/h4&gt;
&lt;h5 id=&#34;ç¼–ç æ–¹å¼&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#ç¼–ç æ–¹å¼&#34;&gt;#&lt;/a&gt; ç¼–ç æ–¹å¼&lt;/h5&gt;
&lt;p&gt;&lt;code&gt;[0f 00 00 00] [0c 00 00 00] [02 00] [00 f3] [02 f6] [ff]&lt;/code&gt;&lt;/p&gt;
&lt;h5 id=&#34;è§£æè¿‡ç¨‹&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#è§£æè¿‡ç¨‹&#34;&gt;#&lt;/a&gt; è§£æè¿‡ç¨‹&lt;/h5&gt;
&lt;p&gt;&lt;img data-src=&#34;/images/Redis%E7%B3%BB%E5%88%97/images/ziplist-01-Ziplist%E4%BE%8B%E5%AD%90%E7%9A%84%E7%BB%93%E6%9E%841.png&#34; alt=&#34;ziplist-01-Ziplistä¾‹å­çš„ç»“æ„1.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;/images/Redis%E7%B3%BB%E5%88%97/images/ziplist-%E8%A7%A3%E6%9E%90%E6%95%B0%E6%8D%AE.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;ä¾‹å­2-hello-world&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#ä¾‹å­2-hello-world&#34;&gt;#&lt;/a&gt; ä¾‹å­ 2:  &lt;code&gt;Hello World&lt;/code&gt;&lt;/h4&gt;
&lt;p&gt;è¿™é‡Œæˆ‘ä»¬è¿˜æ˜¯æ¥ç€ä¸Šé¢ä¾‹å­æ¥è®²ï¼Œæˆ‘ä»¬å†è®¾ç½®ä¸€ä¸ª å­—ç¬¦ä¸²  &lt;code&gt;Hello World&lt;/code&gt;  ã€‚&lt;/p&gt;
&lt;h5 id=&#34;ç¼–ç æ ¼å¼&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#ç¼–ç æ ¼å¼&#34;&gt;#&lt;/a&gt; ç¼–ç æ ¼å¼&lt;/h5&gt;
&lt;p&gt;&lt;code&gt;[02] [0b] [48 65 6c 6c 6f 20 57 6f 72 6c 64]&lt;/code&gt;&lt;/p&gt;
&lt;h5 id=&#34;è§£æè¿‡ç¨‹-2&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#è§£æè¿‡ç¨‹-2&#34;&gt;#&lt;/a&gt; è§£æè¿‡ç¨‹&lt;/h5&gt;
&lt;p&gt;&lt;img data-src=&#34;/images/Redis%E7%B3%BB%E5%88%97/images/ziplist-01-Ziplist%E4%BE%8B%E5%AD%90%E7%9A%84%E7%BB%93%E6%9E%842.png&#34; alt=&#34;ziplist-01-Ziplistä¾‹å­çš„ç»“æ„2.png&#34;&gt;&lt;/p&gt;
&lt;h5 id=&#34;é™„å½•-asciiç è¡¨å¯å±•ç¤ºå­—ç¬¦&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#é™„å½•-asciiç è¡¨å¯å±•ç¤ºå­—ç¬¦&#34;&gt;#&lt;/a&gt; é™„å½•ï¼ŒASCII ç è¡¨ (å¯å±•ç¤ºå­—ç¬¦)&lt;/h5&gt;
&lt;p&gt;&lt;img data-src=&#34;/images/Redis%E7%B3%BB%E5%88%97/images/ziplist-ASCII%E7%A0%81%E5%AD%97%E7%AC%A6%E8%A1%A8.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä»¥ä¸Šå†…å®¹ï¼Œå°±æ˜¯ &lt;code&gt;Redis&lt;/code&gt;  çš„ &lt;code&gt;ziplist&lt;/code&gt;  ç»“æ„çš„å†…å®¹äº†ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ€»ç»“&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#æ€»ç»“&#34;&gt;#&lt;/a&gt; æ€»ç»“&lt;/h3&gt;
&lt;p&gt;æœ¬ç¯‡æ–‡ç« çš„å†…å®¹ä¸»è¦æ˜¯æ›´åŠ è¯¦ç»†çš„åˆ†äº«äº† &lt;code&gt;ziplist&lt;/code&gt;  çš„è¿™ç§æ•°æ®ç»“æ„çš„å†…éƒ¨ç»“æ„ä»¥åŠç¼–ç æ–¹å¼.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;ziplist&lt;/code&gt;  ç”± &lt;code&gt;5&lt;/code&gt;  éƒ¨åˆ†ç»„æˆã€‚å­˜å‚¨äº†ç›¸å…³ä¿¡æ¯:  &lt;code&gt;&amp;lt;æ•´ä¸ªziplistçš„é•¿åº¦&amp;gt;&amp;lt;æœ€åä¸€ä¸ªentryçš„åç§»é‡&amp;gt;&amp;lt;entryçš„æ€»æ•°&amp;gt;&amp;lt;entries&amp;gt;&amp;lt;è¡¨ç¤ºç»“æŸçš„ç‰¹æ®Šentry&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ª &lt;code&gt;entry&lt;/code&gt;  ç”± &lt;code&gt;3&lt;/code&gt;  éƒ¨åˆ†ç»„æˆï¼Œ &lt;code&gt;&amp;lt;å‰ä¸€ä¸ªentryçš„é•¿åº¦&amp;gt;&amp;lt;ç¼–ç æ–¹å¼&amp;gt;&amp;lt;entryçš„å†…å®¹&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å…¶ä¸­ ç¼–ç æ–¹å¼ æ˜¯ç”± entry çš„å†…å®¹ å†³å®šçš„ã€‚æœ‰ 10 æ¡æ ‡å‡† (è§„å®š / åè®®)&lt;/li&gt;
&lt;li&gt;å¼•ç”¨äº†ä¸¤ä¸ªç¤ºä¾‹ ( &lt;code&gt;25&lt;/code&gt;  å’Œ &lt;code&gt;Hello World&lt;/code&gt; )ï¼Œæ ¹æ® &lt;code&gt;Redis&lt;/code&gt;  çš„æ–¹å¼æ¥è§£ç .&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;æœ€å&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#æœ€å&#34;&gt;#&lt;/a&gt; æœ€å&lt;/h3&gt;
&lt;p&gt;æœŸå¾…æ‚¨çš„å…³æ³¨ï¼Œå¸Œæœ›å’Œä½ ä¸€èµ·é‡è§æ›´å¥½çš„è‡ªå·±&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;/images/Redis%E7%B3%BB%E5%88%97/images/qrcode.jpg&#34; alt=&#34;äºŒç»´ç &#34;&gt;&lt;/p&gt;
</content>
        <category term="Redis" />
        <updated>2021-08-02T10:18:55.000Z</updated>
    </entry>
    <entry>
        <id>https://fangjiaxiaobai.github.io/2021/08/02/Redis%E7%B3%BB%E5%88%97/C-4-%E8%B7%B3%E8%A1%A8/</id>
        <title>Redisä¸­çš„æ•°æ®ç»“æ„ä¹‹è·³è¡¨åŠå…¶åŸç†</title>
        <link rel="alternate" href="https://fangjiaxiaobai.github.io/2021/08/02/Redis%E7%B3%BB%E5%88%97/C-4-%E8%B7%B3%E8%A1%A8/"/>
        <content type="html">&lt;h2 id=&#34;å‰è¨€&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#å‰è¨€&#34;&gt;#&lt;/a&gt; å‰è¨€&lt;/h2&gt;
&lt;p&gt;æ–‡ä¸­é™„ä»£ç å®ç°. &lt;a href=&#34;#%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0&#34;&gt;ç”µæ¢¯ç›´è¾¾&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;åœ¨å…¬ä¼—å·å›å¤ ã€è·³è¡¨ã€‘ ä¹Ÿå¯ä»¥è·å–å“¦ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä»€ä¹ˆæ˜¯è·³è¡¨&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#ä»€ä¹ˆæ˜¯è·³è¡¨&#34;&gt;#&lt;/a&gt; ä»€ä¹ˆæ˜¯è·³è¡¨&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;è·³è¡¨æ˜¯ä¸€ç§æ•°æ®ç»“æ„ã€‚å®ƒå…è®¸å¿«é€ŸæŸ¥è¯¢ä¸€ä¸ªæœ‰åºè¿ç»­å…ƒç´ çš„æ•°æ®é“¾è¡¨ã€‚è·³è·ƒåˆ—è¡¨çš„å¹³å‡æŸ¥æ‰¾å’Œæ’å…¥æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯ O (log n)ï¼Œä¼˜äºæ™®é€šé˜Ÿåˆ—çš„ O (n)ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
 &lt;p align=right&gt; from. ç»´åŸºç™¾ç§‘&lt;/p&gt;
&lt;h3 id=&#34;å¼•é¢˜&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#å¼•é¢˜&#34;&gt;#&lt;/a&gt; å¼•é¢˜&lt;/h3&gt;
&lt;p&gt;çº¿æ€§è¡¨è¿™ç§æ•°æ®æœ‰ä¸¤ç§å…·ä½“å®ç°ï¼Œæ•°ç»„å’Œé“¾è¡¨ã€‚å…·ä½“çš„å†…å®¹ä¹‹å‰çš„æ–‡ç« é‡Œä¹Ÿæœ‰è¯´è¿‡ï¼Œå¯ä»¥ç¿»ç¿»çœ‹å“‡ï½ã€‚åœ¨è¿™é‡Œä¸¤ç§æ•°æ®ç»“æ„ä¸­ï¼Œæ•°ç»„çš„ä¼˜ç‚¹æ˜¯æŸ¥æ‰¾é€Ÿåº¦å¿«ï¼Œè€Œé“¾è¡¨çš„ä¼˜ç‚¹æ˜¯å¢åˆ çš„æ•ˆç‡é«˜ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä»¬å¸¸è¯´çš„ã€‚å…¶å®ï¼Œéä¹Ÿã€‚&lt;/p&gt;
&lt;p&gt;æ•°ç»„æ˜¯ä¸€ç§å†…å­˜è¿ç»­çš„æ•°æ®ç»“æ„ï¼Œå…¶ä¼˜ç‚¹æ˜¯å¯ä»¥é€šè¿‡ &lt;code&gt;é¦–åœ°å€+N*(sizeOf(Node))&lt;/code&gt;  æ¥å¿«é€Ÿè·å–æŒ‡å®šä½ç½®ä¸Šçš„å…ƒç´ ã€‚å‡å¦‚æˆ‘ä»¬ä¸çŸ¥é“æŒ‡å®šå…ƒç´ çš„ä½ç½®å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;é“¾è¡¨æ˜¯ä¸€ç§éå†…å­˜è¿ç»­çš„æ•°æ®ï¼Œå…¶ä¼˜ç‚¹æ˜¯é€šè¿‡æ”¹å˜æŒ‡é’ˆåœ°å€æ¥å¿«é€Ÿå¢å‡å…ƒç´ ã€‚å¾ˆæ˜æ˜¾çš„é—®é¢˜ï¼Œä½ é¦–å…ˆè¦çŸ¥é“ä½ è¦å¢åŠ  / åˆ é™¤çš„ç›®æ ‡å…ƒç´ æ˜¯å“ªä¸ªï¼æ‰€ä»¥ä¼šæµªè´¹  &lt;code&gt;O(n)&lt;/code&gt;  çš„æŸ¥è¯¢æ—¶é—´ã€‚&lt;/p&gt;
&lt;p&gt;è¦è®ºæ•ˆç‡ï¼Œé‚£å°±è¦è¯´å¹³è¡¡æ ‘ ( &lt;code&gt;AVL&lt;/code&gt; ) äº†ã€‚å¢åˆ æŸ¥çš„æ•ˆç‡éƒ½æ˜¯  &lt;code&gt;O(logN)&lt;/code&gt; ã€‚ ä½†æ˜¯è¿™ç§æ•°æ®ç»“æ„ï¼ŒåŸç†æ¯”è¾ƒå¤æ‚ï¼Œå®ç°èµ·æ¥é‚£ä¸æ˜¯æ¯”è¾ƒå¤æ‚äº†ï¼Œé‚£æ˜¯ç›¸å½“å¤æ‚ã€‚å¢åˆ æ“ä½œï¼Œéƒ½éœ€è¦å…¶ä¾é å¹³è¡¡æ“ä½œå¼•å‘å­æ ‘çš„è°ƒæ•´ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆï¼ŒæŒå£°æœ‰è¯·æˆ‘ä»¬ä»Šå¤©çš„ä¸»è§’: &lt;b&gt;è·³è¡¨&lt;/b&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&#34;è·³è¡¨&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#è·³è¡¨&#34;&gt;#&lt;/a&gt; è·³è¡¨&lt;/h2&gt;
&lt;h3 id=&#34;æ¦‚å¿µ&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#æ¦‚å¿µ&#34;&gt;#&lt;/a&gt; æ¦‚å¿µ&lt;/h3&gt;
&lt;p&gt;è·³è¡¨ ( &lt;code&gt;skip list&lt;/code&gt; ) å…¨ç§° è·³è·ƒé“¾è¡¨ã€‚ æ˜¯ä¸€ç§ç±»é“¾è¡¨çš„æ•°æ®ç»“æ„ã€‚&lt;/p&gt;
&lt;p&gt;è·³è¡¨çš„æ€§èƒ½å’Œå¹³è¡¡æ ‘çš„æ€§èƒ½æ˜¯ä¸€æ ·çš„ï¼Œåœ¨æ’å…¥ï¼Œåˆ é™¤ï¼Œæœç´¢çš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯  &lt;code&gt;O(n)&lt;/code&gt; , æ˜¯ä¸€ç§åˆ©ç”¨ç©ºé—´æ¢æ—¶é—´çš„æ•°æ®ç»“æ„ã€‚&lt;/p&gt;
&lt;p&gt;è·³è¡¨æ˜¯ä¸€ç§éšæœºåŒ–çš„æ•°æ®ç»“æ„ï¼Œç›®å‰å¼€æºè½¯ä»¶ Redis å’Œ LevelDB éƒ½æœ‰ç”¨åˆ°å®ƒã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œï¼Œå…ˆç»™å¤§å®¶çœ‹ä¸€ä¸ª&lt;b&gt;å¯èƒ½&lt;/b&gt;çš„è·³è¡¨ç»“æ„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;/images/Redis%E7%B3%BB%E5%88%97/images/%E8%B7%B3%E8%A1%A8-02-%E5%8F%AF%E8%83%BD%E7%9A%84%E8%B7%B3%E8%A1%A8%E7%BB%93%E6%9E%841.png&#34; alt=&#34;è·³è¡¨-02-å¯èƒ½çš„è·³è¡¨ç»“æ„1.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç°åœ¨æˆ‘è¦å‘Šè¯‰ä½ ï¼Œä¸Šé¢çš„è·³è¡¨æ˜¯ç”±ä¸‹é¢çš„è·³è¡¨ç»è¿‡å±‚å±‚ä¼˜åŒ–å¾—æ¥çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;/images/Redis%E7%B3%BB%E5%88%97/images/%E8%B7%B3%E8%A1%A8-01-%E6%9C%89%E5%BA%8F%E7%9A%84%E9%93%BE%E8%A1%A8.png&#34; alt=&#34;è·³è¡¨-01-æœ‰åºçš„é“¾è¡¨&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æˆ‘ä»¬é’ˆå¯¹ä¸Šé¢çš„è·³è¡¨ç»“æ„æ¥åˆ†æä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;p&gt;åˆšæ‰è¯´è¿‡äº†ï¼Œé“¾è¡¨å¢åˆ æ€§èƒ½ç½ªé­ç¥¸é¦–å°±æ˜¯æŸ¥æ‰¾æ“ä½œï¼å¯¹äºæŸ¥æ‰¾æ“ä½œï¼Œæ•ˆç‡æœ€é«˜çš„è«è¿‡äºäºŒåˆ†æŸ¥æ‰¾äº†ã€‚ä½†æ˜¯å¯¹äºç¬¬ä¸€ä¸ªæœ‰åºé“¾è¡¨ä¸­æ˜¯æ— æ³•ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾çš„ã€‚ä½†æ˜¯å‘¢ï¼Œæˆ‘ä»¬å¯ä»¥éšæœºæŠ½é€‰ä¸­å…¶ä¸­çš„å‡ ä¸ªå…ƒç´ ï¼Œç»„æˆä¸€ä¸ªæ–°çš„é“¾è¡¨ã€‚å°±åƒä¸‹é¢è¿™æ ·ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;/images/Redis%E7%B3%BB%E5%88%97/images/%E8%B7%B3%E8%A1%A8-03-%E6%8A%BD%E8%B1%A1%E5%87%BA%E6%96%B0%E7%9A%84%E4%B8%80%E5%B1%82.png&#34; alt=&#34;è·³è¡¨-03-æŠ½è±¡å‡ºæ–°çš„ä¸€å±‚.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;å‡è®¾æˆ‘ä»¬è¦æ‰¾ &lt;code&gt;5&lt;/code&gt;  è¿™ä¸ªå…ƒç´ ï¼Œåœ¨å•ç‹¬çš„æœ‰åºé“¾è¡¨ä¸­ï¼Œæˆ‘ä»¬å¿…é¡»ä»å¤´ç»“ç‚¹ä¾æ¬¡éå†åˆ°  &lt;code&gt;5&lt;/code&gt;  è¿™ä¸ªèŠ‚ç‚¹ã€‚è·¯å¾„ä¸º &lt;code&gt;1-&amp;gt;2-&amp;gt;3-&amp;gt;4-&amp;gt;5&lt;/code&gt; , ä¸‹å›¾ä¸­é»„è‰²çº¿è·¯å¾„ã€‚, ç°åœ¨ï¼Œæˆ‘ä»¬åªéœ€è¦ä»  &lt;code&gt;1-&amp;gt;2-&amp;gt;4-&amp;gt;5&lt;/code&gt; . ä¸‹å›¾ä¸­ç´«è‰²çº¿è·¯å¾„ã€‚æ—¢ç„¶æˆ‘ä»¬å¯ä»¥åŸæ¥çš„é“¾è¡¨æŠ½è±¡å‡ºä¸€ä¸ªæ–°çš„é“¾è¡¨ï¼Œé‚£æˆ‘ä»¬è¿˜å¯ä»¥ä»æ–°çš„é“¾è¡¨ä¸­å†æŠ½è±¡å‡ºä¸€ä¸ªæ–°çš„é“¾è¡¨ã€‚è¿™æ ·çš„è¯ï¼Œå°±ç›´æ¥å¯ä»¥  &lt;code&gt;1-&amp;gt;4-&amp;gt;5&lt;/code&gt; , å°±å¯ä»¥æŸ¥åˆ°ä¸€ä¸ªæˆ‘ä»¬çš„ç›®æ ‡èŠ‚ç‚¹äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;/images/Redis%E7%B3%BB%E5%88%97/images/%E8%B7%B3%E8%A1%A8-04-%E5%86%8D%E6%8A%BD%E8%B1%A1%E5%87%BA%E6%96%B0%E7%9A%84%E4%B8%80%E5%B1%82.png&#34; alt=&#34;è·³è¡¨-04-å†æŠ½è±¡å‡ºæ–°çš„ä¸€å±‚.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ çœ‹åˆ°è¿™é‡Œï¼Œæˆ‘è¦å‘Šè¯‰ä½ ä¸€ä¸ªé‡è¦çš„æ¦‚å¿µäº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å±‚ï¼šå°±æ˜¯æˆ‘ä»¬å‡è®¾çš„æŠ½è±¡å‡ºæ¥çš„æ–°é“¾è¡¨ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¯èƒ½ä½ å¾ˆå¥½å¥‡ï¼Œå±‚æˆ‘ä»¬åº”è¯¥æ€ä¹ˆå­˜å‚¨å‘¢ï¼Ÿå¾ˆç®€å•å•Šï¼&lt;/p&gt;
&lt;p&gt;ä»¥åæˆ‘ä»¬æ¯ä¸ªé“¾è¡¨çš„å…ƒç´ æ˜¯æ€ä¹ˆå®šä¹‰çš„ï¼Ÿï¼Ÿ&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;typedef&lt;/span&gt; &lt;span class=&#34;class&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;title&#34;&gt;NODE&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    T data;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    Node *next;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125; node;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æˆ‘ä»¬åªéœ€è¦å°† æŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ çš„æŒ‡é’ˆæ”¹æˆä¸€ä¸ªæŒ‡é’ˆæ•°ç»„å°±å¯ä»¥äº†ï¼&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;typedef&lt;/span&gt; &lt;span class=&#34;class&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;title&#34;&gt;NODE&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    T data;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;/// æŒ‡å‘åç»§å…ƒç´ çš„æŒ‡é’ˆæ•°ç»„&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;class&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;title&#34;&gt;Node&lt;/span&gt; *&lt;span class=&#34;title&#34;&gt;next&lt;/span&gt;[&lt;span class=&#34;title&#34;&gt;i&lt;/span&gt;];&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125; node;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;äº†è§£äº†æ€ä¹ˆå­˜å‚¨ä¹‹åï¼Œé‚£æ€æ ·ç¡®å®šæŸä¸ªèŠ‚ç‚¹æœ‰å‡ å±‚å‘¢ï¼Ÿè¿™é‡Œæˆ‘å‘Šè¯‰ä½ å§ï¼Œéšæœºçš„ï¼æ€ä¹ˆéšæœºçš„å‘¢ï¼Ÿå°±æ˜¯é€šè¿‡éšæœºæ•°æ¥ç¡®å®šçš„ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„ æŠ›ç¡¬å¸çš„å½¢å¼ã€‚ æ¯”å¦‚ä¸‹é¢çš„è¿™æ®µä»£ç .&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;/**&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt; * ç”Ÿæˆä¸€ä¸ªéšæœºæ•°&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt; * @return ä¸€ä¸ªéšæœºæ•°&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt; */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;function&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;title&#34;&gt;random_level&lt;/span&gt;&lt;span class=&#34;params&#34;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;int&lt;/span&gt; level = &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;while&lt;/span&gt; (&lt;span class=&#34;built_in&#34;&gt;rand&lt;/span&gt;() % &lt;span class=&#34;number&#34;&gt;2&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        level++;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    level = (level &amp;lt; MAX_LEVEL) ? level : MAX_LEVEL;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt; level;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;é‚£æˆ‘ä»¬å°±å°è¯•ç€å®ç°ä¸€ä¸ªè·³è¡¨ã€‚&lt;/p&gt;
&lt;h3 id=&#34;è·³è¡¨çš„å®ç°&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#è·³è¡¨çš„å®ç°&#34;&gt;#&lt;/a&gt; è·³è¡¨çš„å®ç°&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;å®šä¹‰è·³è¡¨çš„ç»“æ„&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç»è¿‡ä¸Šé¢çš„åˆ†æï¼Œæ¯ä¸ªèŠ‚ç‚¹æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¾—å‡ºä¸‹é¢çš„ç»“æ„ã€‚(å½“ç„¶ä¹Ÿæœ‰å…¶ä»–æ–¹å¼çš„å®ç°ï¼Œæ¬¢è¿äº¤æµï½)&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;/// èŠ‚ç‚¹&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;NODE &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    T data,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;/// æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æ•°ç»„ï¼Œä»1å¼€å§‹ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;/// æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ å¯¹åº”è¯¥å±‚çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;/// next[1],æ˜¯ç¬¬ä¸€å±‚çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„åœ°å€ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;/// next[2] æ˜¯ç¬¬äºŒå±‚çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„åœ°å€ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    NODE []next;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;/// è·³è¡¨&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;SKIP_LIST&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    NODE head;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;/// è¯¥è·³è¡¨çš„å±‚æ•°&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;int&lt;/span&gt; level;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;æŸ¥æ‰¾æŒ‡å®šçš„å…ƒç´ &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸Šé¢è¯´è¿‡äº† æŸ¥æ‰¾è¿‡ç¨‹ï¼Œæˆ‘è¿™é‡Œå°±ç›´æ¥ç»™å‡ºä¼ªä»£ç äº†ã€‚&lt;/p&gt;
&lt;p&gt;ä¸»è¦é€»è¾‘æ˜¯ï¼šä»é«˜å±‚å¼€å§‹æŸ¥æ‰¾ç›´åˆ°æ‰¾åˆ°ç­‰äºæŒ‡å®šå…ƒç´ çš„èŠ‚ç‚¹ E æˆ–è€…ç¬¬ä¸€ä¸ªå¤§äºæŒ‡å®šå…ƒç´ çš„èŠ‚ç‚¹ Gã€‚å¦‚æœæ˜¯èŠ‚ç‚¹ Eï¼Œé‚£ä¹ˆç›´æ¥è¿”å›å°±å¥½äº†ã€‚å¦‚æœæ˜¯ G èŠ‚ç‚¹ï¼Œé‚£ä¹ˆå°±ä»¥ G èŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹ L, åœ¨ä¸‹ä¸€å±‚è¿›è¡ŒæŸ¥æ‰¾ï¼Œé‡å¤ä¸Šé¢çš„é€»è¾‘ï¼Œç›´åˆ°æ‰¾åˆ°èŠ‚ç‚¹ Eï¼Œæˆ–è€…åˆ°è¾¾è·³è¡¨çš„ç»“å°¾ã€‚&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚ä¸‹å›¾ä¸­æŸ¥æ‰¾  &lt;code&gt;5&lt;/code&gt;  çš„è¿‡ç¨‹ä¸º:&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;/images/Redis%E7%B3%BB%E5%88%97/images/%E8%B7%B3%E8%A1%A8-08-%E6%9F%A5%E6%89%BE.png&#34; alt=&#34;è·³è¡¨-08-æŸ¥æ‰¾&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;head-&amp;gt;8&lt;/code&gt; ,  &lt;code&gt;8&amp;gt;5&lt;/code&gt; , ä» &lt;code&gt;head&lt;/code&gt;  å¼€å§‹ï¼Œå»ä¸‹ä¸€å±‚æŸ¥æ‰¾ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;head-&amp;gt;4-&amp;gt;8&lt;/code&gt; ,  &lt;code&gt;8&amp;gt;5&lt;/code&gt; , ä»  &lt;code&gt;4&lt;/code&gt;  å…ƒç´ å¼€å§‹æŸ¥æ‰¾ã€‚å»ä¸‹ä¸€å±‚æŸ¥æ‰¾&lt;/li&gt;
&lt;li&gt;&lt;code&gt;head-&amp;gt;4-&amp;gt;8&lt;/code&gt; ,  &lt;code&gt;8&amp;gt;5&lt;/code&gt; , ä»  &lt;code&gt;4&lt;/code&gt;  å…ƒç´ å¼€å§‹æŸ¥æ‰¾ã€‚å»ä¸‹ä¸€å±‚æŸ¥æ‰¾.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;head-&amp;gt;4-&amp;gt;6&lt;/code&gt; ,  &lt;code&gt;6&amp;gt;5&lt;/code&gt; , ä»  &lt;code&gt;4&lt;/code&gt;  å…ƒç´ å¼€å§‹æŸ¥æ‰¾ã€‚å»ä¸‹ä¸€å±‚æŸ¥æ‰¾.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;head-&amp;gt;4-&amp;gt;5&lt;/code&gt; ,  &lt;code&gt;5==5&lt;/code&gt; , è¿”å›èŠ‚ç‚¹ &lt;code&gt;5&lt;/code&gt; .&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¦‚ä¸‹é¢çš„ä¼ªä»£ç ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;search&lt;/span&gt;() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;/// i è¡¨ç¤ºå±‚æ•°ï¼Œä»æœ€é«˜å±‚å¼€å§‹æŸ¥æ‰¾ ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;for&lt;/span&gt; (; i &amp;gt;= &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;; i--) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;keyword&#34;&gt;while&lt;/span&gt; ((q = p-&amp;gt;next[i]) &amp;amp;&amp;amp; q-&amp;gt;k &amp;lt; k) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            p = q;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (q &amp;amp;&amp;amp; k == q-&amp;gt;data) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt; &amp;amp;(q-&amp;gt;data);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;æ„å»ºä¸€ä¸ªè·³è¡¨ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸Šé¢åˆ†æå¯ä»¥å¾—å‡ºæ¥ï¼Œè·³è¡¨æ˜¯ä¸€ä¸ªå¤šå±‚çš„æœ‰åºé“¾è¡¨ã€‚æ‰€ä»¥æˆ‘ä»¬å¯¹äºæ¯ä¸€å±‚éƒ½åƒæ“ä½œæ™®é€šé“¾è¡¨ä¸€æ ·å°±å¯ä»¥äº†ã€‚å°±åƒä¸‹é¢çš„è¿™æ ·:&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;/images/Redis%E7%B3%BB%E5%88%97/images/%E8%B7%B3%E8%A1%A8-06-%E6%8F%92%E5%85%A5.png&#34; alt=&#34;è·³è¡¨-06-æ’å…¥&#34;&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;insert&lt;/span&gt; () &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// æ‰¾åˆ°è¦æ’å…¥çš„èŠ‚ç‚¹ä½ç½®ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// levelæ˜¯æœ¬è·³è¡¨çš„å±‚æ•°&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;for&lt;/span&gt; (i = level&lt;span class=&#34;number&#34;&gt;-1&lt;/span&gt;; i &amp;gt;= &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;; i--) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;comment&#34;&gt;///éå†è¯¥å±‚å°äºæŒ‡å®šå€¼çš„å‰ä¸€ä¸ªå…ƒç´ &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;keyword&#34;&gt;while&lt;/span&gt; ((q = p-&amp;gt;next[i]) &amp;amp;&amp;amp; q-&amp;gt;k &amp;lt; k) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            p = q;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;comment&#34;&gt;/// æ–°èŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹çš„å±‚æŒ‡é’ˆã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        update[i] = p;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// éšæœºç”Ÿæˆè¯¥èŠ‚ç‚¹çš„å±‚æ•°,å¦‚æœç”Ÿæˆçš„å±‚æ•°å¤§äºå½“å‰å±‚ï¼Œéœ€è¦æ›´æ–°è·³è¡¨ä¸­è®°å½•çš„levelå€¼ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    new_level = &lt;span class=&#34;built_in&#34;&gt;rand_level&lt;/span&gt;();&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt;(new_level &amp;gt; level) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        level = new_level;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// ç”Ÿæˆæ–°çš„èŠ‚ç‚¹ï¼Œå¹¶é’ˆå¯¹æ¯ä¸€å±‚æ‰§è¡Œæ™®é€šé“¾è¡¨çš„æ’å…¥æ“ä½œã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    new_node = &lt;span class=&#34;built_in&#34;&gt;create_new_node&lt;/span&gt;();&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;for&lt;/span&gt; (i = level - &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;; i &amp;gt;= &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;; i--) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;comment&#34;&gt;/// ä¸‹é¢ä¸¤è¡Œä»£ç å°±æ˜¯æ™®é€šè¿æ¥çš„å¢åŠ æ–¹æ³•ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;comment&#34;&gt;/// æ–°èŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹çš„ç¬¬iå±‚çš„èŠ‚ç‚¹ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        new_node-&amp;gt;next[i] = update[i]-&amp;gt;next[i];&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        update[i]-&amp;gt;next[i] = q;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;åˆ é™¤è·³è¡¨çš„å…ƒç´ &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸»è¦é€»è¾‘æ˜¯è¯¥èŠ‚ç‚¹çš„æ¯ä¸€å±‚éƒ½è¦åˆ é™¤.&lt;/p&gt;
&lt;p&gt;å³å¯¹æ¯ä¸€å±‚ï¼Œéƒ½è¦ è¦åˆ é™¤èŠ‚ç‚¹çš„ä¸Šä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘è¦åˆ é™¤èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;/images/Redis%E7%B3%BB%E5%88%97/images/%E8%B7%B3%E8%A1%A8-07-%E5%88%A0%E9%99%A4.png&#34; alt=&#34;è·³è¡¨-07-åˆ é™¤.png&#34;&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;del&lt;/span&gt;() &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;/// æ‰¾åˆ°è¦åˆ é™¤çš„èŠ‚ç‚¹&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;for&lt;/span&gt; (; i &amp;gt;= &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;; --i) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;keyword&#34;&gt;while&lt;/span&gt; ((q = p-&amp;gt;next[i]) &amp;amp;&amp;amp; q-&amp;gt;k &amp;lt; k) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            p = q;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        update[i] = p;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;ä»£ç å®ç°&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#ä»£ç å®ç°&#34;&gt;#&lt;/a&gt; ä»£ç å®ç°&lt;/h3&gt;
&lt;p&gt;ğŸ‘‰ &lt;a href=&#34;https://github.com/fangjiaxiaobai/data_structures_and_algorithms/tree/master/01_data_structures/skiplist/c/01_fangjiaxiaobai&#34;&gt;è·³è¡¨ &lt;code&gt;C&lt;/code&gt;  è¯­è¨€ç‰ˆæœ¬&lt;/a&gt;&lt;br&gt;
ğŸ‘‰ &lt;a href=&#34;https://github.com/fangjiaxiaobai/data_structures_and_algorithms/tree/master/01_data_structures/skiplist/java/fangjiaxiaobai&#34;&gt;è·³è¡¨ &lt;code&gt;JAVA&lt;/code&gt;  ç‰ˆæœ¬&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å…¶ä»–è¯­è¨€ï¼Œæ¯”å¦‚  &lt;code&gt;python&lt;/code&gt; ,  &lt;code&gt;golang&lt;/code&gt; ,  &lt;code&gt;c++&lt;/code&gt; ,  &lt;code&gt;js&lt;/code&gt; ,  &lt;code&gt;php&lt;/code&gt; ,  &lt;code&gt;kotlin&lt;/code&gt;  ç‰ˆæœ¬çš„ä»£ç ï¼Œä½ æœ‰æ²¡æœ‰å…´è¶£æä¸€æ³¢å‘¢ï¼ŸğŸ‘‰ &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL2ZhbmdqaWF4aWFvYmFpL2RhdGFfc3RydWN0dXJlc19hbmRfYWxnb3JpdGhtcw==&#34;&gt;èµæ•™åœ°å€&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;å„ä½çœ‹å®˜å¯ä»¥é€‰æ‹©è‡ªå·±ç†Ÿæ‚‰çš„è¯­è¨€æŸ¥çœ‹ã€‚å®ç°ä»£ç ä»…ä¾›å‚è€ƒã€‚å¦‚æœ‰é«˜è§ï¼Œæ¬¢è¿äº¤æµå“‡ï½ï¼Œè¿˜è¯·ä¸åèµæ•™ï¼&lt;/p&gt;
&lt;p&gt;ä¹Ÿæ¬¢è¿å¤§ä¾ æäº¤è‡ªå·±æ“…é•¿è¯­è¨€çš„ä»£ç åˆ°ä»“åº“ï½ï¼Œé›†æ€å¹¿ç›Šï¼Œä¸€èµ·äº¤æµï¼æœŸå¾…ï½ï½&lt;/p&gt;
&lt;p&gt;(ä»“åº“ä¸­çš„æ•°æ®ç»“æ„ä¸ç®—æ³•æŒç»­æ›´æ–°å“¦ï¼Œæ¬¢è¿ &lt;code&gt;star&lt;/code&gt; )&lt;/p&gt;
&lt;h3 id=&#34;æ—¶é—´å¤æ‚åº¦çš„åˆ†æ&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#æ—¶é—´å¤æ‚åº¦çš„åˆ†æ&#34;&gt;#&lt;/a&gt; æ—¶é—´å¤æ‚åº¦çš„åˆ†æ&lt;/h3&gt;
&lt;p&gt;å› ä¸ºè·³è¡¨çš„æ—¶é—´å¤æ‚åº¦å’Œè·³è¡¨çš„å±‚æ•°ä»¥åŠè¯¥å±‚ä¸Šçš„èŠ‚ç‚¹æ•°å’ŒèŠ‚ç‚¹åˆ†å¸ƒçš„ä½ç½®æœ‰å…³ï¼Œè€Œè¿™äº›å› ç´ éƒ½æ˜¯éšæœºçš„ã€‚ æ­¤ä¸­æ¶‰åŠäº†å¾ˆå¤šå¤æ‚çš„æ¦‚ç‡ç»Ÿè®¡å­¦çŸ¥è¯†ã€‚æ‰€ä»¥æˆ‘å°±æ‘˜è‡ªç»´åŸºç™¾ç§‘ä¸­çš„è¯´æ˜ï¼Œå¦‚ä¸‹:&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;/images/Redis%E7%B3%BB%E5%88%97/images/%E8%B7%B3%E8%A1%A8-05-%E7%9A%84%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6.png&#34; alt=&#34;è·³è¡¨-05-çš„æ—¶é—´å¤æ‚åº¦png&#34;&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœçœ‹çš„ä¸æ˜¯å¾ˆæ¸…æ™°ï¼Œä¹Ÿå¯ä»¥è¿™ä¹ˆæƒ³ï¼š&lt;/p&gt;
&lt;p&gt;å¦‚æœæ¯ä¸¤ä¸ªèŠ‚ç‚¹æŠ½å‡ºä¸€ä¸ªèŠ‚ç‚¹ä½œä¸ºä¸Šä¸€çº§ç´¢å¼•çš„èŠ‚ç‚¹ï¼Œé‚£ç¬¬ä¸€çº§ç´¢å¼•çš„èŠ‚ç‚¹ä¸ªæ•°å¤§çº¦å°±æ˜¯  &lt;code&gt;n/2&lt;/code&gt;  , ç¬¬äºŒçº§ç´¢å¼•æ˜¯  &lt;code&gt;n/4&lt;/code&gt; , ç¬¬ä¸‰çº§å°±æ˜¯  &lt;code&gt;n/8&lt;/code&gt; ã€‚ ä¹Ÿå°±æ˜¯è¯´ ç¬¬  &lt;code&gt;k&lt;/code&gt;  çº§ç´¢å¼•èŠ‚ç‚¹ä¸ªæ•°æ˜¯  &lt;code&gt;n/(2^k)&lt;/code&gt; ;&lt;/p&gt;
&lt;p&gt;å‡è®¾ï¼Œæˆ‘ä»¬æœ‰  &lt;code&gt;h&lt;/code&gt;  å±‚ï¼Œæœ€é«˜å±‚ç´¢å¼•æœ‰ &lt;code&gt;2&lt;/code&gt;  ä¸ªèŠ‚ç‚¹ï¼Œé‚£ä¹ˆï¼Œ å°±æ˜¯  &lt;code&gt;n/(2^k)=2&lt;/code&gt; , é‚£ä¹ˆ &lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math xmlns=&#34;http://www.w3.org/1998/Math/MathML&#34;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;k&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;mi&gt;N&lt;/mi&gt;&lt;mo&gt;âˆ’&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;k=log_2N-1&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.69444em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathnormal&#34; style=&#34;margin-right:0.03148em;&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mrel&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2777777777777778em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.8888799999999999em;vertical-align:-0.19444em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathnormal&#34; style=&#34;margin-right:0.01968em;&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;mord mathnormal&#34;&gt;o&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathnormal&#34; style=&#34;margin-right:0.03588em;&#34;&gt;g&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.30110799999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mord mathnormal&#34; style=&#34;margin-right:0.10903em;&#34;&gt;N&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mbin&#34;&gt;âˆ’&lt;/span&gt;&lt;span class=&#34;mspace&#34; style=&#34;margin-right:0.2222222222222222em;&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.64444em;vertical-align:0em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;ï¼Œè¿™ä¸ªé“¾è¡¨çš„é«˜åº¦å°±æ˜¯ &lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math xmlns=&#34;http://www.w3.org/1998/Math/MathML&#34;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mi&gt;l&lt;/mi&gt;&lt;mi&gt;o&lt;/mi&gt;&lt;msub&gt;&lt;mi&gt;g&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;mi&gt;N&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;log_2N&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.8888799999999999em;vertical-align:-0.19444em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord mathnormal&#34; style=&#34;margin-right:0.01968em;&#34;&gt;l&lt;/span&gt;&lt;span class=&#34;mord mathnormal&#34;&gt;o&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&lt;span class=&#34;mord mathnormal&#34; style=&#34;margin-right:0.03588em;&#34;&gt;g&lt;/span&gt;&lt;span class=&#34;msupsub&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.30110799999999993em;&#34;&gt;&lt;span style=&#34;top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:2.7em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;sizing reset-size6 size3 mtight&#34;&gt;&lt;span class=&#34;mord mtight&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;â€‹&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.15em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mord mathnormal&#34; style=&#34;margin-right:0.10903em;&#34;&gt;N&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;. å¦‚æœæ¯ä¸€å±‚è¦éå†  &lt;code&gt;m&lt;/code&gt;  ä¸ªèŠ‚ç‚¹ï¼Œé‚£ä¹ˆåœ¨è·³è¡¨ä¸­æŸ¥è¯¢ä¸€ä¸ªæ•°æ®çš„æ—¶é—´å¤æ‚åº¦å°±æ˜¯ &lt;code&gt;O(m*logN)&lt;/code&gt; .&lt;/p&gt;
&lt;p&gt;ç”±äºéšæœºåˆ†å¸ƒçš„å­˜åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠ m å½“åšä¸€ä¸ªå¸¸æ•°ï¼Œæ‰€ä»¥ï¼Œæ—¶é—´å¤æ‚åº¦å¤§è‡´å¯ä»¥è®¤ä¸ºæ˜¯  &lt;code&gt;O(logN)&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;ç©ºé—´å¤æ‚åº¦çš„åˆ†æ&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#ç©ºé—´å¤æ‚åº¦çš„åˆ†æ&#34;&gt;#&lt;/a&gt; ç©ºé—´å¤æ‚åº¦çš„åˆ†æ&lt;/h3&gt;
&lt;p&gt;æ ¹æ®æ•´ä½“ä»£ç å®ç°æ¥çœ‹ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†é“¾è¡¨çš„å½¢å¼æ¥å®ç°ã€‚å…¶ä¸­ï¼Œ &lt;code&gt;next&lt;/code&gt;  æ”¹æˆäº†æ•°ç»„ç”¨æ¥å­˜å‚¨ä¸‹ä¸€èŠ‚ç‚¹çš„æŒ‡é’ˆï¼Œå¹¶æ²¡æœ‰çœŸæ­£çš„å­˜å‚¨å¯¹è±¡ï¼Œ. ä¹Ÿå°±æ˜¯è¯´ï¼Œå…¶å®æˆ‘ä»¬å¹¶æ²¡æœ‰ä½¿ç”¨å¾ˆå¤šçš„å†…å­˜ï¼Œå½“ç„¶ï¼Œæ¯”ä¸€èˆ¬çš„é“¾è¡¨è¿˜æ˜¯è¦å¤šä¸€äº›çš„ã€‚å¯¹äºæˆ‘ä»¬å­˜å‚¨çš„å¯¹è±¡æ¥è®²ï¼Œç”¨äºå­˜å‚¨æŒ‡é’ˆçš„å†…å­˜ç›´æ¥å°±å¯ä»¥å¿½ç•¥äº†ã€‚æ—¶é—´å¤æ‚åº¦ä¸º  &lt;code&gt;O(N+m)&lt;/code&gt; , å…¶ä¸­  &lt;code&gt;N&amp;gt;&amp;gt;m&lt;/code&gt; ( &lt;code&gt;N&lt;/code&gt;  è¿œè¿œå¤§äº &lt;code&gt;m&lt;/code&gt; ).&lt;/p&gt;
&lt;h3 id=&#34;æ¯”è¾ƒ&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#æ¯”è¾ƒ&#34;&gt;#&lt;/a&gt; æ¯”è¾ƒ&lt;/h3&gt;
&lt;h4 id=&#34;è·³è¡¨-ä¸å¹³è¡¡æ ‘-å“ˆå¸Œè¡¨çš„æ¯”è¾ƒ&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#è·³è¡¨-ä¸å¹³è¡¡æ ‘-å“ˆå¸Œè¡¨çš„æ¯”è¾ƒ&#34;&gt;#&lt;/a&gt; è·³è¡¨ ä¸å¹³è¡¡æ ‘ã€å“ˆå¸Œè¡¨çš„æ¯”è¾ƒ&lt;/h4&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;è·³è¡¨&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;å¹³è¡¡æ ‘&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;å“ˆå¸Œè¡¨&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;æœ‰åºæ€§&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;æœ‰åº&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;æœ‰åº&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;æ— åº&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;æŸ¥æ‰¾æ€§èƒ½&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;O(logN)&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;O(logN)&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;O(N)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;å®ç°é€»è¾‘&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;ç®€å•&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;å¤æ‚&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;ç®€å•&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;æ˜¯å¦æ”¯æŒèŒƒå›´æŸ¥æ‰¾&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;æ”¯æŒ&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;æ”¯æŒ&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;ä¸æ”¯æŒ (æ— åº)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;æ—¶é—´å¤æ‚åº¦&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;è¾ƒå°‘ï¼Œå–å†³ p å‚æ•°&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;è¾ƒå¤§ (å’Œè·³è¡¨æ¯”ï¼Œå ç”¨å·¦å³å­æ ‘çš„ä¸¤ä¸ªæŒ‡é’ˆ)&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;ä¸€èˆ¬&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&#34;è§£é‡Šå¦‚ä¸‹&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#è§£é‡Šå¦‚ä¸‹&#34;&gt;#&lt;/a&gt; è§£é‡Šå¦‚ä¸‹:&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨åšèŒƒå›´æŸ¥æ‰¾çš„æ—¶å€™ï¼Œå¹³è¡¡æ ‘æ¯”è·³è¡¨æ“ä½œè¦å¤æ‚ã€‚åœ¨å¹³è¡¡æ ‘ä¸Šï¼Œæˆ‘ä»¬æ‰¾åˆ°æŒ‡å®šèŒƒå›´çš„å°å€¼ä¹‹åï¼Œè¿˜éœ€è¦ä»¥ä¸­åºéå†çš„é¡ºåºç»§ç»­å¯»æ‰¾å…¶å®ƒä¸è¶…è¿‡å¤§å€¼çš„èŠ‚ç‚¹ã€‚å¦‚æœä¸å¯¹å¹³è¡¡æ ‘è¿›è¡Œä¸€å®šçš„æ”¹é€ ï¼Œè¿™é‡Œçš„ä¸­åºéå†å¹¶ä¸å®¹æ˜“å®ç°ã€‚è€Œåœ¨è·³è¡¨ä¸Šè¿›è¡ŒèŒƒå›´æŸ¥æ‰¾å°±éå¸¸ç®€å•ï¼Œåªéœ€è¦åœ¨æ‰¾åˆ°å°å€¼ä¹‹åï¼Œå¯¹ç¬¬ &lt;code&gt;1&lt;/code&gt;  å±‚é“¾è¡¨è¿›è¡Œè‹¥å¹²æ­¥çš„éå†å°±å¯ä»¥å®ç°ã€‚&lt;/li&gt;
&lt;li&gt;å¹³è¡¡æ ‘çš„å¢åˆ æ“ä½œå¯èƒ½å¼•å‘å­æ ‘çš„å¹³è¡¡è°ƒæ•´ï¼Œè€Œè·³è¡¨çš„æ’å…¥å’Œåˆ é™¤åªéœ€è¦ä¿®æ”¹ç›¸é‚»èŠ‚ç‚¹çš„æŒ‡é’ˆï¼Œæ“ä½œç®€å•åˆå¿«é€Ÿã€‚&lt;/li&gt;
&lt;li&gt;ä»å†…å­˜å ç”¨ä¸Šæ¥è¯´ï¼Œè·³è¡¨æ¯”å¹³è¡¡æ ‘æ›´çµæ´»ä¸€äº›ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå¹³è¡¡æ ‘æ¯ä¸ªèŠ‚ç‚¹åŒ…å« &lt;code&gt;2&lt;/code&gt;  ä¸ªæŒ‡é’ˆï¼ˆåˆ†åˆ«æŒ‡å‘å·¦å³å­æ ‘ï¼‰ï¼Œè€Œè·³è¡¨æ¯ä¸ªèŠ‚ç‚¹åŒ…å«çš„æŒ‡é’ˆæ•°ç›®å¹³å‡ä¸º &lt;code&gt;1/(1-p)&lt;/code&gt; ï¼Œå…·ä½“å–å†³äºå‚æ•° &lt;code&gt;p&lt;/code&gt;  çš„å¤§å°ã€‚å¦‚æœåƒ &lt;code&gt;Redis&lt;/code&gt;  é‡Œçš„å®ç°ä¸€æ ·ï¼Œå– &lt;code&gt;p=1/4&lt;/code&gt; ï¼Œé‚£ä¹ˆå¹³å‡æ¯ä¸ªèŠ‚ç‚¹åŒ…å« &lt;code&gt;1.33&lt;/code&gt;  ä¸ªæŒ‡é’ˆï¼Œæ¯”å¹³è¡¡æ ‘æ›´æœ‰ä¼˜åŠ¿ã€‚&lt;/li&gt;
&lt;li&gt;æŸ¥æ‰¾å•ä¸ª &lt;code&gt;key&lt;/code&gt; ï¼Œè·³è¡¨å’Œå¹³è¡¡æ ‘çš„æ—¶é—´å¤æ‚åº¦éƒ½ä¸º &lt;code&gt;O(log n)&lt;/code&gt; ï¼Œå¤§ä½“ç›¸å½“ï¼›è€Œå“ˆå¸Œè¡¨åœ¨ä¿æŒè¾ƒä½çš„å“ˆå¸Œå€¼å†²çªæ¦‚ç‡çš„å‰æä¸‹ï¼ŒæŸ¥æ‰¾æ—¶é—´å¤æ‚åº¦æ¥è¿‘ &lt;code&gt;O(1)&lt;/code&gt; ï¼Œæ€§èƒ½æ›´é«˜ä¸€äº›ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æˆ‘è¿˜ä»ç½‘ä¸Šçœ‹åˆ°äº† &lt;code&gt;Redis&lt;/code&gt;  çš„ä½œè€…é€‰æ‹© è·³è¡¨åšä¸º &lt;code&gt;zset&lt;/code&gt;  åº•å±‚æ•°æ®ç»“æ„çš„åŸå› ï¼Œè´´åœ¨ä¸‹é¢ã€‚&lt;/p&gt;
&lt;h4 id=&#34;redisä¸­ä½œè€…é€‰æ‹©skiplistçš„åŸå› &#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#redisä¸­ä½œè€…é€‰æ‹©skiplistçš„åŸå› &#34;&gt;#&lt;/a&gt;  &lt;code&gt;Redis&lt;/code&gt;  ä¸­ä½œè€…é€‰æ‹© SkipList çš„åŸå› :&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;There are a few reasons:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;They are not very memory intensive. Itâ€™s up to you basically. Changing parameters about the probability of a node to have a given number of levels will make then less memory intensive than btrees.&lt;/li&gt;
&lt;li&gt;A sorted set is often target of many ZRANGE or ZREVRANGE operations, that is, traversing the skip list as a linked list. With this operation the cache locality of skip lists is at least as good as with other kind of balanced trees.&lt;/li&gt;
&lt;li&gt;They are simpler to implement, debug, and so forth. For instance thanks to the skip list simplicity I received a patch (already in Redis master) with augmented skip lists implementing ZRANK in O(log(N)). It required little changes to the code.&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;æ€»ç»“&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#æ€»ç»“&#34;&gt;#&lt;/a&gt; æ€»ç»“&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;ç®€å•çš„ä»æ€§èƒ½è§’åº¦åˆ†æäº†æ•°ç»„å’Œé“¾è¡¨åœ¨æ€§èƒ½æ–¹é¢çš„éšœç¢ï¼Œå¼•å‡ºäº†æˆ‘ä»¬ä»Šå¤©çš„ä¸»è§’ï¼š è·³è¡¨ã€‚&lt;/li&gt;
&lt;li&gt;ç”»äº†ä¸€ä¸ªå¯èƒ½å‡ºç°çš„è·³è¡¨ç»“æ„ã€‚è¿™æ˜¯ä¸è·³è¡¨çš„åˆæ¬¡è§é¢ã€‚å¹¶ä»‹ç»äº†äºŒåˆ†æŸ¥æ‰¾çš„å˜ç›¸åº”ç”¨ã€‚å½“å‰ï¼Œè¿™éƒ½æ˜¯åŸºäºæœ‰åºé“¾è¡¨ä¸ºå‰æçš„ã€‚&lt;/li&gt;
&lt;li&gt;ä»‹ç»äº†é“¾è¡¨çš„å±‚çš„æ¦‚å¿µï¼Œè¿™æ˜¯è·³è¡¨ç›¸å¯¹äºé“¾è¡¨æœ€é‡è¦ä¸”å”¯ä¸€çš„æ¦‚å¿µï¼Œæœ‰äº†å®ƒæ‰æœ‰äº†æ—¶é—´å¤æ‚åº¦ä¸º &lt;code&gt;O(logN)&lt;/code&gt;  çš„æŸ¥è¯¢æ•ˆç‡ï¼Œä»è€Œå®ç°äº†å¢åˆ æ“ä½œçš„æ—¶é—´å¤æ‚åº¦ä¹Ÿæ˜¯ &lt;code&gt;O(logN)&lt;/code&gt; ã€‚&lt;/li&gt;
&lt;li&gt;æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä¸€èµ·å®Œæˆäº†è·³è¡¨çš„å®ç°é€»è¾‘ã€‚å¹¶ä¸”æä¾›äº†å¤šç§è¯­è¨€çš„è·³è¡¨å®ç°ç‰ˆæœ¬ã€‚å¸Œæœ›ä½ ä¹Ÿæäº¤ä»£ç åˆ°ä»“åº“ä¸­ï¼Œå¤§å®¶ä¸€èµ·äº¤æµï¼ŒæœŸå¾…ã€‚&lt;/li&gt;
&lt;li&gt;è·³è¡¨åœ¨å‘å±•çš„è¿‡ç¨‹ä¸­ä¹Ÿå‡ºç°å‡ ä¸ªå˜ç§ï¼Œæˆ‘ä»¬çš„è¿™ä¸ªåªæ˜¯ä¸€ä¸ªæœ€ç®€ç­”çš„å®ç°ã€‚ç”šè‡³æˆ‘ä»¬éƒ½æ²¡æœ‰è€ƒè™‘è¿‡å…ƒç´ ä¸ªæ•°ä¸å±‚æ•°çš„æœ€ä¼˜è§£ç­‰ç­‰é—®é¢˜ã€‚åé¢ä¼šæœ‰ä¸€ç¯‡æ–‡ç« åˆ†äº«çš„æ˜¯ &lt;code&gt;Redis&lt;/code&gt;  ä¸­ &lt;code&gt;skiplist&lt;/code&gt;  çš„å®ç°ã€‚æ•¬è¯·æœŸå¾…å§ï½&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;æ¨è&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#æ¨è&#34;&gt;#&lt;/a&gt; æ¨è&lt;/h2&gt;
&lt;p&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cueW91dHViZS5jb20vd2F0Y2g/dj0yZzlPU1JLSnV6TQ==&#34;&gt;æŸé«˜æ ¡è·³è¡¨å…¬å¼€è¯¾ (éœ€ç§‘å­¦ä¸Šç½‘)&lt;/span&gt;&lt;/p&gt;
&lt;h2 id=&#34;æœ€å&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#æœ€å&#34;&gt;#&lt;/a&gt; æœ€å&lt;/h2&gt;
&lt;p&gt;æœŸæœ›ä¸ä½ ä¸€èµ·é‡è§æ›´å¥½çš„è‡ªå·±&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;/images/qrcode.jpg&#34; alt=&#34;æœŸæœ›ä¸ä½ ä¸€èµ·é‡è§æ›´å¥½çš„è‡ªå·±&#34;&gt;&lt;/p&gt;
</content>
        <category term="Redis" />
        <category term="æ•°æ®ç»“æ„" />
        <updated>2021-08-01T16:00:00.000Z</updated>
    </entry>
    <entry>
        <id>https://fangjiaxiaobai.github.io/2021/08/01/Redis%E7%B3%BB%E5%88%97/B-7-Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B9%8BHyperLogLogs/</id>
        <title>Redisæ•°æ®ç»“æ„ä¹‹ `HyperLogLogs`</title>
        <link rel="alternate" href="https://fangjiaxiaobai.github.io/2021/08/01/Redis%E7%B3%BB%E5%88%97/B-7-Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B9%8BHyperLogLogs/"/>
        <content type="html">&lt;h2 id=&#34;ä¹¦æ¥ä¸Šå›&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#ä¹¦æ¥ä¸Šå›&#34;&gt;#&lt;/a&gt; ä¹¦æ¥ä¸Šå›&lt;/h2&gt;
&lt;p&gt;ä¸Šä¸€ç¯‡æˆ‘ä»¬å­¦ä¹ çš„  &lt;code&gt;bitmap&lt;/code&gt;  è¿™ä¸€ &lt;code&gt;â€œæ•°æ®ç±»å‹â€&lt;/code&gt; ã€‚å…¶å†…éƒ¨æ˜¯ç”± &lt;code&gt;sds&lt;/code&gt;  è¿™ç§ç§æ•°æ®ç»“æ„ç¼–ç çš„ã€‚&lt;br&gt;
å¦‚æœä¸è®°å¾—äº†ï¼Œé‚£å°±æ¥åç©¿æ¢­æœºå›å»çœ‹çœ‹å§ã€‚ &lt;a href=&#34;./010-Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B9%8B%E4%BD%8D%E5%9B%BEbitmap.md&#34;&gt;å¼€å§‹ç©¿æ¢­&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ç»§ç»­å­¦ä¹ ä¸€ä¸ªæ–°çš„ &lt;code&gt;&amp;quot;æ•°æ®ç±»å‹&amp;quot;&lt;/code&gt; , ä½å›¾ï¼Œ &lt;code&gt;HyperLogLogs&lt;/code&gt; .ï¼ˆæ³¨æ„å•¦ï¼Œæ•°æ®ç±»å‹ï¼Œæˆ‘åˆåŠ äº†å¼•å·ï¼ï¼ï¼‰&lt;/p&gt;
&lt;h2 id=&#34;hyperloglogsç®€ä»‹&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#hyperloglogsç®€ä»‹&#34;&gt;#&lt;/a&gt;  &lt;code&gt;HyperLogLogs&lt;/code&gt;  ç®€ä»‹&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;HyperLogLog&lt;/code&gt;  æ˜¯ä¸€ç§&lt;b&gt;æ¦‚ç‡æ•°æ®ç»“æ„&lt;/b&gt;ï¼Œç”¨äºå¯¹å”¯ä¸€äº‹ç‰©è¿›è¡Œè®¡æ•°ï¼ˆä»æŠ€æœ¯ä¸Šè®²ï¼Œè¿™æ˜¯æŒ‡ä¼°è®¡é›†åˆçš„åŸºæ•°ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;æ³¨æ„å“¦ï¼Œ  &lt;code&gt;HyperlogLog&lt;/code&gt;  å…¶å®æ˜¯ä¸€ç§åŸºæ•°è®¡æ•°ç®—æ³•ï¼Œå¹¶é &lt;code&gt;Redis&lt;/code&gt;  ç‹¬æœ‰çš„ã€‚&lt;/p&gt;
&lt;p&gt;é€šå¸¸ï¼Œå¯¹å”¯ä¸€é¡¹ç›®è¿›è¡Œè®¡æ•°éœ€è¦ä½¿ç”¨ä¸è¦è®¡æ•°çš„é¡¹ç›®æ•°é‡æˆæ¯”ä¾‹çš„å†…å­˜é‡ï¼Œå› ä¸ºæ‚¨éœ€è¦è®°ä½è¿‡å»å·²ç»çœ‹åˆ°çš„å…ƒç´ ï¼Œä»¥é¿å…å¤šæ¬¡å¯¹å…¶è¿›è¡Œè®¡æ•°ã€‚ä½†æ˜¯ï¼Œæœ‰ä¸€ç»„ç®—æ³•ä¼šä»¥å†…å­˜æ¢å–ç²¾åº¦ï¼šä»¥ &lt;code&gt;Redis&lt;/code&gt;  å®æ–½ä¸ºä¾‹ï¼Œæ‚¨å¾—å‡ºçš„å¸¦æœ‰æ ‡å‡†è¯¯å·®çš„ä¼°è®¡åº¦é‡æœ€ç»ˆä¼šå°äº &lt;code&gt;1ï¼…&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;p&gt;è¯¥ç®—æ³•çš„ç¥å¥‡ä¹‹å¤„åœ¨äºï¼Œæ‚¨ä¸å†éœ€è¦ä½¿ç”¨ä¸æ‰€è®¡æ•°é¡¹ç›®æ•°é‡æˆæ¯”ä¾‹çš„å†…å­˜é‡ï¼Œè€Œå¯ä»¥ä½¿ç”¨æ’å®šæ•°é‡çš„å†…å­˜ï¼åœ¨æœ€åçš„æƒ…å†µä¸‹ä¸º &lt;code&gt;12k&lt;/code&gt;  å­—èŠ‚ï¼Œå¦‚æœæ‚¨çš„ &lt;code&gt;HyperLogLogs&lt;/code&gt;  çœ‹åˆ°çš„å…ƒç´ å¾ˆå°‘ï¼Œè€Œä¸”å°‘å¾—å¤šã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Redis&lt;/code&gt;  ä¸­çš„ &lt;code&gt;HyperLogLog&lt;/code&gt;  å°½ç®¡åœ¨æŠ€æœ¯ä¸Šæ˜¯ä¸åŒçš„æ•°æ®ç»“æ„ï¼Œä½†è¢«ç¼–ç ä¸º &lt;code&gt;Rediså­—ç¬¦ä¸²&lt;/code&gt;  ( &lt;code&gt;sds&lt;/code&gt; )ï¼Œå› æ­¤æ‚¨å¯ä»¥è°ƒç”¨ &lt;code&gt;GET&lt;/code&gt;  æ¥åºåˆ—åŒ– &lt;code&gt;HyperLogLogs&lt;/code&gt; ï¼Œç„¶åè°ƒç”¨ &lt;code&gt;SET&lt;/code&gt;  æ¥å°†å…¶ååºåˆ—åŒ–å›æœåŠ¡å™¨ã€‚è¿™é‡Œæˆ‘ä»¬åœ¨æ–‡æœ«ä¼šå¤§ä½“ç¿»ä¸€ä¸‹æºç ã€‚&lt;/p&gt;
&lt;p&gt;æ¥ä¸‹æ¥æˆ‘ä»¬å…ˆçœ‹ä¸€ä¸‹ HyperLogLog æœ‰ä»€ä¹ˆåº”ç”¨åœºæ™¯ã€‚&lt;/p&gt;
&lt;h3 id=&#34;hyperloglog-çš„åº”ç”¨åœºæ™¯&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#hyperloglog-çš„åº”ç”¨åœºæ™¯&#34;&gt;#&lt;/a&gt;  &lt;code&gt;HyperLogLog&lt;/code&gt;  çš„åº”ç”¨åœºæ™¯&lt;/h3&gt;
&lt;p&gt;æ ¹æ® &lt;code&gt;HyperLogLog&lt;/code&gt;  çš„ç‰¹æ€§æ¥çœ‹ï¼Œä½¿ç”¨äº†ä¸€ç§æ¦‚ç‡æ€§è®¡æ•°çš„åŠŸèƒ½ï¼Œè¿™æ ·çš„åŠŸèƒ½æœ‰ä¸€ä¸ªç‰¹ç‚¹å°±æ˜¯å½“æ•°æ®ç‰¹åˆ«å¤§çš„æ—¶å€™ï¼Œå…¶ç»Ÿè®¡çš„å€¼æ˜¯ä¸å‡†ç¡®çš„ã€‚ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;å°±æ˜¯æ¯”å¦‚ç»Ÿè®¡ä¸€ä¸ªç½‘ç«™çš„ &lt;code&gt;PV&lt;/code&gt; ï¼Œ &lt;code&gt;PV&lt;/code&gt;  æ•°å€¼æ˜¯  &lt;code&gt;123456789&lt;/code&gt;  æˆ–è€…  &lt;code&gt;123456000&lt;/code&gt;  è¿™ä¸¤è€…çš„å€¼å¯¹äºç®¡ç†è€…æ¥è®²æ˜¯ä¸€æ ·çš„ã€‚å¯¹äºä¸€äº›&lt;b&gt;å¯¹ç²¾åº¦è¦æ±‚ä¸å‡†ç¡®è€Œä¸”æ•°æ®é‡å¾ˆå¤§&lt;/b&gt;çš„åœºæ™¯æ˜¯éå¸¸é€‚åˆçš„ã€‚&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚ä»¥ä¸‹åœºæ™¯ï¼šè®¡ç®—ç½‘ç«™çš„ PVï¼ŒUVï¼Œç»Ÿè®¡æ—¥æ´»ï¼Œæœˆæ´»ï¼Œç»Ÿè®¡ç”¨æˆ·æ¯å¤©æœç´¢çš„è¯æ¡æ•°ç­‰ç­‰ã€‚&lt;/p&gt;
&lt;h3 id=&#34;hyperloglog-çš„å¸¸ç”¨å‘½ä»¤&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#hyperloglog-çš„å¸¸ç”¨å‘½ä»¤&#34;&gt;#&lt;/a&gt;  &lt;code&gt;HyperLogLog&lt;/code&gt;  çš„å¸¸ç”¨å‘½ä»¤&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;HyperLogLog&lt;/code&gt;  åº”è¯¥æ˜¯ &lt;code&gt;Redis&lt;/code&gt;  æ‰€æœ‰ç»“æ„ä¸­å‘½ä»¤æœ€å°‘çš„äº†ï¼Œåªæœ‰ä¸‰ä¸ªå‘½ä»¤ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;PFADD key element [element ...]&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ·»åŠ å…ƒç´ ã€‚&lt;br&gt;
å¦‚æœä¸€ä¸ª &lt;code&gt;HyperLogLog&lt;/code&gt;  çš„ä¼°è®¡çš„è¿‘ä¼¼åŸºæ•°åœ¨æ‰§è¡Œå‘½ä»¤è¿‡ç¨‹ä¸­å‘äº†å˜åŒ–ï¼Œ  &lt;code&gt;PFADD&lt;/code&gt;  è¿”å› &lt;code&gt;1&lt;/code&gt; ï¼Œå¦åˆ™è¿”å› &lt;code&gt;0&lt;/code&gt; ï¼Œå¦‚æœæŒ‡å®šçš„ &lt;code&gt;key&lt;/code&gt;  ä¸å­˜åœ¨ï¼Œè¿™ä¸ªå‘½ä»¤ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªç©ºçš„ &lt;code&gt;HyperLogLog&lt;/code&gt;  ç»“æ„ï¼ˆæŒ‡å®šé•¿åº¦å’Œç¼–ç çš„å­—ç¬¦ä¸²ï¼‰.&lt;/p&gt;
&lt;figure class=&#34;highlight r&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; pfadd k96 v1 v2 v3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; pfadd k96 v4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; pfadd k96 v1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; pfadd k96 v2 v3 v4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; &lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;PFCOUNT key [key ...]&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å½“å‚æ•°ä¸ºä¸€ä¸ª &lt;code&gt;key&lt;/code&gt;  æ—¶ï¼Œè¿”å›å­˜å‚¨åœ¨ &lt;code&gt;HyperLogLog&lt;/code&gt;  ç»“æ„ä½“çš„è¯¥å˜é‡çš„è¿‘ä¼¼åŸºæ•°ï¼Œå¦‚æœè¯¥å˜é‡ä¸å­˜åœ¨ï¼Œåˆ™è¿”å› &lt;code&gt;0&lt;/code&gt; .&lt;/p&gt;
&lt;p&gt;å½“å‚æ•°ä¸ºå¤šä¸ª &lt;code&gt;key&lt;/code&gt;  æ—¶ï¼Œè¿”å›è¿™äº› &lt;code&gt;HyperLogLog&lt;/code&gt;  å¹¶é›†çš„è¿‘ä¼¼åŸºæ•°ï¼Œè¿™ä¸ªå€¼æ˜¯å°†æ‰€ç»™å®šçš„æ‰€æœ‰ &lt;code&gt;key&lt;/code&gt;  çš„ &lt;code&gt;HyperLoglog&lt;/code&gt;  ç»“æ„åˆå¹¶åˆ°ä¸€ä¸ªä¸´æ—¶çš„ &lt;code&gt;HyperLogLog&lt;/code&gt;  ç»“æ„ä¸­è®¡ç®—è€Œå¾—åˆ°çš„.&lt;/p&gt;
&lt;figure class=&#34;highlight r&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; pfadd k97 v1 v2 v3 v4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; PFCOUNT k97&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) &lt;span class=&#34;number&#34;&gt;4&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# æµ‹è¯•å¤šä¸ªkey&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; PFCOUNT k97 k96&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) &lt;span class=&#34;number&#34;&gt;4&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; PFADD k97 v5 v6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; PFCOUNT k97 k96&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) &lt;span class=&#34;number&#34;&gt;6&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;åˆšæ‰è¯´äº†ï¼Œ &lt;code&gt;HyperLogLog&lt;/code&gt;  åªæ˜¯å­˜å‚¨æ€»æ•°çš„ä¸€ç§ç»“æ„ï¼Œè€Œä¸”å…¶å€¼ä¹Ÿä¼šå’Œå®é™…å€¼æœ‰åå·®ã€‚æˆ‘ä»¬ä¸€èµ·æ¥éªŒè¯ä¸€ä¸‹è¿™ä¸ªç»“æœ&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å¾€ &lt;code&gt;Redis&lt;/code&gt;  ä¸­æ’å…¥ &lt;code&gt;10000&lt;/code&gt;  æ¡æ•°æ®ï¼ŒæŸ¥çœ‹å…¶  &lt;code&gt;pfcount&lt;/code&gt;  çš„å€¼æ˜¯å¤šå°‘ã€‚&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨ä¸‹é¢è¿™ä¸ªè„šæœ¬å»æ’å…¥ ( &lt;code&gt;java&lt;/code&gt;  å®ç°)ã€‚å…¬ä¼—å·å›å¤  &lt;code&gt;RedisClient&lt;/code&gt;  å¯ä»¥è·å–å®Œæ•´æºç ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;String host = &lt;span class=&#34;string&#34;&gt;&amp;quot;10.1.14.159&amp;quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;int&lt;/span&gt; port = &lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;SocketRedisClient client = &lt;span class=&#34;keyword&#34;&gt;new&lt;/span&gt; SocketRedisClient(host, port);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;String authCmd = client.exec(&lt;span class=&#34;string&#34;&gt;&amp;quot;auth moyang&amp;quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;System.out.println(&lt;span class=&#34;string&#34;&gt;&amp;quot;ç™»å½•éªŒè¯ç»“æœ:&amp;quot;&lt;/span&gt; + authCmd);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;System.out.println(&lt;span class=&#34;string&#34;&gt;&amp;quot;åˆ é™¤å·²ç»å­˜åœ¨çš„key :&amp;quot;&lt;/span&gt; + client.exec(&lt;span class=&#34;string&#34;&gt;&amp;quot;del k97&amp;quot;&lt;/span&gt;));&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;for&lt;/span&gt; (&lt;span class=&#34;keyword&#34;&gt;int&lt;/span&gt; i = &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;; i &amp;lt;= &lt;span class=&#34;number&#34;&gt;10000&lt;/span&gt;; i++) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    String cmd = &lt;span class=&#34;string&#34;&gt;&amp;quot;pfadd k97 &amp;quot;&lt;/span&gt; + i;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    client.exec(cmd);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    String cmd2 = &lt;span class=&#34;string&#34;&gt;&amp;quot;pfcount k97 &amp;quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    String exec = client.exec(cmd2);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    System.out.println(&lt;span class=&#34;string&#34;&gt;&amp;quot;æ‰§è¡Œå‘½ä»¤:&amp;quot;&lt;/span&gt; + cmd + &lt;span class=&#34;string&#34;&gt;&amp;quot; è¿”å›ç»“æœ:&amp;quot;&lt;/span&gt; + exec); &lt;span class=&#34;comment&#34;&gt;// è¿”å›çš„ç»“æœæ˜¯æœªè§£æRedisåè®®çš„ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;client.releases();&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æ’å…¥å®Œæˆä¹‹åï¼Œå¦‚ä¸‹å›¾ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°  &lt;code&gt;pfCount&lt;/code&gt;  çš„ç»“æœæ˜¯  &lt;code&gt;9988&lt;/code&gt; .&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;/images/Redis%E7%B3%BB%E5%88%97/images/pf-%E6%89%A7%E8%A1%8C10000%E6%AC%A1%E6%8F%92%E5%85%A5%E7%BB%93%E6%9E%9C.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœä¸ç›¸ä¿¡æˆ‘ä»¬å¯ä»¥ åœ¨ &lt;code&gt;shell&lt;/code&gt;  é‡Œçœ‹çœ‹ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight r&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; pfcount k97&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) &lt;span class=&#34;number&#34;&gt;9988&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æˆ‘è¿™æ¬¡æµ‹è¯•æ­£å¥½ç›¸ç­‰ï¼Œå…¶å®ç”±äºè„šæœ¬çš„é—®é¢˜å‘¢ï¼Œä»ç¨‹åºé‡Œè·å–çš„å€¼å’Œ &lt;code&gt;shell&lt;/code&gt;  é‡Œè·å–çš„å€¼ï¼Œå¯èƒ½ä¸ä¸€æ ·ï¼Œè¿™ç§æ€ä¹ˆè§£å†³å‘¢ï¼Ÿ ä½¿ç”¨è„šæœ¬å•ç‹¬å†æ‰§è¡Œä¸€æ¬¡ï¼Œå°±ä¼šä¸€æ ·äº†ã€‚å…·ä½“åŸå› ï¼Œä¸èµ˜è¿°äº†ã€‚&lt;/p&gt;
&lt;p&gt;å¥½äº†ï¼Œæˆ‘ä»¬æ’å…¥äº† &lt;code&gt;10000&lt;/code&gt;  æ¬¡ï¼Œä½†æ˜¯å¾—å‡ºçš„å€¼å´æ˜¯  &lt;code&gt;9988&lt;/code&gt; ï¼Œ è¿™ä¹Ÿå°±éªŒè¯äº†å…¶ä¸ç²¾ç¡®æ€§ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;PFMERGE destkey sourcekey [sourcekey ...]&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å°†å¤šä¸ª  &lt;code&gt;HyperLogLog&lt;/code&gt;  åˆå¹¶ï¼ˆ &lt;code&gt;merge&lt;/code&gt; ï¼‰ä¸ºä¸€ä¸ª  &lt;code&gt;HyperLogLog&lt;/code&gt;  ï¼Œ åˆå¹¶åçš„  &lt;code&gt;HyperLogLog&lt;/code&gt;  çš„åŸºæ•°æ¥è¿‘äºæ‰€æœ‰è¾“å…¥  &lt;code&gt;HyperLogLog&lt;/code&gt;  çš„å¯è§é›†åˆï¼ˆ &lt;code&gt;observed set&lt;/code&gt; ï¼‰çš„å¹¶é›†.&lt;/p&gt;
&lt;p&gt;åˆå¹¶å¾—å‡ºçš„  &lt;code&gt;HyperLogLog&lt;/code&gt;  ä¼šè¢«å‚¨å­˜åœ¨ç›®æ ‡å˜é‡ï¼ˆç¬¬ä¸€ä¸ªå‚æ•°ï¼‰é‡Œé¢ï¼Œ å¦‚æœè¯¥é”®å¹¶ä¸å­˜åœ¨ï¼Œ é‚£ä¹ˆå‘½ä»¤åœ¨æ‰§è¡Œä¹‹å‰ï¼Œ ä¼šå…ˆä¸ºè¯¥é”®åˆ›å»ºä¸€ä¸ªç©ºçš„  &lt;code&gt;HyperLogLog&lt;/code&gt; .&lt;/p&gt;
&lt;figure class=&#34;highlight r&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; pfadd k98 v1 v2 v3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; pfadd k98_1 v2 v3 v4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; pfadd k98_2 v3 v4 v5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; pfmerge k98 k98_1 k98_2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;OK&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; pfcount k98&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) &lt;span class=&#34;number&#34;&gt;5&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; pfcount k98_1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) &lt;span class=&#34;number&#34;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; pfcount k98_2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) &lt;span class=&#34;number&#34;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ä»¥ä¸Šå°±æ˜¯  &lt;code&gt;HyperLogLog&lt;/code&gt;  çš„å‘½ä»¤ï¼Œè€è§„çŸ©æˆ‘ä»¬ä¸‹ä¸€æ­¥æ¥çœ‹çœ‹  &lt;code&gt;HyperLogLog&lt;/code&gt;  åœ¨ Redis ä¸­æ˜¯æ€ä¹ˆå®ç°çš„ã€‚&lt;/p&gt;
&lt;h3 id=&#34;hyperloglogçš„ç»“æ„&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#hyperloglogçš„ç»“æ„&#34;&gt;#&lt;/a&gt;  &lt;code&gt;HyperLogLog&lt;/code&gt;  çš„ç»“æ„&lt;/h3&gt;
&lt;p&gt;åœ¨  &lt;code&gt;Clion&lt;/code&gt;  ä¸­ç›´æ¥æŸ¥æ‰¾ &lt;code&gt;hyperloglog&lt;/code&gt;  ï¼Œå°±æ˜¯  &lt;code&gt;hyperloglog&lt;/code&gt;  çš„å®ç°äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;/images/Redis%E7%B3%BB%E5%88%97/images/hyperloglog-%E6%9F%A5%E6%89%BE%E7%9B%AE%E5%BD%95.png&#34; alt=&#34;hyperloglog-æŸ¥æ‰¾ç›®å½•.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æœ‰ä¸€ä¸ª  &lt;code&gt;struct&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight c&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;class&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;title&#34;&gt;hllhdr&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;char&lt;/span&gt; magic[&lt;span class=&#34;number&#34;&gt;4&lt;/span&gt;];      &lt;span class=&#34;comment&#34;&gt;/* é­”æ•°: &amp;quot;HYLL&amp;quot; */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;uint8_t&lt;/span&gt; encoding;   &lt;span class=&#34;comment&#34;&gt;/* HLL_DENSEæˆ–HLL_SPARSE */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;uint8_t&lt;/span&gt; notused[&lt;span class=&#34;number&#34;&gt;3&lt;/span&gt;]; &lt;span class=&#34;comment&#34;&gt;/* ä¿ç•™ä»¥ä¾›å°†æ¥ä½¿ç”¨ï¼Œå¿…é¡»ä¸ºé›¶ã€‚ */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;uint8_t&lt;/span&gt; card[&lt;span class=&#34;number&#34;&gt;8&lt;/span&gt;];    &lt;span class=&#34;comment&#34;&gt;/* ç¼“å­˜åŸºæ•°ï¼Œå°ç«¯ã€‚ */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;uint8_t&lt;/span&gt; registers[]; &lt;span class=&#34;comment&#34;&gt;/* æ•°æ®å­—èŠ‚ã€‚ */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è¿™ä¸ªå°±æ˜¯  &lt;code&gt;HyperLogLog&lt;/code&gt;  çš„å­˜å‚¨ç»“æ„äº†ã€‚è¿™é‡Œå¤§å®¶å¤§ä½“æœ‰ä¸ªå°è±¡å°±å¯ä»¥äº†ã€‚HyperLogLog æ˜¯ä¸€ç§åŸºæ•°ä¼°ç®—ç®—æ³•çš„å®ç°ã€‚åé¢æˆ‘ä»¬ä¼šä»‹ç»è¿™ç§&lt;b&gt;åŸºæ•°ä¼°ç®—æ³•&lt;/b&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&#34;é¢„å‘Š&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#é¢„å‘Š&#34;&gt;#&lt;/a&gt; é¢„å‘Š&lt;/h2&gt;
&lt;p&gt;æœ€åä¸€ä¸ª æ•°æ®ç±»å‹  &lt;code&gt;geohash&lt;/code&gt;  (å¤šç»´ç©ºé—´ç‚¹ç´¢å¼•ç®—æ³•)ï¼ï¼ï¼&lt;/p&gt;
&lt;h2 id=&#34;æœ€å&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#æœ€å&#34;&gt;#&lt;/a&gt; æœ€å&lt;/h2&gt;
&lt;p&gt;å¸Œæœ›ä¸ä½ ä¸€èµ·é‡è§æ›´å¥½çš„è‡ªå·±&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;/images/Redis%E7%B3%BB%E5%88%97/images/qrcode.jpg&#34; alt=&#34;å¾®ä¿¡äºŒç»´ç &#34;&gt;&lt;/p&gt;
</content>
        <category term="Redis" />
        <updated>2021-08-01T10:58:55.000Z</updated>
    </entry>
    <entry>
        <id>https://fangjiaxiaobai.github.io/2021/08/01/Redis%E7%B3%BB%E5%88%97/B-6-Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B9%8B%E4%BD%8D%E5%9B%BEbitmap/</id>
        <title>Redisæ•°æ®ç»“æ„ä¹‹ä½å›¾ BitMap</title>
        <link rel="alternate" href="https://fangjiaxiaobai.github.io/2021/08/01/Redis%E7%B3%BB%E5%88%97/B-6-Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B9%8B%E4%BD%8D%E5%9B%BEbitmap/"/>
        <content type="html">&lt;h2 id=&#34;ä¹¦æ¥ä¸Šå›&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#ä¹¦æ¥ä¸Šå›&#34;&gt;#&lt;/a&gt; ä¹¦æ¥ä¸Šå›&lt;/h2&gt;
&lt;p&gt;ä¸Šä¸€ç¯‡æˆ‘ä»¬å­¦ä¹ çš„  &lt;code&gt;zset&lt;/code&gt;  é›†åˆè¿™ä¸€æ•°æ®ç±»å‹ã€‚å…¶å†…éƒ¨æ˜¯ç”± &lt;code&gt;skiplist&lt;/code&gt;  å’Œ &lt;code&gt;hashtable&lt;/code&gt;  è¿™ç§ä¸¤ç§æ•°æ®ç»“æ„ç¼–ç çš„ã€‚&lt;br&gt;
å¦‚æœä¸è®°å¾—äº†ï¼Œé‚£å°±æ¥åç©¿æ¢­æœºå›å»çœ‹çœ‹å§ã€‚ &lt;a href=&#34;/2021/08/01/Redis%E7%B3%BB%E5%88%97/B-5-Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B9%8B%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88zset/&#34;&gt;å¼€å§‹ç©¿æ¢­&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ç»§ç»­å­¦ä¹ ä¸€ä¸ªæ–°çš„ &lt;code&gt;&amp;quot;æ•°æ®ç±»å‹&amp;quot;&lt;/code&gt; , ä½å›¾ï¼Œ &lt;code&gt;bitmap&lt;/code&gt; .ï¼ˆæ³¨æ„å•¦ï¼Œæ•°æ®ç±»å‹ï¼Œæˆ‘åŠ äº†å¼•å·ï¼ï¼ï¼‰&lt;/p&gt;
&lt;h2 id=&#34;bitmapç®€ä»‹&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#bitmapç®€ä»‹&#34;&gt;#&lt;/a&gt;  &lt;code&gt;bitmap&lt;/code&gt;  ç®€ä»‹&lt;/h2&gt;
&lt;p&gt;é‚£ä¹ˆä»€ä¹ˆæ˜¯ &lt;code&gt;bitmap&lt;/code&gt; , æˆ‘ä»¬å…ˆä»åå­—ä¸Šæ¥è¯´ï¼Œ &lt;code&gt;bit&lt;/code&gt; ï¼Œè®¡ç®—æœºä¸­æœ€å°çš„å•ä½ï¼Œä¸€ä¸ª &lt;code&gt;bit&lt;/code&gt;  è¡¨ç¤ºä¸€ä¸ªäºŒè¿›åˆ¶ä½ã€‚ &lt;code&gt;map&lt;/code&gt; ï¼Œæ˜ å°„ï¼Œå›¾ã€‚æ‰€ä»¥ï¼Œ &lt;code&gt;bitmap&lt;/code&gt;  å°±æ˜¯è¡¨ç¤ºå¯¹äºŒè¿›åˆ¶ä½çš„æ˜ å°„ã€‚é‚£å…·ä½“æ˜¯æ€ä¹ˆå›äº‹å‘¢ï¼Ÿ &lt;code&gt;bitmap&lt;/code&gt;  å…¶å®å°±æ˜¯ä»¥å­—ç¬¦ä¸²çš„å½¢å¼å¯¹äºŒè¿›åˆ¶ä½è¿›è¡Œæ“ä½œï¼Œä»è€Œè¾¾åˆ°èŠ‚çº¦ç©ºé—´å ç”¨çš„ä½œç”¨ã€‚&lt;/p&gt;
&lt;p&gt;è€Œä¸”ï¼Œ &lt;code&gt;bitmap&lt;/code&gt; ï¼Œä¸­æ–‡çš„æ„æ€å°±æ˜¯ä½å›¾ã€‚ ä¸çŸ¥é“ä½ ç”¨æ²¡ç”¨è¿‡ &lt;code&gt;C&lt;/code&gt;  è¯­è¨€çš„ä½å›¾ç»“æ„ï¼Œä»–ä»¬çš„ç›®çš„éƒ½æ˜¯ä¸€æ ·ã€‚&lt;/p&gt;
&lt;p&gt;å¯èƒ½ä½ è¿˜æ˜¯ä¸ç†è§£ï¼Œåˆ«æ€¥ï¼Œå¾€ä¸‹çœ‹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;bitmap&lt;/code&gt;  æ€ä¹ˆç”¨å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;æ°å·§ï¼Œå‰å‡ å¤©å°ç¼–åœ¨é¢è¯•ä¸­è¢«é—®åˆ°è¿‡è¿™ä¸ªé—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;é¢è¯•å®˜è¯´ï¼š &lt;b&gt;æœ‰ä¸ªä¸šåŠ¡åœºæ™¯ï¼šæˆ‘ä»¬è¿™è¾¹æœ‰ 10000 å®¶çº¿ä¸‹é—¨åº—ï¼Œæˆ‘ä»¬è¦å¯¹éƒ¨åˆ†é—¨åº—è¿›è¡Œå¹¿å‘ŠæŠ•æ”¾ï¼Œæ€ä¹ˆè®°å½•æŸæ¡å¹¿å‘ŠæŠ•æ”¾ç»™å“ªå®¶é—¨åº—é‡Œäº†å‘¢ï¼Ÿæˆ‘ä»¬çš„é—¨åº— &lt;code&gt;id&lt;/code&gt;  æ˜¯é€’å¢çš„ã€‚&lt;/b&gt;&lt;/p&gt;
&lt;p&gt;é¦–å…ˆæˆ‘ä»¬å¯ä»¥æœ‰ä¸‰å¼ è¡¨ï¼Œå¹¿å‘Šè¡¨ ( &lt;code&gt;G&lt;/code&gt;  è¡¨)ï¼Œé—¨åº—è¡¨ï¼ˆ &lt;code&gt;M&lt;/code&gt;  è¡¨ï¼‰ï¼Œå¹¿å‘Šé—¨åº—å…³è”è¡¨ï¼ˆ &lt;code&gt;GM&lt;/code&gt;  è¡¨ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæˆ‘ä»¬æŠ•æ”¾å¹¿å‘Šçš„æ—¶å€™ï¼ŒæŠŠæ¯æ¡å¹¿å‘Šå’Œæ¯ä¸ªé—¨åº—çš„å…³è”ä½œä¸ºä¸€æ¡æ•°æ®æ’å…¥åˆ° &lt;code&gt;GM&lt;/code&gt;  è¡¨ä¸­ï¼Œé‚£ä¹ˆè¿™ä¸ªè¡¨ä¸­çš„æ•°æ®é‡å¢é•¿è¿˜æ˜¯éå¸¸å¿«çš„ã€‚å¦‚æœæœ‰ &lt;code&gt;10&lt;/code&gt;  ä¸‡å®¶é—¨åº—å‘¢ï¼Ÿå¹¿å‘Šçš„æŠ•æ”¾å’Œæ’¤é”€æ¯”è¾ƒé¢‘ç¹ã€‚ä¹Ÿå°±æ˜¯è¯´æ•°æ®çš„ä¿®æ”¹ä¹Ÿæ˜¯æ¯”è¾ƒé¢‘ç¹çš„ã€‚é‚£æ€ä¹ˆæå‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;é—¨åº—çš„ &lt;code&gt;id&lt;/code&gt;  æ˜¯é€’å¢çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥è¿™ä¹ˆæï¼Œç”¨ &lt;code&gt;10001&lt;/code&gt;  ä¸ªäºŒè¿›åˆ¶ä½è¡¨ç¤º &lt;code&gt;10000&lt;/code&gt;  å®¶é—¨åº—çš„ idï¼Œå¦‚æœè¯¥é—¨åº—æŠ•æ”¾äº†è¯¥å¹¿å‘Šï¼Œå°±æŠŠè¯¥ä½ç½®ä¸Šçš„æ•°å­—ç½®ä¸º &lt;code&gt;1&lt;/code&gt; ã€‚å¹¶ä¸”æ¯å››ä¸ªå­—èŠ‚è½¬æ¢æˆä¸€ä¸ªæ•´æ•°å‹æ•°ï¼Œå°†ï¼ˆ &lt;code&gt;10000/8/4&lt;/code&gt; ï¼‰ &lt;code&gt;313&lt;/code&gt;  ä¸ªæ•´å½¢æ•°æŒ‰ç…§ä¸€å®šçš„è§„åˆ™è½¬æ¢æˆå­—ç¬¦ä¸²å­˜å‚¨åˆ° &lt;code&gt;GM&lt;/code&gt;  è¡¨ä¸­ã€‚è¡¨ç¤ºä¸€æ¡å¹¿å‘Šå·²ç»æŠ•æ”¾çš„é—¨åº—ã€‚è¿™æ ·æˆ‘ä»¬å°±ä½¿ç”¨äº† &lt;code&gt;0.1kb&lt;/code&gt;  å·¦å³çš„ç©ºé—´è®°å½•äº†æŸæ¡å¹¿å‘ŠæŠ•æ”¾é—¨åº—çš„æƒ…å†µã€‚&lt;/p&gt;
&lt;p&gt;å…¶å®å‘¢ï¼Œè¿™å°±æ˜¯ä½¿ç”¨ &lt;code&gt;bitmap&lt;/code&gt;  è¿›è¡Œå­˜å‚¨çš„ã€‚&lt;/p&gt;
&lt;p&gt;æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬çœ‹ä¸‹å¦‚ä½•ä½¿ç”¨ ä½å›¾ã€‚&lt;/p&gt;
&lt;h2 id=&#34;bitmapçš„åŸºæœ¬å‘½ä»¤&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#bitmapçš„åŸºæœ¬å‘½ä»¤&#34;&gt;#&lt;/a&gt;  &lt;code&gt;bitmap&lt;/code&gt;  çš„åŸºæœ¬å‘½ä»¤&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;SETBIT&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;setbit key offset value&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å¯¹  &lt;code&gt;key&lt;/code&gt;  æ‰€å‚¨å­˜çš„å­—ç¬¦ä¸²å€¼ï¼Œè®¾ç½®æˆ–æ¸…é™¤æŒ‡å®šåç§»é‡ä¸Šçš„ä½ ( &lt;code&gt;bit&lt;/code&gt; )ã€‚&lt;br&gt;
ä½çš„è®¾ç½®æˆ–æ¸…é™¤å–å†³äº  &lt;code&gt;value&lt;/code&gt;  å‚æ•°ï¼Œå¯ä»¥æ˜¯  &lt;code&gt;0&lt;/code&gt;  ä¹Ÿå¯ä»¥æ˜¯  &lt;code&gt;1&lt;/code&gt;  ã€‚&lt;br&gt;
å½“  &lt;code&gt;key&lt;/code&gt;  ä¸å­˜åœ¨æ—¶ï¼Œè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²å€¼ã€‚&lt;br&gt;
å­—ç¬¦ä¸²ä¼šè¿›è¡Œä¼¸å±• ( &lt;code&gt;grown&lt;/code&gt; ) ä»¥ç¡®ä¿å®ƒå¯ä»¥å°†  &lt;code&gt;value&lt;/code&gt;  ä¿å­˜åœ¨æŒ‡å®šçš„åç§»é‡ä¸Šã€‚å½“å­—ç¬¦ä¸²å€¼è¿›è¡Œä¼¸å±•æ—¶ï¼Œç©ºç™½ä½ç½®ä»¥  &lt;code&gt;0&lt;/code&gt;  å¡«å……ã€‚&lt;br&gt;
 &lt;code&gt;offset&lt;/code&gt;  å‚æ•°å¿…é¡»å¤§äºæˆ–ç­‰äº  &lt;code&gt;0&lt;/code&gt;  ï¼Œå°äº  &lt;code&gt;2^32&lt;/code&gt;  ( &lt;code&gt;bit&lt;/code&gt;  æ˜ å°„è¢«é™åˆ¶åœ¨  &lt;code&gt;512 MB&lt;/code&gt;  ä¹‹å†…)ã€‚&lt;/p&gt;
&lt;p&gt;å‡è®¾æˆ‘ä»¬ä½¿ç”¨ ä½å›¾æ¥å­˜å‚¨ &lt;code&gt;Redis&lt;/code&gt;  è¿™ä¸ªå­—ç¬¦ä¸²ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æ¼”ç¤ºè¿™ä¸ªå‘½ä»¤ä¹‹å‰ï¼Œæˆ‘ä»¬é¦–å…ˆæ¥çœ‹ä¸‹ å¦‚ä½•ä½¿ç”¨äºŒè¿›åˆ¶æ¥è¡¨ç¤ºå­—ç¬¦ä¸²ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Redis&lt;/code&gt;  ä¸­çš„  &lt;code&gt;R&lt;/code&gt;  å¯¹åº”  &lt;code&gt;ASCII&lt;/code&gt;  ç æ˜¯:  &lt;code&gt;82&lt;/code&gt; . è½¬åŒ–æˆäºŒè¿›åˆ¶å°±æ˜¯:  &lt;code&gt;0b01010010&lt;/code&gt; , å…¶ä»–å­—ç¬¦ä¾æ¬¡å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;br&gt;
 &lt;code&gt;Redis&lt;/code&gt;  ä¸­çš„  &lt;code&gt;e&lt;/code&gt;  å¯¹åº”  &lt;code&gt;ASCII&lt;/code&gt;  ç æ˜¯:  &lt;code&gt;101&lt;/code&gt; . è½¬åŒ–æˆäºŒè¿›åˆ¶å°±æ˜¯:  &lt;code&gt;0b01100101&lt;/code&gt; ï¼Œ&lt;br&gt;
 &lt;code&gt;Redis&lt;/code&gt;  ä¸­çš„  &lt;code&gt;d&lt;/code&gt;  å¯¹åº”  &lt;code&gt;ASCII&lt;/code&gt;  ç æ˜¯:  &lt;code&gt;100&lt;/code&gt; . è½¬åŒ–æˆäºŒè¿›åˆ¶å°±æ˜¯:  &lt;code&gt;0b01100100&lt;/code&gt; ï¼Œ&lt;br&gt;
 &lt;code&gt;Redis&lt;/code&gt;  ä¸­çš„  &lt;code&gt;i&lt;/code&gt;  å¯¹åº”  &lt;code&gt;ASCII&lt;/code&gt;  ç æ˜¯:  &lt;code&gt;105&lt;/code&gt; . è½¬åŒ–æˆäºŒè¿›åˆ¶å°±æ˜¯:  &lt;code&gt;0b01101001&lt;/code&gt; ï¼Œ&lt;br&gt;
 &lt;code&gt;Redis&lt;/code&gt;  ä¸­çš„  &lt;code&gt;s&lt;/code&gt;  å¯¹åº”  &lt;code&gt;ASCII&lt;/code&gt;  ç æ˜¯:  &lt;code&gt;115&lt;/code&gt; . è½¬åŒ–æˆäºŒè¿›åˆ¶å°±æ˜¯:  &lt;code&gt;0b01110011&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;p&gt;çœ‹åˆ°è¿™é‡Œï¼Œæˆ‘è¦å‘Šè¯‰ä½ ä¸€ä¸ªçŸ¥è¯†ç‚¹ï¼šå¯¹äºä½å›¾çš„æ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥å®ç° &lt;b&gt;  &lt;code&gt;é›¶å­˜æ•´å–&lt;/code&gt;  &lt;/b&gt;ã€‚ ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;æˆ‘æ¥ç»™ä½ æ¼”ç¤ºä¸€ä¸‹&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;/images/Redis%E7%B3%BB%E5%88%97/images/bitmap-R%E7%9A%84%E4%BA%8C%E8%BF%9B%E5%88%B6.png&#34; alt=&#34;Rå¯¹åº”çš„ä½å›¾&#34;&gt;&lt;/p&gt;
&lt;p&gt;å¦‚ä¸Šå›¾ï¼Œ &lt;code&gt;R&lt;/code&gt;  è¿™ä¸ªå­—ç¬¦ï¼Œå¯¹åº”çš„æ¯ä¸ªäºŒè¿›åˆ¶ä¸Šçš„æ•°ã€‚ç”±äºä½å›¾ä¼šè‡ªåŠ¨å¡«å……ç©ºä½ä¸º 0ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦è®¾ç½®äºŒè¿›åˆ¶ä½ä¸Šä¸º &lt;code&gt;1&lt;/code&gt;  çš„å°±å¯ä»¥äº†ã€‚å…·ä½“å‘½ä»¤å¦‚ä¸‹&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; setbit k87 1 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; setbit k87 3 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; setbit k87 6 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; get k87&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;quot;R&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è§£é‡Šä¸€ä¸‹ï¼Œæˆ‘ä»¬æ ¹æ®  &lt;code&gt;R&lt;/code&gt;  æ¯ä¸ªäºŒè¿›åˆ¶ä½ä¸Šæ•°å€¼è®¾ç½®åˆ° k87 ä¸­ï¼Œç„¶åé€šè¿‡ &lt;code&gt;get k87&lt;/code&gt;  è¿™ä¸ªå‘½ä»¤ï¼Œè¿”å›äº†  &lt;code&gt;R&lt;/code&gt; ã€‚ è¿™å°±æ˜¯æ‰€è°“çš„  &lt;code&gt;é›¶å­˜æ•´å–&lt;/code&gt; ã€‚å¦‚æœæˆ‘ç»§ç»­è®¾ç½®å‰©ä¸‹çš„  &lt;code&gt;edis&lt;/code&gt;  å­—ç¬¦ä¸²å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;/images/Redis%E7%B3%BB%E5%88%97/images/bitmap-Redis%E7%9A%84%E4%BA%8C%E8%BF%9B%E5%88%B6.png&#34; alt=&#34;Rediså®Œæ•´çš„ä½å›¾&#34;&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; setbit k87 9 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; setbit k87 10 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; setbit k87 13 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; setbit k87 15 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; setbit k87 17 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; setbit k87 18 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; setbit k87 21 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; setbit k87 25 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; setbit k87 26 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; setbit k87 28 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; setbit k87 31 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; setbit k87 33 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; setbit k87 34 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; setbit k87 35 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; setbit k87 38 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; setbit k87 39 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; get k87&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;quot;Redis&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è¿™é‡Œä½ å°±å¯èƒ½è¯´ï¼Œæœ‰è°ä¼šè¿™æ ·ä½¿ç”¨ï¼Œè‡ªå·±è®¡ç®—å‡ºæ¯ä¸ªä½ï¼Œç„¶åå»è·å–å®Œæ•´çš„ï¼Ÿ æ˜¯å•Šï¼Œä¸è¿‡è¿™é‡Œåªæ˜¯ä¸€ä¸ªä¾‹å­ï¼Œæ¥è¯´æ˜ ä½å›¾  &lt;code&gt;é›¶å­˜æ•´å–&lt;/code&gt;  åŠŸèƒ½ï¼Œæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥ç€çœ‹ ä½å›¾  &lt;code&gt;æ•´å­˜é›¶å–&lt;/code&gt; çš„åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œå‘¢ï¼Œå°±è¦ä»‹ç»  &lt;code&gt;gitbit&lt;/code&gt;  è¿™ä¸ªå‘½ä»¤ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;GETBIT&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;GETBIT key offset&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å¯¹  &lt;code&gt;key&lt;/code&gt;  æ‰€å‚¨å­˜çš„å­—ç¬¦ä¸²å€¼ï¼Œè·å–æŒ‡å®š &lt;code&gt;offset&lt;/code&gt;  ä¸Šçš„ä½ ( &lt;code&gt;bit&lt;/code&gt; ).&lt;/p&gt;
&lt;p&gt;å¦‚æœ &lt;code&gt;key&lt;/code&gt;  ä¸å­˜åœ¨ï¼Œè·å– &lt;code&gt;offset&lt;/code&gt;  è¶…å‡ºèŒƒå›´ï¼Œè¿”å› &lt;code&gt;0&lt;/code&gt; .&lt;/p&gt;
&lt;p&gt;é¦–å…ˆæˆ‘ä»¬è®¾ç½® ä¸€ä¸ª  &lt;code&gt;string&lt;/code&gt;  ç±»å‹çš„å­—ç¬¦ä¸²åˆ° &lt;code&gt;Redis&lt;/code&gt;  ä¸­ï¼Œç„¶åä¾æ¬¡è·å–æ¯ä¸€ä½ä¸Šçš„å€¼ã€‚&lt;/p&gt;
&lt;p&gt;å¯ä»¥å’Œä¸‹å›¾è¿›è¡Œæ¯”å¯¹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;/images/Redis%E7%B3%BB%E5%88%97/images/bitmap-Redis%E7%9A%84%E4%BA%8C%E8%BF%9B%E5%88%B6.png&#34; alt=&#34;Rediså®Œæ•´çš„ä½å›¾&#34;&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;37&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; set k88 Redis&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;OK&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; getbit k88 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; getbit k88 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; getbit k88 2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; getbit k88 3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; getbit k88 4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; getbit k88 5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; getbit k88 6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; getbit k88 7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; getbit k88 8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; getbit k88 9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; getbit k88 10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;bash&#34;&gt; ....&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; getbit k88 38&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; getbit k88 39&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;bash&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# æ¼”ç¤ºè¶…å‡ºèŒƒå›´&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; getbit k88 40&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; getbit k88 41&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; getbit k88 42&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; &lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è¿™ä¸ªå°±æ˜¯ ä½å›¾æä¾›çš„   &lt;code&gt;æ•´å­˜é›¶å–&lt;/code&gt; çš„åŠŸèƒ½äº†ã€‚ç»¼åˆä¸Šé¢çš„ä¸¤é¡¹åŠŸèƒ½ï¼Œæˆ‘ä»¬è½»è€Œæ˜“ä¸¾çš„å°±å¯ä»¥å¾—å‡º Redis çš„ä½å›¾æ˜¯å¯ä»¥  &lt;code&gt;é›¶å­˜é›¶å–&lt;/code&gt; çš„ã€‚å°±æ˜¯ä½¿ç”¨  &lt;code&gt;setbit&lt;/code&gt;  å’Œ  &lt;code&gt;gitbit&lt;/code&gt;  å‘½ä»¤äº†ã€‚è¿™é‡Œå°±ä¸æ¼”ç¤ºäº†ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;BITCOUNT&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;bitCount key [start] [end]&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;è®¡ç®—æŒ‡å®š &lt;code&gt;key&lt;/code&gt;  çš„å¯¹åº”å­—ç¬¦ä¸²ï¼Œè¢«è®¾ç½®ä¸º &lt;code&gt;1&lt;/code&gt;  çš„æ¯”ç‰¹ä½çš„æ•°é‡ã€‚&lt;/p&gt;
&lt;p&gt;è¿˜æ˜¯ä»¥ä¸Šé¢çš„ &lt;code&gt;Redis&lt;/code&gt;  ä¸ºä¾‹ï¼Œä¸€å…±æ˜¯ &lt;code&gt;19&lt;/code&gt;  ä½ &lt;code&gt;1&lt;/code&gt; . æˆ‘ä»¬æ¥æ¼”ç¤ºä¸€ä¸‹&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;bash&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# ä¸å­˜åœ¨çš„æ—¶å€™ï¼Œè¿”å›0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; bitcount k89&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; set k89 Redis&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;OK&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; bitcount k89 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;bash&#34;&gt; æ³¨æ„è¿™é‡Œstart end éƒ½æ˜¯è¡¨ç¤ºå­—èŠ‚ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; bitcount k89 0 1 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è¿™ä¸ªé€‚åˆä»€ä¹ˆåœºæ™¯ä¸‹ä½¿ç”¨å‘¢ï¼Ÿ æ¯”å¦‚ï¼Œæˆ‘ä»¬è¦è®¡ç®—æŸä¸ªç”¨æˆ·ç™»å½•å¤©æ•°ã€‚ç¬¬ä¸€å¤©ç™»å½•çš„æ—¶å€™ï¼Œæˆ‘ä»¬ å¯ä»¥è®¾ç½®  &lt;code&gt;setbit user1 1 1&lt;/code&gt; , ç¬¬äºŒå¤©è®¾ç½®  &lt;code&gt;setbit use1 2 1&lt;/code&gt; , é‚£ä¹ˆä½¿ç”¨  &lt;code&gt;bitcount user1&lt;/code&gt;  å°±èƒ½çŸ¥é“è¯¥ç”¨æˆ·æ€»å…±çš„ç™»å½•å¤©æ•°äº†ï¼Œä¹Ÿèƒ½å¤Ÿè®¡ç®—å‡ºè¯¥ç”¨æˆ·åœ¨å“ªå¤©ç™»å½•äº†ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;BITPOS&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;bitpos key  bit [start] [end]&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;è¿”å› key çš„æŒ‡å®šåŒºæ®µå†…å®¹ï¼Œç¬¬ä¸€ä¸ª bit çš„ä½ç½®ã€‚&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚æˆ‘ä»¬ä»¥  &lt;code&gt;Redis&lt;/code&gt;  ä¸ºä¾‹ï¼Œå¦‚ä¸‹å›¾&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;./images/bitmap-Redis%E7%9A%84%E4%BA%8C%E8%BF%9B%E5%88%B6.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; set key90 Redis&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;OK&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; bitops key90 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(error) ERR unknown command `bitops`, with args beginning with: `key90`, `1`, &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; bitpos key90 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; bitpos key90 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;bash&#34;&gt; è¿™é‡Œçš„startå’Œendä¹ŸæŒ‡çš„æ˜¯å­—èŠ‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; bitpos key90 0 2 10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; bitpos key90 1 2 10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 17&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;BITOP&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;BITOP operation destkey key [key â€¦]&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å¯¹ä¸€ä¸ªæˆ–å¤šä¸ªä¿å­˜äºŒè¿›åˆ¶ä½çš„å­—ç¬¦ä¸² key è¿›è¡Œä½å…ƒæ“ä½œï¼Œå¹¶å°†ç»“æœä¿å­˜åˆ° destkey ä¸Šã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;operation&lt;/code&gt;  å¯ä»¥æ˜¯  &lt;code&gt;AND&lt;/code&gt;  ã€  &lt;code&gt;OR&lt;/code&gt;  ã€  &lt;code&gt;NOT&lt;/code&gt;  ã€  &lt;code&gt;XOR&lt;/code&gt;  è¿™å››ç§æ“ä½œä¸­çš„ä»»æ„ä¸€ç§ï¼š&lt;/p&gt;
&lt;p&gt;&lt;code&gt;BITOP AND destkey key [key ...]&lt;/code&gt;  ï¼Œå¯¹ä¸€ä¸ªæˆ–å¤šä¸ª  &lt;code&gt;key&lt;/code&gt;  æ±‚é€»è¾‘å¹¶ï¼Œå¹¶å°†ç»“æœä¿å­˜åˆ°  &lt;code&gt;destkey&lt;/code&gt;  ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;BITOP OR destkey key [key ...]&lt;/code&gt;  ï¼Œå¯¹ä¸€ä¸ªæˆ–å¤šä¸ª  &lt;code&gt;key&lt;/code&gt;  æ±‚é€»è¾‘æˆ–ï¼Œå¹¶å°†ç»“æœä¿å­˜åˆ°  &lt;code&gt;destkey&lt;/code&gt;  ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;BITOP XOR destkey key [key ...]&lt;/code&gt;  ï¼Œå¯¹ä¸€ä¸ªæˆ–å¤šä¸ª  &lt;code&gt;key&lt;/code&gt;  æ±‚é€»è¾‘å¼‚æˆ–ï¼Œå¹¶å°†ç»“æœä¿å­˜åˆ°  &lt;code&gt;destkey&lt;/code&gt;  ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;BITOP NOT destkey key&lt;/code&gt;  ï¼Œå¯¹ç»™å®š  &lt;code&gt;key&lt;/code&gt;  æ±‚é€»è¾‘éï¼Œå¹¶å°†ç»“æœä¿å­˜åˆ°  &lt;code&gt;destkey&lt;/code&gt;  ã€‚&lt;/p&gt;
&lt;p&gt;é™¤äº†  &lt;code&gt;NOT&lt;/code&gt;  æ“ä½œä¹‹å¤–ï¼Œå…¶ä»–æ“ä½œéƒ½å¯ä»¥æ¥å—ä¸€ä¸ªæˆ–å¤šä¸ª  &lt;code&gt;key&lt;/code&gt;  ä½œä¸ºè¾“å…¥ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œæˆ‘ä»¬åšä¸€ä¸ªç®€å•ä¾‹å­ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight r&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;47&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; setbit k91_1 &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; setbit k91_1 &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; setbit k91_1 &lt;span class=&#34;number&#34;&gt;2&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; setbit k91_1 &lt;span class=&#34;number&#34;&gt;3&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; get k91_1 &lt;span class=&#34;comment&#34;&gt;# 1111 (ä½ä½-&amp;gt;é«˜ä½)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;\xf0&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; setbit k91_2 &lt;span class=&#34;number&#34;&gt;3&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; setbit k91_2 &lt;span class=&#34;number&#34;&gt;4&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; setbit k91_2 &lt;span class=&#34;number&#34;&gt;5&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; get k91_2 &lt;span class=&#34;comment&#34;&gt;# 000111 (ä½ä½-&amp;gt;é«˜ä½)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;\x1c&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;## and æ“ä½œ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; bitop AND k91_d_1 k91_1 k91_2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; get k91_d_1 &lt;span class=&#34;comment&#34;&gt;# 000100 (ä½ä½-&amp;gt;é«˜ä½)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;\x10&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;## OR æ“ä½œ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; bitop OR k91_d_2 k91_1 k91_2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; get k91_d_2 &lt;span class=&#34;comment&#34;&gt;# 111111 (ä½ä½-&amp;gt;é«˜ä½)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;\xfc&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;## XOR äº¦æˆ–æ“ä½œ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; bitop XOR k91_d_3 k91_1 k92_2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; get k91_d_3 &lt;span class=&#34;comment&#34;&gt;# 111011 (ä½ä½-&amp;gt;é«˜ä½)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;\xf0&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;## NOT æ“ä½œ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; bitop NOT k91_d_4 k91_1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; get k91_d_4 &lt;span class=&#34;comment&#34;&gt;# 00001111 (ä½ä½-&amp;gt;é«˜ä½)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;\x0f&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; bitop NOT k91_d_5 k91_2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; get k91_d_5 &lt;span class=&#34;comment&#34;&gt;# 111011 (ä½ä½-&amp;gt;é«˜ä½)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;\xe3&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;BITFIELD&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;BITFIELD key [GET type offset] [SET type offset value] [INCRBY type offset increment] [OVERFLOW WRAP|SAT|FAIL]&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;BITFIELD&lt;/code&gt;  å‘½ä»¤å¯ä»¥å°†ä¸€ä¸ª  &lt;code&gt;Redis&lt;/code&gt;  å­—ç¬¦ä¸²çœ‹ä½œæ˜¯ä¸€ä¸ªç”±äºŒè¿›åˆ¶ä½ç»„æˆçš„æ•°ç»„ï¼Œ å¹¶å¯¹è¿™ä¸ªæ•°ç»„ä¸­å‚¨å­˜çš„é•¿åº¦ä¸åŒçš„æ•´æ•°è¿›è¡Œè®¿é—® ï¼ˆè¢«å‚¨å­˜çš„æ•´æ•°æ— éœ€è¿›è¡Œå¯¹é½ï¼‰ã€‚ æ¢å¥è¯è¯´ï¼Œ é€šè¿‡è¿™ä¸ªå‘½ä»¤ï¼Œ ç”¨æˆ·å¯ä»¥æ‰§è¡Œè¯¸å¦‚ â€œå¯¹åç§»é‡  &lt;code&gt;1234&lt;/code&gt;  ä¸Šçš„  &lt;code&gt;5&lt;/code&gt;  ä½é•¿æœ‰ç¬¦å·æ•´æ•°è¿›è¡Œè®¾ç½®â€ã€ â€œè·å–åç§»é‡  &lt;code&gt;4567&lt;/code&gt;  ä¸Šçš„  &lt;code&gt;31&lt;/code&gt;  ä½é•¿æ— ç¬¦å·æ•´æ•°â€ ç­‰æ“ä½œã€‚ æ­¤å¤–ï¼Œ  &lt;code&gt;BITFIELD&lt;/code&gt;  å‘½ä»¤è¿˜å¯ä»¥å¯¹æŒ‡å®šçš„æ•´æ•°æ‰§è¡ŒåŠ æ³•æ“ä½œå’Œå‡æ³•æ“ä½œï¼Œ å¹¶ä¸”è¿™äº›æ“ä½œå¯ä»¥é€šè¿‡è®¾ç½®å¦¥å–„åœ°å¤„ç†è®¡ç®—æ—¶å‡ºç°çš„æº¢å‡ºæƒ…å†µã€‚&lt;br&gt;
è¿™æ˜¯ä¸€ä¸ªæ¯”è¾ƒå¤æ‚çš„å‘½ä»¤äº†ã€‚æˆ‘ä»¬ä¾æ¬¡æ¥çœ‹çœ‹ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;GET type offset&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;type&lt;/code&gt;  æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ  &lt;code&gt;type&lt;/code&gt;  æ˜¯è¿”å›çš„æ•°å€¼ç±»å‹ã€‚å¯é€‰å€¼æœ‰ï¼š &lt;code&gt;i8&lt;/code&gt; ï¼ˆæœ‰ç¬¦å· &lt;code&gt;8&lt;/code&gt;  ä¸ª &lt;code&gt;bit&lt;/code&gt;  ä½ï¼‰, &lt;code&gt;i16&lt;/code&gt; ï¼ˆæœ‰ç¬¦å· &lt;code&gt;16&lt;/code&gt;  ä¸ª &lt;code&gt;bi&lt;/code&gt; t ä½ï¼‰, &lt;code&gt;u8&lt;/code&gt; ï¼ˆæ— ç¬¦å· &lt;code&gt;8&lt;/code&gt;  ä¸ª &lt;code&gt;bit&lt;/code&gt;  ä½ï¼‰, &lt;code&gt;u16&lt;/code&gt; ï¼ˆæ— ç¬¦å· &lt;code&gt;16&lt;/code&gt;  ä¸ª &lt;code&gt;bit&lt;/code&gt;  ä½ï¼‰,â€¦&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªçš„å‘½ä»¤çš„åŠŸèƒ½å°±æ˜¯è¿”å›æ‰§è¡Œçš„äºŒè¿›åˆ¶çš„èŒƒå›´ï¼Œ&lt;b&gt;offset æ˜¯æŒ‡ç¬¬å‡ ä¸ªäºŒè¿›åˆ¶ä½&lt;/b&gt;ã€‚&lt;br&gt;
æ³¨æ„ï¼š&lt;br&gt;
 &lt;code&gt;BITFIELD&lt;/code&gt;  å‘½ä»¤æœ€å¤§æ”¯æŒ &lt;code&gt;64&lt;/code&gt;  ä½é•¿çš„æœ‰ç¬¦å·æ•´æ•°ä»¥åŠ  &lt;code&gt;63&lt;/code&gt;  ä½é•¿çš„æ— ç¬¦å·æ•´æ•°ï¼Œ å…¶ä¸­æ— ç¬¦å·æ•´æ•°çš„  &lt;code&gt;63&lt;/code&gt;  ä½é•¿åº¦é™åˆ¶æ˜¯ç”±äº  &lt;code&gt;Redis&lt;/code&gt;  åè®®ç›®å‰è¿˜æ— æ³•è¿”å›  &lt;code&gt;64&lt;/code&gt;  ä½é•¿çš„æ— ç¬¦å·æ•´æ•°è€Œå¯¼è‡´çš„ã€‚&lt;/p&gt;
&lt;p&gt;ç”¨ä¸‹é¢è¿™ä¸ªä¾‹å­æ¥æ¼”ç¤ºä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight r&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; set k92 Redis&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;OK&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; bitfield k92 get i8 &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;) (integer) &lt;span class=&#34;number&#34;&gt;82&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; bitfield k92 get u8 &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;) (integer) &lt;span class=&#34;number&#34;&gt;82&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; bitfield k92 get i16 &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;) (integer) &lt;span class=&#34;number&#34;&gt;21093&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; bitfield k92 get u16 &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;) (integer) &lt;span class=&#34;number&#34;&gt;21093&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ç»“åˆä¸Šé¢çš„é‚£å¼ å›¾ï¼Œæˆ‘ä»¬çœ‹ä¸‹&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;/images/Redis%E7%B3%BB%E5%88%97/images/bitmap-Redis%E7%9A%84%E4%BA%8C%E8%BF%9B%E5%88%B6.png&#34; alt=&#34;Redisçš„bitmapå›¾&#34;&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬æ‰‹åŠ¨çš„å°†å‰ &lt;code&gt;8&lt;/code&gt;  ä¸ª &lt;code&gt;bit&lt;/code&gt;  ä½è£…æ¢æˆ &lt;code&gt;10&lt;/code&gt;  è¿›åˆ¶ï¼Œå°±æ˜¯ &lt;code&gt;82&lt;/code&gt; ã€‚é«˜ä½ä¸º &lt;code&gt;0&lt;/code&gt; ï¼Œæ‰€ä»¥æ­¤æ—¶ï¼Œ &lt;code&gt;u8&lt;/code&gt;  å’Œ &lt;code&gt;i8&lt;/code&gt;  çš„å€¼æ˜¯ä¸€æ ·çš„ã€‚åŒæ ·çš„  &lt;code&gt;u16&lt;/code&gt; , &lt;code&gt;i16&lt;/code&gt; , &lt;code&gt;u24&lt;/code&gt; , &lt;code&gt;u48&lt;/code&gt; , å¤§å®¶å¯ä»¥è‡ªè¡ŒéªŒè¯ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;SET type offset value&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™ä¸ªå‘½ä»¤æ˜¯å’Œ &lt;code&gt;GET&lt;/code&gt;  å‘½ä»¤ç›¸åçš„ä¸€ä¸ªå‘½ä»¤ã€‚&lt;/p&gt;
&lt;p&gt;ç›´æ¥ç”¨ä¸€ä¸ªä¾‹å­æ¥æ¼”ç¤ºä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight r&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; bitfield k93 SET u8 &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;82&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;) (integer) &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; get k93&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;R&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; bitfield k93 SET u8 &lt;span class=&#34;number&#34;&gt;8&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;101&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;) (integer) &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; get k93&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;Re&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; bitfield k93 SET u8 &lt;span class=&#34;number&#34;&gt;16&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;100&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;) (integer) &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; get k93&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;Red&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# ... &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# å‰©ä¸‹çš„iå’Œsï¼Œå¤§å®¶è‡ªå·±è¯•ä¸€ä¸‹å§&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;INCRBY type offset increment&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä»åˆ¶å®šçš„åç§»ä½å¼€å§‹ï¼Œå¢åŠ  &lt;code&gt;increment&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;p&gt;ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;æ¥æ¼”ç¤ºä¸€ä¸‹:&lt;/p&gt;
&lt;p&gt;å­—ç¬¦ &lt;code&gt;A&lt;/code&gt;  çš„ &lt;code&gt;ASCII&lt;/code&gt;  ç æ˜¯ &lt;code&gt;65&lt;/code&gt; ï¼Œ &lt;code&gt;R&lt;/code&gt;  æ˜¯ &lt;code&gt;82&lt;/code&gt; ï¼Œå¦‚æœä» &lt;code&gt;A&lt;/code&gt;  å˜æˆ &lt;code&gt;R&lt;/code&gt; ï¼Œéœ€è¦å¢åŠ  &lt;code&gt;17&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight r&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; set k94 A&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;OK&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; bitfield k94 INCRBY u8 &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;17&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;) (integer) &lt;span class=&#34;number&#34;&gt;82&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; get k94&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;R&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; bitfield k94 INCRBY u8 &lt;span class=&#34;number&#34;&gt;8&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;101&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;) (integer) &lt;span class=&#34;number&#34;&gt;101&lt;/span&gt;get&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; get k94&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;Re&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;OVERFLOW WRAP|SAT|FAIL&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™æ˜¯ &lt;code&gt;bitmap&lt;/code&gt;  å¯¹  &lt;code&gt;INCRBY&lt;/code&gt;  å‘½ä»¤æ‰§è¡Œæ—¶ï¼Œå‘ç”Ÿå¼‚å¸¸è¡Œä¸ºçš„æ§åˆ¶ã€‚&lt;/p&gt;
&lt;p&gt;ç”¨æˆ·å¯ä»¥é€šè¿‡  &lt;code&gt;OVERFLOW&lt;/code&gt;  å‘½ä»¤ä»¥åŠä»¥ä¸‹å±•ç¤ºçš„ä¸‰ä¸ªå‚æ•°ï¼Œ æŒ‡å®š  &lt;code&gt;BITFIELD&lt;/code&gt;  å‘½ä»¤åœ¨æ‰§è¡Œè‡ªå¢æˆ–è€…è‡ªå‡æ“ä½œæ—¶ï¼Œ ç¢°ä¸Šå‘ä¸Šæº¢å‡ºï¼ˆ &lt;code&gt;overflow&lt;/code&gt; ï¼‰æˆ–è€…å‘ä¸‹æº¢å‡ºï¼ˆ &lt;code&gt;underflow&lt;/code&gt; ï¼‰æƒ…å†µæ—¶çš„è¡Œä¸ºï¼š&lt;/p&gt;
&lt;p&gt;&lt;code&gt;WRAP&lt;/code&gt;  ï¼š ä½¿ç”¨å›ç»•ï¼ˆ &lt;code&gt;wrap around&lt;/code&gt; ï¼‰æ–¹æ³•å¤„ç†æœ‰ç¬¦å·æ•´æ•°å’Œæ— ç¬¦å·æ•´æ•°çš„æº¢å‡ºæƒ…å†µã€‚ å¯¹äºæ— ç¬¦å·æ•´æ•°æ¥è¯´ï¼Œ å›ç»•å°±åƒä½¿ç”¨æ•°å€¼æœ¬èº«ä¸èƒ½å¤Ÿè¢«å‚¨å­˜çš„æœ€å¤§æ— ç¬¦å·æ•´æ•°æ‰§è¡Œå–æ¨¡è®¡ç®—ï¼Œ è¿™ä¹Ÿæ˜¯  &lt;code&gt;C&lt;/code&gt;  è¯­è¨€çš„æ ‡å‡†è¡Œä¸ºã€‚ å¯¹äºæœ‰ç¬¦å·æ•´æ•°æ¥è¯´ï¼Œ ä¸Šæº¢å°†å¯¼è‡´æ•°å­—é‡æ–°ä»æœ€å°çš„è´Ÿæ•°å¼€å§‹è®¡ç®—ï¼Œ è€Œä¸‹æº¢å°†å¯¼è‡´æ•°å­—é‡æ–°ä»æœ€å¤§çš„æ­£æ•°å¼€å§‹è®¡ç®—ã€‚ æ¯”å¦‚è¯´ï¼Œ å¦‚æœæˆ‘ä»¬å¯¹ä¸€ä¸ªå€¼ä¸º  &lt;code&gt;127&lt;/code&gt;  çš„  &lt;code&gt;i8&lt;/code&gt;  æ•´æ•°æ‰§è¡ŒåŠ ä¸€æ“ä½œï¼Œ é‚£ä¹ˆå°†å¾—åˆ°ç»“æœ  &lt;code&gt;-128&lt;/code&gt;  ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;SAT&lt;/code&gt;  ï¼š ä½¿ç”¨é¥±å’Œè®¡ç®—ï¼ˆ &lt;code&gt;saturation arithmetic&lt;/code&gt; ï¼‰æ–¹æ³•å¤„ç†æº¢å‡ºï¼Œ ä¹Ÿå³æ˜¯è¯´ï¼Œ ä¸‹æº¢è®¡ç®—çš„ç»“æœä¸ºæœ€å°çš„æ•´æ•°å€¼ï¼Œ è€Œä¸Šæº¢è®¡ç®—çš„ç»“æœä¸ºæœ€å¤§çš„æ•´æ•°å€¼ã€‚ ä¸¾ä¸ªä¾‹å­ï¼Œ å¦‚æœæˆ‘ä»¬å¯¹ä¸€ä¸ªå€¼ä¸º  &lt;code&gt;120&lt;/code&gt;  çš„  &lt;code&gt;i8&lt;/code&gt;  æ•´æ•°æ‰§è¡ŒåŠ   &lt;code&gt;10&lt;/code&gt;  è®¡ç®—ï¼Œ é‚£ä¹ˆå‘½ä»¤çš„ç»“æœå°†ä¸º  &lt;code&gt;i8&lt;/code&gt;  ç±»å‹æ‰€èƒ½å‚¨å­˜çš„æœ€å¤§æ•´æ•°å€¼  &lt;code&gt;127&lt;/code&gt;  ã€‚ ä¸æ­¤ç›¸åï¼Œ å¦‚æœä¸€ä¸ªé’ˆå¯¹  &lt;code&gt;i8&lt;/code&gt;  å€¼çš„è®¡ç®—é€ æˆäº†ä¸‹æº¢ï¼Œ é‚£ä¹ˆè¿™ä¸ª i8 å€¼å°†è¢«è®¾ç½®ä¸º  &lt;code&gt;-127&lt;/code&gt;  ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;FAIL&lt;/code&gt;  ï¼š åœ¨è¿™ä¸€æ¨¡å¼ä¸‹ï¼Œ å‘½ä»¤å°†æ‹’ç»æ‰§è¡Œé‚£äº›ä¼šå¯¼è‡´ä¸Šæº¢æˆ–è€…ä¸‹æº¢æƒ…å†µå‡ºç°çš„è®¡ç®—ï¼Œ å¹¶å‘ç”¨æˆ·è¿”å›ç©ºå€¼è¡¨ç¤ºè®¡ç®—æœªè¢«æ‰§è¡Œã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬æ¼”ç¤ºä¸€ä¸‹è¿™å‡ ç§æƒ…å†µ&lt;/p&gt;
&lt;figure class=&#34;highlight r&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# ä½¿ç”¨ WRAP æ–¹å¼ï¼Œé‡å¤æ‰§è¡Œç›¸åŒçš„å‘½ä»¤ï¼Œåœ¨ä¸€ä¸ª2bitä¸Šï¼Œä» 0,1,2,3 æ¥å›æŠ˜è¿”ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; bitfield k95_1 OVERFLOW WRAP incrby u2 &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;) (integer) &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; bitfield k95_1 OVERFLOW WRAP incrby u2 &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;) (integer) &lt;span class=&#34;number&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; bitfield k95_1 OVERFLOW WRAP incrby u2 &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;) (integer) &lt;span class=&#34;number&#34;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; bitfield k95_1 OVERFLOW WRAP incrby u2 &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;) (integer) &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; bitfield k95_1 OVERFLOW WRAP incrby u2 &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;) (integer) &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; bitfield k95_1 OVERFLOW WRAP incrby u2 &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;) (integer) &lt;span class=&#34;number&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; bitfield k95_1 OVERFLOW WRAP incrby u2 &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;) (integer) &lt;span class=&#34;number&#34;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# ä½¿ç”¨ SAT æ–¹å¼ï¼Œå½“è¦å‘ç”Ÿæº¢å‡ºçš„æ—¶å€™ï¼Œä¸å†æ‰§è¡Œã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; bitfield k95_2 OVERFLOW SAT incrby u2 &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;) (integer) &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; bitfield k95_2 OVERFLOW SAT incrby u2 &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;) (integer) &lt;span class=&#34;number&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; bitfield k95_2 OVERFLOW SAT incrby u2 &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;) (integer) &lt;span class=&#34;number&#34;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; bitfield k95_2 OVERFLOW SAT incrby u2 &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;) (integer) &lt;span class=&#34;number&#34;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; bitfield k95_2 OVERFLOW SAT incrby u2 &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;) (integer) &lt;span class=&#34;number&#34;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; bitfield k95_2 OVERFLOW SAT incrby u2 &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;) (integer) &lt;span class=&#34;number&#34;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; bitfield k95_2 OVERFLOW SAT incrby u2 &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;) (integer) &lt;span class=&#34;number&#34;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# ä½¿ç”¨FAILæ¨¡å¼ï¼Œåˆ™è¿”å›(nil)ï¼Œä¸æ‰§è¡Œä¸”è¿”å›nil&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;127.0&lt;/span&gt;.0.1:&lt;span class=&#34;number&#34;&gt;6379&lt;/span&gt;&amp;gt; bitfield k95 OVERFLOW FAIL incrby u2 &lt;span class=&#34;number&#34;&gt;102&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;) (nil)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;code&gt;BITFIELD&lt;/code&gt;  å‘½ä»¤çš„ä½œç”¨åœ¨äºå®ƒèƒ½å¤Ÿå°†å¾ˆå¤šå°çš„æ•´æ•°å‚¨å­˜åˆ°ä¸€ä¸ªé•¿åº¦è¾ƒå¤§çš„ä½å›¾ä¸­ï¼Œ åˆæˆ–è€…å°†ä¸€ä¸ªéå¸¸åºå¤§çš„é”®åˆ†å‰²ä¸ºå¤šä¸ªè¾ƒå°çš„é”®æ¥è¿›è¡Œå‚¨å­˜ï¼Œ ä»è€Œéå¸¸é«˜æ•ˆåœ°ä½¿ç”¨å†…å­˜ï¼Œ ä½¿å¾— Redis èƒ½å¤Ÿå¾—åˆ°æ›´å¤šä¸åŒçš„åº”ç”¨ â€”â€” ç‰¹åˆ«æ˜¯åœ¨å®æ—¶åˆ†æé¢†åŸŸï¼š  &lt;code&gt;BITFIELD&lt;/code&gt;  èƒ½å¤Ÿä»¥æŒ‡å®šçš„æ–¹å¼å¯¹è®¡ç®—æº¢å‡ºè¿›è¡Œæ§åˆ¶çš„èƒ½åŠ›ï¼Œ ä½¿å¾—å®ƒå¯ä»¥è¢«åº”ç”¨äºè¿™ä¸€é¢†åŸŸã€‚&lt;/p&gt;
&lt;p&gt;ä»¥ä¸Šå°±æ˜¯ &lt;code&gt;Redis&lt;/code&gt;  ä¸­ &lt;code&gt;bitmap&lt;/code&gt;  ç›¸å…³çš„å‘½ä»¤äº†ã€‚ä¸‹é¢æˆ‘ç®€å•çš„æ¥çœ‹ä¸‹ bitmap è¿™ç§ &lt;code&gt;&amp;quot;æ•°æ®ç»“æ„&amp;quot;&lt;/code&gt;  æ˜¯å¦‚ä½•å®ç°çš„ã€‚&lt;/p&gt;
&lt;p&gt;æ³¨æ„ï¼Œè¿™é‡Œçš„æ•°æ®ç»“æ„æˆ‘è¿˜æ˜¯åŠ ä¸Šäº†å¼•å·ã€‚å…·ä½“ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ&lt;/p&gt;
&lt;h3 id=&#34;bitmap-çš„å®ç°&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#bitmap-çš„å®ç°&#34;&gt;#&lt;/a&gt;  &lt;code&gt;bitmap&lt;/code&gt;  çš„å®ç°&lt;/h3&gt;
&lt;p&gt;è¯ä¸å¤šè¯´ï¼Œæˆ‘ä»¬ç›´æ¥å»çœ‹çœ‹æºç ä¸­æ˜¯æ€ä¹ˆå®ç°çš„ã€‚ç›´æ¥æœæ–‡ä»¶  &lt;code&gt;bit&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;/images/Redis%E7%B3%BB%E5%88%97/images/bitmap-%E6%9F%A5%E6%89%BE%E7%9B%AE%E5%BD%95.png&#34; alt=&#34;bitmap-æŸ¥æ‰¾ç›®å½•&#34;&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬è¦çœ‹ &lt;code&gt;src&lt;/code&gt;  ç›®å½•ä¸‹çš„ï¼Œæ‰€ä»¥ï¼Œç›´æ¥çœ‹ &lt;code&gt;bitops.c&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;è¿™é‡Œæˆ‘ä»¬å°±æ˜¯ä»¥ä¸€ä¸ªå‘½ä»¤ &lt;code&gt;setbit&lt;/code&gt;  ä¸ºä¾‹ç®€å•çš„æ¥çœ‹çœ‹ &lt;code&gt;bitmap&lt;/code&gt;  çš„è¿è¡Œè¿‡ç¨‹ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight c&#34;&gt;&lt;figcaption&gt;&lt;span&gt;&amp;#123;.line-numbers&amp;#125;&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;45&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;/**&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt; * SETBIT å‘½ä»¤çš„å®ç°&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt; * @param c å®¢æˆ·ç«¯å¯¹è±¡&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt; */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;function&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;title&#34;&gt;setbitCommand&lt;/span&gt;&lt;span class=&#34;params&#34;&gt;(client *c)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    robj *o; &lt;span class=&#34;comment&#34;&gt;///  setbit key offset value ä¸­çš„ keyå¯¹åº”çš„Redis Objectã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;char&lt;/span&gt; *err = &lt;span class=&#34;string&#34;&gt;&amp;quot;bit is not an integer or out of range&amp;quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;size_t&lt;/span&gt; bitoffset; &lt;span class=&#34;comment&#34;&gt;/// æŒ‡å®šè¦ä¿®æ”¹çš„ä½çš„åç§»é‡&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;ssize_t&lt;/span&gt; byte, bit;  &lt;span class=&#34;comment&#34;&gt;/// byte: è¦ä¿®æ”¹çš„ä½ æ‰€å çš„å­—èŠ‚ã€‚ç¬¬byteä¸ªå­—èŠ‚ä¸Šã€‚ bitï¼Œåœ¨æ‰€å å­—èŠ‚ä¸­çš„ç¬¬bitä½ä¸Šã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;int&lt;/span&gt; byteval, bitval; &lt;span class=&#34;comment&#34;&gt;/// byteval: è¦ä¿®æ”¹çš„ä½æ‰€å çš„å­—èŠ‚çš„å€¼ã€‚åè¿›åˆ¶æ•°ã€‚  bitVal æ˜¯åŸæ¥çš„æŒ‡å®šbitä¸Šçš„å€¼&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;long&lt;/span&gt; on; &lt;span class=&#34;comment&#34;&gt;/// ä¿®æ”¹çš„å€¼ã€‚å°±æ˜¯ setbit key offset value ä¸­çš„valueã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;/// è§£æ offset å‚æ•°ï¼Œæ˜¯å¦ç¬¦åˆè§„èŒƒ(æ˜¯å¦ä½è´Ÿæ•°ï¼Œæ˜¯å¦è¶…è¿‡512M)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (getBitOffsetFromArgument(c, c-&amp;gt;argv[&lt;span class=&#34;number&#34;&gt;2&lt;/span&gt;], &amp;amp;bitoffset, &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;, &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;) != C_OK)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;/// è§£æ value å‚æ•° =&amp;gt; èµ‹å€¼ç»™onå˜é‡&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (getLongFromObjectOrReply(c, c-&amp;gt;argv[&lt;span class=&#34;number&#34;&gt;3&lt;/span&gt;], &amp;amp;on, err) != C_OK)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;/// éªŒè¯on(value)åªèƒ½æ˜¯0æˆ–è€…1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (on &amp;amp; ~&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        addReplyError(c, err);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;/// è¿”å›keyå¯¹åº”çš„å¯¹è±¡&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;/// è¯¥å¯¹è±¡æ˜¯ä¸€ä¸ªOBJ_STRINGç±»å‹&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; ((o = lookupStringForBitCommand(c, bitoffset)) == &lt;span class=&#34;literal&#34;&gt;NULL&lt;/span&gt;) &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;/// è·å–å½“å‰ä½ç½®ä¸Šçš„å€¼&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    byte = bitoffset &amp;gt;&amp;gt; &lt;span class=&#34;number&#34;&gt;3&lt;/span&gt;; &lt;span class=&#34;comment&#34;&gt;/// è®¡ç®—å‡ºå­—èŠ‚ï¼Œç¡®å®šoffsetæ‰€åœ¨çš„å­—èŠ‚ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    byteval = ((&lt;span class=&#34;keyword&#34;&gt;uint8_t&lt;/span&gt; *) o-&amp;gt;ptr)[byte]; &lt;span class=&#34;comment&#34;&gt;/// å°†æŒ‡å®šå­—èŠ‚ä¸Šçš„æ•°è½¬æ¢æˆæ— ç¬¦å·æ•´å‹æ•°ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    bit = &lt;span class=&#34;number&#34;&gt;7&lt;/span&gt; - (bitoffset &amp;amp; &lt;span class=&#34;number&#34;&gt;0x7&lt;/span&gt;); &lt;span class=&#34;comment&#34;&gt;/// è®¡ç®—è¦ä¿®æ”¹çš„ä½ï¼Œæ˜¯å½“å‰å­—èŠ‚ä¸­çš„ç¬¬å‡ ä½ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    bitval = byteval &amp;amp; (&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt; &amp;lt;&amp;lt; bit); &lt;span class=&#34;comment&#34;&gt;/// è®¡ç®—å‡ºä¿®æ”¹åçš„å€¼ã€‚(bitValæ˜¯ä¿®æ”¹åçš„æ•´ä¸ªå­—èŠ‚ä¸Šå€¼)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;/* Update byte with new bit value and return original value */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;/// æ›´æ–° String çš„å€¼ä¸º bitValï¼Œå¹¶ä¸”è¿”å›åŸæ¥çš„å€¼ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    byteval &amp;amp;= ~(&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt; &amp;lt;&amp;lt; bit); &lt;span class=&#34;comment&#34;&gt;/// å°†å­—èŠ‚ä¸ŠåŸæ¥çš„å€¼ï¼ŒæŒ‡å®šä½ä¸Šç½®ä¸º0.(å³è¦èµ‹å€¼çš„ä½ï¼Œbitä¸ºå½“å‰å­—èŠ‚ä¸­çš„ä½ã€‚)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    byteval |= ((on &amp;amp; &lt;span class=&#34;number&#34;&gt;0x1&lt;/span&gt;) &amp;lt;&amp;lt; bit); &lt;span class=&#34;comment&#34;&gt;/// å°†onçš„å€¼å¤åˆ¶ç»™byteVal,å–æˆ–è¿ç®—ï¼Œå¦‚æœonä¸º1ï¼Œåˆ™1ï¼Œè‹¥onä¸º0ï¼Œåˆ™0ï¼Œä¸Šä¸€è¡Œä»£ç å·²ç»å°†æŒ‡å®šä½ç½®ç½®ä¸ºäº†0.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ((&lt;span class=&#34;keyword&#34;&gt;uint8_t&lt;/span&gt; *) o-&amp;gt;ptr)[byte] = byteval; &lt;span class=&#34;comment&#34;&gt;/// ä¿®æ”¹å¯¹è±¡ä¸­æŒ‡å®šå­—èŠ‚çš„å€¼ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    signalModifiedKey(c-&amp;gt;db, c-&amp;gt;argv[&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;]); &lt;span class=&#34;comment&#34;&gt;/// é€šçŸ¥ä¿®æ”¹äº†keyã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    notifyKeyspaceEvent(NOTIFY_STRING, &lt;span class=&#34;string&#34;&gt;&amp;quot;setbit&amp;quot;&lt;/span&gt;, c-&amp;gt;argv[&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;], c-&amp;gt;db-&amp;gt;id);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    server.dirty++; &lt;span class=&#34;comment&#34;&gt;// ä»ä¸Šæ¬¡ä¿å­˜åˆ°æ•°æ®åº“çš„æ›´æ”¹æ¬¡æ•°&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    addReply(c, bitval ? shared.cone : shared.czero); &lt;span class=&#34;comment&#34;&gt;/// è¿”å›åŸæ¥çš„å€¼&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ä¸Šé¢ä»£ç å°±æ˜¯  &lt;code&gt;setBit&lt;/code&gt;  å‘½ä»¤çš„å®ç°è¿‡ç¨‹äº†ï¼Œè¿™ç¯‡æ–‡ç« ä¸­æˆ‘ä»¬ä¸åšç ”ç©¶&lt;b&gt;æˆ‘ä»¬åªçœ‹ç¬¬ &lt;code&gt;27&lt;/code&gt;  è¡Œ&lt;/b&gt;. è¿™ä¸€è¡Œä¸­æœ‰ä¸€ä¸ª  &lt;code&gt;lookupStringForBitCommand&lt;/code&gt;  æ–¹æ³•ã€‚åœ¨è¿™é‡Œæˆ‘ä»¬çŒœæµ‹ä¸€ä¸‹ï¼Œ&lt;b&gt; &lt;code&gt;bitmap&lt;/code&gt;  å…¶å®å°±æ˜¯ä¸€ä¸ª  &lt;code&gt;OBJ_STRING&lt;/code&gt;  ç±»å‹çš„ç»“æ„&lt;/b&gt;ã€‚&lt;/p&gt;
&lt;p&gt;åˆ°åº•æ˜¯ä¸æ˜¯å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;çœ‹ä¸€ä¸‹æºç ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight c&#34;&gt;&lt;figcaption&gt;&lt;span&gt;&amp;#123;.line-numbers&amp;#125;&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;/**&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt; * è¿™æ˜¯ç”¨äºéœ€è¦å°†ä½å†™å…¥å­—ç¬¦ä¸²å¯¹è±¡çš„å‘½ä»¤å®ç°çš„è¾…åŠ©å‡½æ•°ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt; *&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt; * å¦åˆ™ï¼Œå¦‚æœå¯†é’¥æŒæœ‰é”™è¯¯çš„ç±»å‹ï¼Œåˆ™è¿”å›NULLï¼Œå¹¶ä¸”*å‘å®¢æˆ·ç«¯å‘é€é”™è¯¯ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt; * è¯¥å‘½ä»¤åˆ›å»ºæˆ–å¡«å……å­—ç¬¦ä¸²é›¶ï¼Œä»¥ä¾¿å¯ä»¥å¯»å€â€œ maxbitâ€ä½ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt; * è¯¥å¯¹è±¡æœ€ç»ˆè¿”å›ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt; * å¦åˆ™ï¼Œå¦‚æœå¯†é’¥æŒæœ‰é”™è¯¯çš„ç±»å‹ï¼Œåˆ™è¿”å›NULLå¹¶å°†é”™è¯¯å‘é€ç»™å®¢æˆ·ç«¯ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt; */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;function&#34;&gt;robj *&lt;span class=&#34;title&#34;&gt;lookupStringForBitCommand&lt;/span&gt;&lt;span class=&#34;params&#34;&gt;(client *c, &lt;span class=&#34;keyword&#34;&gt;size_t&lt;/span&gt; maxbit)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;size_t&lt;/span&gt; byte = maxbit &amp;gt;&amp;gt; &lt;span class=&#34;number&#34;&gt;3&lt;/span&gt;; &lt;span class=&#34;comment&#34;&gt;// è®¡ç®—å­—èŠ‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;/// ä¸ºå†™æ“ä½œæ‰¾å‡ºä¸€ä¸ªkeyã€‚ ã€setbit key offset valueã€‘ä¸­argv[1] å³ä¸ºkey&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    robj *o = lookupKeyWrite(c-&amp;gt;db, c-&amp;gt;argv[&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;]);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;/// æ˜¯å¦æ‰¾åˆ°äº†key&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (o == &lt;span class=&#34;literal&#34;&gt;NULL&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;comment&#34;&gt;/// æ²¡æœ‰æ‰¾åˆ°ã€‚ åˆ›å»ºä¸€ä¸ªå¯¹è±¡å†™å…¥ã€‚å¯¹è±¡ä¸ºOBJ_STRINGç±»å‹ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        o = createObject(OBJ_STRING, sdsnewlen(&lt;span class=&#34;literal&#34;&gt;NULL&lt;/span&gt;, byte + &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;));&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        dbAdd(c-&amp;gt;db, c-&amp;gt;argv[&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;], o);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125; &lt;span class=&#34;keyword&#34;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;comment&#34;&gt;/// æ‰¾åˆ°äº†keyå¯¹è±¡ï¼Œå¦‚æœä¸æ˜¯ OBJ_STRING ç±»å‹ç›´æ¥è¿”å›ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (checkType(c, o, OBJ_STRING)) &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;literal&#34;&gt;NULL&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;comment&#34;&gt;/// è·å–è¦ä¿®æ”¹çš„å¯¹è±¡ã€‚ä¸Šä¸€è¡Œä»£ç å·²ç»è¿›è¡Œäº†åˆ¤æ–­ï¼Œç¡®å®šå…¶ä¸º OBJ_STRING ç±»å‹ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        o = dbUnshareStringValue(c-&amp;gt;db, c-&amp;gt;argv[&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;], o);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;comment&#34;&gt;/// å¢åŠ  STRINGç±»å‹çš„é•¿åº¦&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        o-&amp;gt;ptr = sdsgrowzero(o-&amp;gt;ptr, byte + &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt; o;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;åœ¨ç¬¬ &lt;code&gt;17&lt;/code&gt;  è¡Œå’Œç¬¬ &lt;code&gt;23&lt;/code&gt;  è¡Œã€‚å°±å¾ˆæ¸…æ¥šäº†ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œåœ¨æ–‡ç« ä¸€å¼€å§‹åŠ ä¸Šå¼•å·çš„ æ•°æ®ç»“æ„ ï¼Œè°œé¢˜å°±è§£å¼€äº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;b&gt; &lt;code&gt;bitmap&lt;/code&gt;  å¹¶ä¸æ˜¯ä¸€ä¸ªæ–°çš„æ•°æ®ç»“æ„ï¼Œæœ¬è´¨ä¸Šæ˜¯ç”¨  &lt;code&gt;STRING&lt;/code&gt;  è¿™ä¸ªæ•°æ®ç»“æ„æ¥å®ç°çš„ã€‚&lt;/b&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ æƒ³çœ‹ &lt;code&gt;bitmap&lt;/code&gt;  çš„å…¨éƒ¨æºç ï¼Œé‚£ä¹ˆæ»¡è¶³ä½ ï¼ï¼ğŸ‘‰ğŸ‘‰ &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRlZS5jb20vZmFuZ2ppYXhpYW9iYWkvcmVkaXMuZ2l0&#34;&gt;ç‚¹å‡»è¿™é‡Œ&lt;/span&gt;ğŸ‘ˆğŸ‘ˆ&lt;/p&gt;
&lt;p&gt;&lt;b&gt;å…¬ä¼—å·é‡Œå›å¤  &lt;code&gt;redisæºç &lt;/code&gt; ï¼Œå³å¯è·å–å®Œæ•´è·¯å¾„å“¦&lt;/b&gt;&lt;/p&gt;
&lt;p&gt;è™½ç„¶ redis æºç ä¸æ˜¯æˆ‘å†™çš„ï¼Œä½†æ˜¯æˆ‘çœ‹è¿‡çš„éƒ½åŠ ä¸Šæ³¨é‡Šå•¦ï½&lt;/p&gt;
&lt;p&gt;é™¤æ­¤ä¹‹å¤–ï¼Œå°ç™½è¿˜è‡ªå·±å®ç°äº†ä¸€ä¸ª  &lt;code&gt;bitmap&lt;/code&gt; ã€‚æ„Ÿå…´è¶£çš„æœ‹å‹æ¬¢è¿  &lt;code&gt;star&lt;/code&gt; .ğŸ‘‰ğŸ‘‰ &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL2ZhbmdqaWF4aWFvYmFpL2NvZGVfcmVwby9ibG9iL21hc3Rlci8wMV9kYXRhX3N0cnVjdHVyZXMvYml0bWFwL2JpdG1hcC9CaXRNYXAuamF2YQ==&#34;&gt;bitMap æºç ï¼Œç‚¹å‡»è¿™é‡Œ&lt;/span&gt; ğŸ‘ˆğŸ‘ˆ&lt;/p&gt;
&lt;p&gt;&lt;b&gt;å…¬ä¼—å·é‡Œå›å¤  &lt;code&gt;bitmap&lt;/code&gt; , å³å¯è·å–å®Œæ•´è·¯å¾„å“¦&lt;/b&gt;&lt;/p&gt;
&lt;p&gt;å½“ç„¶: JDK ä¹Ÿæä¾›äº†ä¸€ä¸ª &lt;code&gt;BitMap&lt;/code&gt;  çš„å®ç°ï¼Œå« &lt;code&gt;BitSet&lt;/code&gt; ï¼Œä½äº &lt;code&gt;java.util&lt;/code&gt;  åŒ…ä¸‹ã€‚å…¶åº•å±‚ä½¿ç”¨çš„æ˜¯ä¸€ä¸ª &lt;code&gt;long&lt;/code&gt;  ç±»å‹çš„æ•°ç»„ï¼Œä¸€ä¸ª &lt;code&gt;long&lt;/code&gt;  ä»£è¡¨ä¸€ä¸ª &lt;code&gt;word&lt;/code&gt; ã€‚ä½† &lt;code&gt;BitSet&lt;/code&gt;  æ²¡æœ‰è§£å†³ä¸Šé¢æåˆ°çš„è¾“å…¥ç¨€ç–çš„é—®é¢˜ã€‚è°·æ­Œå¼€æºçš„ &lt;code&gt;EWAHCompressedBitMap&lt;/code&gt;  è§£å†³äº†è¾“å…¥ç¨€ç–çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œæˆ‘ä»¬æ€»ç»“ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;code&gt;Redis&lt;/code&gt;  çš„æ•°æ®ç±»å‹&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;åº•å±‚å®ç°ç»“æ„&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;æ–‡ç« å‚è€ƒ&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;STRING&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;sds&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;a href=&#34;https://mp.weixin.qq.com/s/0sGGSYe5zYNiLUrK5XTsWQ&#34;&gt;æ•°æ®ç±»å‹ä¹‹ &lt;code&gt;String&lt;/code&gt; &lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;list&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;quicklist&lt;/code&gt; ,  &lt;code&gt;ziplist&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;a href=&#34;https://mp.weixin.qq.com/s/n9fzELpKXR1d02yn0usyvg&#34;&gt;æ•°æ®ç±»å‹ä¹‹ &lt;code&gt;list&lt;/code&gt; &lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;hash&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;ziplist&lt;/code&gt; ,  &lt;code&gt;dict&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;a href=&#34;https://mp.weixin.qq.com/s/bQ-jnUuHKLC8-M4G8HpZ9w&#34;&gt;æ•°æ®ç±»å‹ä¹‹ &lt;code&gt;hash&lt;/code&gt; &lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;set&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;dict&lt;/code&gt;  , &lt;code&gt;intset&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;a href=&#34;https://mp.weixin.qq.com/s/qK-CujsG43kAjGpgXYhQWg&#34;&gt;æ•°æ®ç±»å‹ä¹‹ &lt;code&gt;set&lt;/code&gt; &lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;zset&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;dict&lt;/code&gt; ,  &lt;code&gt;skipList&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;a href=&#34;https://mp.weixin.qq.com/s/4fyT9XCLv2MYCtB1WH0Jvg&#34;&gt;æ•°æ®ç±»å‹ä¹‹ &lt;code&gt;zset&lt;/code&gt; &lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;code&gt;bitmap&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;code&gt;sds&lt;/code&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;a href=&#34;#&#34;&gt;æ•°æ®ç±»å‹ä¹‹ &lt;code&gt;bitmap&lt;/code&gt; &lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;æœ€å&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#æœ€å&#34;&gt;#&lt;/a&gt; æœ€å&lt;/h2&gt;
&lt;p&gt;å¸Œæœ›ä¸ä½ ä¸€èµ·é‡è§æ›´å¥½çš„è‡ªå·±&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;/images/Redis%E7%B3%BB%E5%88%97/images/qrcode.jpg&#34; alt=&#34;å¾®ä¿¡äºŒç»´ç &#34;&gt;&lt;/p&gt;
</content>
        <category term="Redis" />
        <updated>2021-08-01T10:48:55.000Z</updated>
    </entry>
    <entry>
        <id>https://fangjiaxiaobai.github.io/2021/08/01/Redis%E7%B3%BB%E5%88%97/B-5-Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B9%8B%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88zset/</id>
        <title>Redisæ•°æ®ç»“æ„ä¹‹æœ‰åºé›†åˆ zset</title>
        <link rel="alternate" href="https://fangjiaxiaobai.github.io/2021/08/01/Redis%E7%B3%BB%E5%88%97/B-5-Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B9%8B%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88zset/"/>
        <content type="html">&lt;h2 id=&#34;ä¹¦æ¥ä¸Šå›&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#ä¹¦æ¥ä¸Šå›&#34;&gt;#&lt;/a&gt; ä¹¦æ¥ä¸Šå›&lt;/h2&gt;
&lt;p&gt;ä¸Šä¸€ç¯‡æˆ‘ä»¬å­¦ä¹ çš„  &lt;code&gt;set&lt;/code&gt;  é›†åˆè¿™ä¸€æ•°æ®ç±»å‹ã€‚å…¶å†…éƒ¨æ˜¯ç”± &lt;code&gt;inset&lt;/code&gt;  å’Œ &lt;code&gt;hashtable&lt;/code&gt;  è¿™ç§ä¸¤ç§æ•°æ®ç»“æ„ç¼–ç çš„ã€‚&lt;br&gt;
å¦‚æœä¸è®°å¾—äº†ï¼Œé‚£å°±æ¥åç©¿æ¢­æœºå›å»çœ‹çœ‹å§ã€‚ &lt;a href=&#34;/2021/08/01/Redis%E7%B3%BB%E5%88%97/B-4-Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B9%8B%E9%9B%86%E5%90%88set/&#34;&gt;å¼€å§‹ç©¿æ¢­&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ç»§ç»­å­¦ä¹ ä¸€ä¸ªæ–°çš„æ•°æ®ç±»å‹ï¼Œæœ‰åºé›†åˆ.  &lt;code&gt;zset&lt;/code&gt; .&lt;/p&gt;
&lt;h2 id=&#34;zsetç®€ä»‹&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#zsetç®€ä»‹&#34;&gt;#&lt;/a&gt;  &lt;code&gt;zset&lt;/code&gt;  ç®€ä»‹&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;zset&lt;/code&gt;  , ä¸­æ–‡åå­—å« æœ‰åºé›†åˆã€‚åºè¿™ä¸ªå­—ï¼Œåœ¨ &lt;code&gt;Redis&lt;/code&gt;  çš„å®ç°æ˜¯  &lt;code&gt;score&lt;/code&gt;  å­—æ®µã€‚æˆ‘ä»¬å…ˆä¸æ€¥è¿™ä¸ªå­—æ®µï¼Œåé¢ä¼šä»‹ç»ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ &lt;code&gt;Redis&lt;/code&gt;  ä¸­æœ‰åºçš„æ•°æ®ç±»å‹ï¼Œè¿˜æœ‰ä¸€ä¸ªå°±æ˜¯æˆ‘ä»¬å‰é¢å­¦ä¹ çš„  &lt;code&gt;list&lt;/code&gt;  äº†ã€‚ å®ƒä»¬è¿˜éƒ½å¯ä»¥è·å¾—æŸä¸€å®šèŒƒå›´å†…çš„å…ƒç´ ã€‚&lt;/p&gt;
&lt;p&gt;è€Œ  &lt;code&gt;zset&lt;/code&gt;  çš„ä¼˜ç‚¹æ˜¯ï¼š  &lt;code&gt;list&lt;/code&gt;  é€šè¿‡é“¾è¡¨å®ç°ï¼Œåœ¨ä¸¤ç«¯æ“ä½œæ•°æ®éƒ½å¾ˆæ–¹ä¾¿ã€‚ä½†æ˜¯æ“ä½œä¸­é—´çš„æ•°æ®å°±æ¯”è¾ƒæ…¢äº†ã€‚  &lt;code&gt;zset&lt;/code&gt;  æ˜¯ç”¨  &lt;code&gt;hashtable&lt;/code&gt;  å’Œ  &lt;code&gt;skiplist&lt;/code&gt;  æ¥å®ç°çš„ã€‚å³ä½¿æ˜¯æ“ä½œä¸­é—´æ•°æ®ï¼Œé€Ÿåº¦ä¹Ÿå¾ˆå¿«ã€‚æ—¶é—´å¤æ‚åº¦ä¸º:  &lt;code&gt;O(logN)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;zset&lt;/code&gt;  çš„ç¼ºç‚¹å°±æ˜¯ï¼šå°±æ˜¯æ¯”è¾ƒè€—è´¹å†…å­˜ã€‚&lt;/p&gt;
&lt;h2 id=&#34;zsetç±»å‹çš„åº”ç”¨åœºæ™¯&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#zsetç±»å‹çš„åº”ç”¨åœºæ™¯&#34;&gt;#&lt;/a&gt;  &lt;code&gt;zset&lt;/code&gt;  ç±»å‹çš„åº”ç”¨åœºæ™¯&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;å­˜å‚¨å­¦ç”Ÿæˆç»©å¿«é€Ÿåšæˆç»©æ’ååŠŸèƒ½ã€‚&lt;/li&gt;
&lt;li&gt;æ’è¡Œæ¦œï¼Œæ¯”å¦‚ï¼šåˆ—å‡ºæŸç”¨æˆ·å½“å‰çš„å…¨çƒæ’åï¼Œæ¯”èµ›ä¸­èƒœåœºæ•°æ’åã€‚&lt;/li&gt;
&lt;li&gt;å¸¦æƒé‡çš„æ¶ˆæ¯é˜Ÿåˆ—åŠŸèƒ½&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;zsetçš„åŸºæœ¬å‘½ä»¤&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#zsetçš„åŸºæœ¬å‘½ä»¤&#34;&gt;#&lt;/a&gt;  &lt;code&gt;zset&lt;/code&gt;  çš„åŸºæœ¬å‘½ä»¤&lt;/h2&gt;
&lt;h3 id=&#34;zadd&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#zadd&#34;&gt;#&lt;/a&gt;  &lt;code&gt;zadd&lt;/code&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;ZADD key [NX|XX] [CH] [INCR] score member [score member ...]&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å°† &lt;code&gt;member&lt;/code&gt;  æ·»åŠ æœ‰åºé›†åˆä¸­.&lt;/p&gt;
&lt;p&gt;å¦‚æœ &lt;code&gt;member&lt;/code&gt;  å­˜åœ¨ï¼Œä¼šæ›´æ–° &lt;code&gt;member&lt;/code&gt;  çš„ &lt;code&gt;score&lt;/code&gt;  å€¼ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;NX&lt;/code&gt;  è¡¨ç¤ºå­˜åœ¨ç›¸åŒçš„ &lt;code&gt;member&lt;/code&gt;  å°±ä¼šè®¾ç½®å¤±è´¥ï¼ŒNX çš„ä½œç”¨å°±æ˜¯ æ–°å¢ &lt;code&gt;member&lt;/code&gt; ï¼Œä¸ä¼šä¿®æ”¹ &lt;code&gt;Member&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;XX&lt;/code&gt;  è¡¨ç¤ºä¸å­˜åœ¨ç›¸åŒçš„ &lt;code&gt;member&lt;/code&gt;  å°±ä¼šè®¾ç½®å¤±è´¥ã€‚æ‰€ä»¥:  &lt;code&gt;XX&lt;/code&gt;  æ€»æ˜¯æ›´æ–°å…ƒç´ ã€‚ä¸ä¼šæ–°å¢å…ƒç´ &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;CH&lt;/code&gt; ( &lt;code&gt;change&lt;/code&gt; ): è¿”å›ä¿®æ”¹çš„å…ƒç´ ä¸ªæ•°ã€‚æ›´æ”¹çš„å…ƒç´ æ˜¯æ·»åŠ çš„æ–°å…ƒç´ ä»¥åŠå·²ä¸ºå…¶æ›´æ–°åˆ†æ•°çš„ç°æœ‰å…ƒç´ ã€‚å› æ­¤ï¼Œå‘½ä»¤è¡Œä¸­æŒ‡å®šçš„å…·æœ‰ä¸è¿‡å»ç›¸åŒåˆ†æ•°çš„å…ƒç´ å°†ä¸è®¡ç®—åœ¨å†…ã€‚æ³¨æ„ï¼šé€šå¸¸ï¼Œ &lt;code&gt;ZADD&lt;/code&gt;  çš„è¿”å›å€¼ä»…è®¡ç®—æ·»åŠ çš„æ–°å…ƒç´ çš„æ•°é‡ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;INCR&lt;/code&gt; : æŒ‡å®šæ­¤é€‰é¡¹åï¼Œ &lt;code&gt;ZADD&lt;/code&gt;  çš„è¡Œä¸ºç±»ä¼¼äº&lt;a href=&#34;#ZINCRBY&#34;&gt; &lt;code&gt;ZINCRBY&lt;/code&gt; &lt;/a&gt;ã€‚åœ¨æ­¤æ¨¡å¼ä¸‹åªèƒ½æŒ‡å®šä¸€å¯¹å¾—åˆ†å…ƒç´ ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ¼”ç¤º&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;63&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;bash&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# è®¾ç½®ä¸€ä¸ªå…ƒç´ &lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZADD k67 1 m1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;bash&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# è®¾ç½®å¤šä¸ªå…ƒç´ &lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZADD k67 2 m2 3 m3 4 m4 5 m5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;bash&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# æ¼”ç¤º NX è¯­ä¹‰,åªèƒ½æ–°å¢.&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZADD k67 NX 5 m5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZADD k67 NX 6 m6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZADD k67 NX 6 m6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;bash&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# æ¼”ç¤º XX è¯­è¨€,åªèƒ½ä¿®æ”¹&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZADD k67 XX 7 m7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZADD k67 7 m7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;bash&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# è¿›è¡Œä¿®æ”¹ï¼Œæ³¨æ„è¿”å›å€¼. å¦‚æœè¦è¿”å›ä¸ªæ•°ï¼Œåˆ™åŠ  CH&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZADD k67 XX 7 m7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZADD k67 XX 77 m7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;bash&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# æ¼”ç¤ºCH, è¿”å›ä¿®æ”¹çš„ä¸ªæ•°&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZADD k67 CH 8 m8 9 m9 10 m10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZADD k67 CH 8 m8 999 m9 10 m10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;bash&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# æ¼”ç¤ºINCR, å¢é•¿&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZADD k67 11 m11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;bash&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# æ­¤æ—¶ score è¡¨ç¤ºçš„æ˜¯æ­¥é•¿&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZADD k67 INCR 10 m11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;quot;21&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;bash&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# æŸ¥çœ‹è®¾ç½®çš„å€¼ã€‚&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZRANGE k67 0 -1 WITHSCORES&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 1) &amp;quot;m1&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 2) &amp;quot;1&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 3) &amp;quot;m2&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 4) &amp;quot;2&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 5) &amp;quot;m3&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 6) &amp;quot;3&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 7) &amp;quot;m4&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 8) &amp;quot;4&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 9) &amp;quot;m5&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10) &amp;quot;5&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11) &amp;quot;m6&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12) &amp;quot;6&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13) &amp;quot;m8&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14) &amp;quot;8&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15) &amp;quot;m10&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16) &amp;quot;10&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17) &amp;quot;m11&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18) &amp;quot;21&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19) &amp;quot;m7&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20) &amp;quot;77&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21) &amp;quot;m9&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22) &amp;quot;999&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;zscore&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#zscore&#34;&gt;#&lt;/a&gt;  &lt;code&gt;zscore&lt;/code&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;ZSCORE key member&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;zset score&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;æŸ¥çœ‹å¯¹åº”å…ƒç´ çš„ &lt;code&gt;score&lt;/code&gt;  å€¼&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;* å½“`key`ä¸å­˜åœ¨æˆ–è€…`member`ä¸å­˜åœ¨çš„æ—¶å€™,è¿”å›`(nil)`
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;è¿”å› &lt;code&gt;score&lt;/code&gt;  çš„å€¼ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# éªŒè¯k68ä¸å­˜åœ¨çš„æ—¶å€™ï¼Œè¿”å›nil&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZSCORE k68 m1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(nil)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZADD k68 1 m1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# è¿”å›å…ƒç´ çš„scoreå€¼&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZSCORE k68 m1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# éªŒè¯ member ä¸å­˜åœ¨çš„æ—¶å€™ï¼Œè¿”å›&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZSCORE k68 m2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(nil)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;zincrby&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#zincrby&#34;&gt;#&lt;/a&gt;  &lt;code&gt;zincrby&lt;/code&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;ZINCRBY key increment member&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;zset increment by&lt;/code&gt; &lt;br&gt;
*  &lt;code&gt;increment&lt;/code&gt; : æ­¥é•¿ã€‚&lt;br&gt;
*  &lt;code&gt;member&lt;/code&gt; : æŒ‡å®šçš„æˆå‘˜&lt;/p&gt;
&lt;p&gt;ä¸ºæœ‰åºé›†åˆ &lt;code&gt;key&lt;/code&gt;  çš„æˆå‘˜ &lt;code&gt;member&lt;/code&gt;  çš„ &lt;code&gt;score&lt;/code&gt;  å€¼åŠ ä¸Š  &lt;code&gt;increment&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœ &lt;code&gt;key&lt;/code&gt;  æˆ–è€… &lt;code&gt;member&lt;/code&gt;  ä¸å­˜åœ¨ï¼Œåˆ™æ–°å¢ä¸€ä¸ªå…ƒç´ ã€‚ç›¸å½“äº  &lt;code&gt;zadd&lt;/code&gt; .&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# æ’å…¥ä¸€ä¸ªä¸å­˜åœ¨çš„keyã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZINCRBY k69 10 m1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;10&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZRANGE k69 0 -1 WITHSCORES&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;m1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;10&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;#ç´¯åŠ &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZINCRBY k69 10 m1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;20&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZRANGE k69 0 -1 WITHSCORES&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;m1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;20&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# ç´¯åŠ ä¸€ä¸ªè´Ÿæ•°&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZINCRBY k69 -30 m1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;-10&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZRANGE k69 0 -1 WITHSCORES&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;m1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;-10&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;zcard&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#zcard&#34;&gt;#&lt;/a&gt;  &lt;code&gt;zcard&lt;/code&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;ZCARD key&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿”å› æœ‰åºé›†åˆçš„ &lt;code&gt;key&lt;/code&gt;  ä¸­çš„å…ƒç´ ä¸ªæ•°ã€‚å³ &lt;code&gt;member&lt;/code&gt;  çš„ä¸ªæ•°ã€‚&lt;br&gt;
ä¸å­˜åœ¨çš„æ—¶å€™ï¼Œè¿”å› &lt;code&gt;0&lt;/code&gt; .&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;bash&#34;&gt; è¿”å›memberçš„ä¸ªæ•°&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZADD k70 1 m1 2 m2 3 m3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZCARD k70&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZADD k70 4 m4 5 m5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZCARD k70&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;bash&#34;&gt; ä¸å­˜åœ¨çš„æ—¶å€™ï¼Œè¿”å›0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; EXISTS k70_1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZCARD k70_1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 0&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;zcount&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#zcount&#34;&gt;#&lt;/a&gt;  &lt;code&gt;zcount&lt;/code&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;ZCOUNT key min max&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿”å›  &lt;code&gt;score&lt;/code&gt;  å€¼åœ¨ &lt;code&gt;min&lt;/code&gt;  å’Œ  &lt;code&gt;max&lt;/code&gt;  ä¹‹é—´çš„å…ƒç´ çš„ä¸ªæ•°ã€‚åŒ…æ‹¬ç­‰äº  &lt;code&gt;min&lt;/code&gt;  å’Œ  &lt;code&gt;max&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZADD k71 1 m1 2 m2 3 m3 4 m4 5 m5 6 m6 7 m7 8 m8 9 m9 10 m10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZCOUNT k71 2 5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;#ä¸å­˜åœ¨çš„keyæˆ–è€…ä¸åœ¨åŒºé—´å†…æ—¶ï¼Œè¿”å›0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; zcount k71_1 0 10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; zcount k71 11 12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; zcount k71 12 11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; &lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;zrange&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#zrange&#34;&gt;#&lt;/a&gt;  &lt;code&gt;zrange&lt;/code&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;ZRANGE key start stop [WITHSCORES]&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™ä¸ªå‘½ä»¤æˆ‘ä»¬å·²ç»ç”¨è¿‡ï¼Œå°±æ˜¯è¿”å›æŒ‡å®šå¼€å§‹ç»“æŸä½ç½®ä¸Šçš„å…ƒç´ ã€‚ä»  &lt;code&gt;0&lt;/code&gt;  å¼€å§‹ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZRANGE k72 1 3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;m2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;m3&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3) &lt;span class=&#34;string&#34;&gt;&amp;quot;m4&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZRANGE k72 1 3 WITHSCORES&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;m2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3) &lt;span class=&#34;string&#34;&gt;&amp;quot;m3&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4) &lt;span class=&#34;string&#34;&gt;&amp;quot;3&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5) &lt;span class=&#34;string&#34;&gt;&amp;quot;m4&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6) &lt;span class=&#34;string&#34;&gt;&amp;quot;4&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;zrevrange&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#zrevrange&#34;&gt;#&lt;/a&gt;  &lt;code&gt;zrevrange&lt;/code&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;ZREVRANGE key start stop [WITHSCORES]&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿”å›æœ‰åºé›†åˆä¸­æŒ‡å®šåŒºé—´çš„æˆå‘˜ã€‚&lt;br&gt;
å…¶ä¸­æˆå‘˜çš„ä½ç½®æŒ‰  &lt;code&gt;score&lt;/code&gt;  å€¼é€’å‡ (ä»å¤§åˆ°å°) æ¥æ’åˆ—ã€‚ å…·æœ‰ç›¸åŒ  &lt;code&gt;score&lt;/code&gt;  å€¼çš„æˆå‘˜æŒ‰å­—å…¸åºçš„é€†åº ( &lt;code&gt;reverse lexicographical order&lt;/code&gt; ) æ’åˆ—ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZADD k73 1 m1 2 m2 3 m3 4 m4 5 m5 6 m6 7 m7 8 m8 9 m9 10 m10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# ä½¿ç”¨ zrange æ­£åºè¿”å›æ•°æ®&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZRANGE k73 0 3 WITHSCORES&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;m1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3) &lt;span class=&#34;string&#34;&gt;&amp;quot;m2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4) &lt;span class=&#34;string&#34;&gt;&amp;quot;2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5) &lt;span class=&#34;string&#34;&gt;&amp;quot;m3&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6) &lt;span class=&#34;string&#34;&gt;&amp;quot;3&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7) &lt;span class=&#34;string&#34;&gt;&amp;quot;m4&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8) &lt;span class=&#34;string&#34;&gt;&amp;quot;4&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# ä½¿ç”¨ zrevrange å€’åºè¿”å›æ•°æ®&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZREVRANGE k73 0 3 WITHSCORES&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;m10\x11&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;10&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3) &lt;span class=&#34;string&#34;&gt;&amp;quot;m9&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4) &lt;span class=&#34;string&#34;&gt;&amp;quot;9&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5) &lt;span class=&#34;string&#34;&gt;&amp;quot;m8&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6) &lt;span class=&#34;string&#34;&gt;&amp;quot;8&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7) &lt;span class=&#34;string&#34;&gt;&amp;quot;m7&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8) &lt;span class=&#34;string&#34;&gt;&amp;quot;7&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;zrangebyscore&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#zrangebyscore&#34;&gt;#&lt;/a&gt;  &lt;code&gt;zrangebyscore&lt;/code&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;ZRANGEBYSCORE key min max [WITHSCORES] [LIMIT offset count]&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;zset range by score&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;ç±»ä¼¼  &lt;code&gt;zrange&lt;/code&gt; , ä¸è¿‡æ˜¯æŒ‰ç…§  &lt;code&gt;score&lt;/code&gt;  çš„å€¼è¿›è¡Œæ’åºçš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;[LIMIT offset count]&lt;/code&gt; , æ˜¯ä» offset å¼€å§‹ï¼Œè¿”å› &lt;code&gt;count&lt;/code&gt;  ä¸ªã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# è¿”å› scoreå€¼åœ¨ [9,10]ä¹‹é—´çš„memberã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZADD k74 1 m1 2 m2 3 m3 4 m4 5 m5 6 m6 7 m7 8 m8 9 m9 10 m10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZRANGEBYSCORE k74 9 10 WITHSCORES&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;m9&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;9&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3) &lt;span class=&#34;string&#34;&gt;&amp;quot;m10\x11&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4) &lt;span class=&#34;string&#34;&gt;&amp;quot;10&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# ä»ç¬¬2ä¸ª(åŒºé—´å†…ç´¢å¼•ä¸º1)å¼€å§‹ï¼Œè¿”å›1ä¸ªå…ƒç´ &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZRANGEBYSCORE k74 9 10 WITHSCORES LIMIT 1 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;m10\x11&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;10&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;zrevrangebyscore&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#zrevrangebyscore&#34;&gt;#&lt;/a&gt;  &lt;code&gt;zrevrangebyscore&lt;/code&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;ZREVRANGEBYSCORE key max min [WITHSCORES] [LIMIT offset count]&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿”å›æœ‰åºé›†  &lt;code&gt;key&lt;/code&gt;  ä¸­ï¼Œ  &lt;code&gt;score&lt;/code&gt;  å€¼ä»‹äº  &lt;code&gt;max&lt;/code&gt;  å’Œ  &lt;code&gt;min&lt;/code&gt;  ä¹‹é—´ (é»˜è®¤åŒ…æ‹¬ç­‰äº  &lt;code&gt;max&lt;/code&gt;  æˆ–  &lt;code&gt;min&lt;/code&gt;  ) çš„æ‰€æœ‰çš„æˆå‘˜ã€‚æœ‰åºé›†æˆå‘˜æŒ‰  &lt;code&gt;score&lt;/code&gt;  å€¼é€’å‡ (ä»å¤§åˆ°å°) çš„æ¬¡åºæ’åˆ—ã€‚&lt;/p&gt;
&lt;p&gt;æ³¨æ„å„ä¸ªå‚æ•°çš„ä½ç½®å“¦ã€‚è¿™é‡Œå’Œ  &lt;code&gt;zrevrange&lt;/code&gt;  çš„å‚æ•°ä¸ä¸€æ ·ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZADD k75 1 m1 2 m2 3 m3 4 m4 5 m5 6 m6 7 m7 8 m8 9 m9 10 m10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZREVRANGEBYSCORE k75 8 6 WITHSCORES &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;m8&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;8&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3) &lt;span class=&#34;string&#34;&gt;&amp;quot;m7&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4) &lt;span class=&#34;string&#34;&gt;&amp;quot;7&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5) &lt;span class=&#34;string&#34;&gt;&amp;quot;m6&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6) &lt;span class=&#34;string&#34;&gt;&amp;quot;6&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZREVRANGEBYSCORE k75 8 6 WITHSCORES  LIMIT 1  1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;m7&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;7&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;zrank&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#zrank&#34;&gt;#&lt;/a&gt;  &lt;code&gt;zrank&lt;/code&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;ZRANK key member&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿”å›æœ‰åºé›†  &lt;code&gt;key&lt;/code&gt;  ä¸­æˆå‘˜  &lt;code&gt;member&lt;/code&gt;  çš„æ’åã€‚å…¶ä¸­æœ‰åºé›†æˆå‘˜æŒ‰  &lt;code&gt;score&lt;/code&gt;  å€¼é€’å¢ (ä»å°åˆ°å¤§) é¡ºåºæ’åˆ—&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZADD k76 1 m1 2 m2 3 m3 4 m4 5 m5 6 m6 7 m7 8 m8 9 m9 10 m10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; zrank k76 m4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; zrank k76 m10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;zrevrank&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#zrevrank&#34;&gt;#&lt;/a&gt;  &lt;code&gt;zrevrank&lt;/code&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;ZREVRANK key member&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿”å›æœ‰åºé›†  &lt;code&gt;key&lt;/code&gt;  ä¸­æˆå‘˜  &lt;code&gt;member&lt;/code&gt;  çš„æ’åã€‚å…¶ä¸­æœ‰åºé›†æˆå‘˜æŒ‰  &lt;code&gt;score&lt;/code&gt;  å€¼é€’å‡ (ä»å¤§åˆ°å°) æ’åºã€‚&lt;/p&gt;
&lt;p&gt;æ’åä»¥  &lt;code&gt;0&lt;/code&gt;  ä¸ºåº•ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œ  &lt;code&gt;score&lt;/code&gt;  å€¼æœ€å¤§çš„æˆå‘˜æ’åä¸º  &lt;code&gt;0&lt;/code&gt;  ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZADD k77 1 m1 2 m2 3 m3 4 m4 5 m5 6 m6 7 m7 8 m8 9 m9 10 m10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZREVRANK k77 m10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZREVRANK k77 m4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;zrem&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#zrem&#34;&gt;#&lt;/a&gt;  &lt;code&gt;zrem&lt;/code&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;ZREM key member [member ...]&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;zset remove&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;ç§»é™¤æœ‰åºé›†  &lt;code&gt;key&lt;/code&gt;  ä¸­çš„ä¸€ä¸ªæˆ–å¤šä¸ªæˆå‘˜ï¼Œä¸å­˜åœ¨çš„æˆå‘˜å°†è¢«å¿½ç•¥ã€‚&lt;/p&gt;
&lt;p&gt;å½“  &lt;code&gt;key&lt;/code&gt;  å­˜åœ¨ä½†ä¸æ˜¯æœ‰åºé›†ç±»å‹æ—¶ï¼Œè¿”å›ä¸€ä¸ªé”™è¯¯ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZADD k78 1 m1 2 m2 3 m3 4 m4 5 m5 6 m6 7 m7 8 m8 9 m9 10 m10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# åˆ é™¤m2,m3,m4&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZREM k78 m2 m3 m4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZRANGE k78 0 -1 WITHSCORES&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 1) &lt;span class=&#34;string&#34;&gt;&amp;quot;m1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 2) &lt;span class=&#34;string&#34;&gt;&amp;quot;1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 3) &lt;span class=&#34;string&#34;&gt;&amp;quot;m5&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 4) &lt;span class=&#34;string&#34;&gt;&amp;quot;5&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 5) &lt;span class=&#34;string&#34;&gt;&amp;quot;m6&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 6) &lt;span class=&#34;string&#34;&gt;&amp;quot;6&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 7) &lt;span class=&#34;string&#34;&gt;&amp;quot;m7&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 8) &lt;span class=&#34;string&#34;&gt;&amp;quot;7&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 9) &lt;span class=&#34;string&#34;&gt;&amp;quot;m8&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10) &lt;span class=&#34;string&#34;&gt;&amp;quot;8&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11) &lt;span class=&#34;string&#34;&gt;&amp;quot;m9&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12) &lt;span class=&#34;string&#34;&gt;&amp;quot;9&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13) &lt;span class=&#34;string&#34;&gt;&amp;quot;m10&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14) &lt;span class=&#34;string&#34;&gt;&amp;quot;10&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;zremrangebyrank&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#zremrangebyrank&#34;&gt;#&lt;/a&gt;  &lt;code&gt;zremrangebyrank&lt;/code&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;ZREMRANGEBYRANK key start stop&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç§»é™¤æœ‰åºé›†  &lt;code&gt;key&lt;/code&gt;  ä¸­ï¼ŒæŒ‡å®šæ’å ( &lt;code&gt;rank&lt;/code&gt; ) åŒºé—´å†…çš„æ‰€æœ‰æˆå‘˜ã€‚&lt;/p&gt;
&lt;p&gt;åŒºé—´åˆ†åˆ«ä»¥ä¸‹æ ‡å‚æ•°  &lt;code&gt;start&lt;/code&gt;  å’Œ  &lt;code&gt;stop&lt;/code&gt;  æŒ‡å‡ºï¼ŒåŒ…å«  &lt;code&gt;start&lt;/code&gt;  å’Œ  &lt;code&gt;stop&lt;/code&gt;  åœ¨å†…ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZADD k79 1 m1 2 m2 3 m3 4 m4 5 m5 6 m6 7 m7 8 m8 9 m9 10 m10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# åˆ é™¤æ’åç¬¬2åˆ°æ’åç¬¬4çš„member&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZREMRANGEBYRANK k79 1 3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZRANGE k79 0 -1 WITHSCORES&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 1) &lt;span class=&#34;string&#34;&gt;&amp;quot;m1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 2) &lt;span class=&#34;string&#34;&gt;&amp;quot;1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 3) &lt;span class=&#34;string&#34;&gt;&amp;quot;m5&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 4) &lt;span class=&#34;string&#34;&gt;&amp;quot;5&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 5) &lt;span class=&#34;string&#34;&gt;&amp;quot;m6&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 6) &lt;span class=&#34;string&#34;&gt;&amp;quot;6&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 7) &lt;span class=&#34;string&#34;&gt;&amp;quot;m7&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 8) &lt;span class=&#34;string&#34;&gt;&amp;quot;7&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 9) &lt;span class=&#34;string&#34;&gt;&amp;quot;m8&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10) &lt;span class=&#34;string&#34;&gt;&amp;quot;8&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11) &lt;span class=&#34;string&#34;&gt;&amp;quot;m9&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12) &lt;span class=&#34;string&#34;&gt;&amp;quot;9&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13) &lt;span class=&#34;string&#34;&gt;&amp;quot;m10&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14) &lt;span class=&#34;string&#34;&gt;&amp;quot;10&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;zremrangebyscore&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#zremrangebyscore&#34;&gt;#&lt;/a&gt; zremrangebyscore&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;ZREMRANGEBYSCORE key min max&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç§»é™¤æœ‰åºé›†  &lt;code&gt;key&lt;/code&gt;  ä¸­ï¼Œæ‰€æœ‰  &lt;code&gt;score&lt;/code&gt;  å€¼ä»‹äº  &lt;code&gt;min&lt;/code&gt;  å’Œ  &lt;code&gt;max&lt;/code&gt;  ä¹‹é—´ (åŒ…æ‹¬ç­‰äº  &lt;code&gt;min&lt;/code&gt;  æˆ–  &lt;code&gt;max&lt;/code&gt;  ) çš„æˆå‘˜ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZADD k80 1 m1 2 m2 3 m3 4 m4 5 m5 6 m6 7 m7 8 m8 9 m9 10 m10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# åˆ é™¤ score&amp;gt;=1 and score &amp;lt;=9 çš„å…ƒç´ &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZREMRANGEBYSCORE k80 1 9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; zrange k80 0 -1  WITHSCORES&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;m10&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;10&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;zrangebylex&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#zrangebylex&#34;&gt;#&lt;/a&gt; zrangebylex&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;ZRANGEBYLEX key min max [LIMIT offset count]&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å½“æœ‰åºé›†åˆçš„æ‰€æœ‰æˆå‘˜éƒ½å…·æœ‰ç›¸åŒçš„åˆ†å€¼æ—¶ï¼Œ æœ‰åºé›†åˆçš„å…ƒç´ ä¼šæ ¹æ®æˆå‘˜çš„å­—å…¸åºï¼ˆ &lt;code&gt;lexicographical ordering&lt;/code&gt; ï¼‰æ¥è¿›è¡Œæ’åºï¼Œ è€Œè¿™ä¸ªå‘½ä»¤åˆ™å¯ä»¥è¿”å›ç»™å®šçš„æœ‰åºé›†åˆé”®  &lt;code&gt;key&lt;/code&gt;  ä¸­ï¼Œ å€¼ä»‹äº  &lt;code&gt;min&lt;/code&gt;  å’Œ  &lt;code&gt;max&lt;/code&gt;  ä¹‹é—´çš„æˆå‘˜ã€‚&lt;/p&gt;
&lt;p&gt;æ³¨æ„:&lt;/p&gt;
&lt;p&gt;åˆæ³•çš„  &lt;code&gt;min&lt;/code&gt;  å’Œ  &lt;code&gt;max&lt;/code&gt;  å‚æ•°å¿…é¡»åŒ…å« ( æˆ–è€…  &lt;code&gt;[&lt;/code&gt;  ï¼Œ å…¶ä¸­  &lt;code&gt;(&lt;/code&gt;  è¡¨ç¤ºå¼€åŒºé—´ï¼ˆæŒ‡å®šçš„å€¼ä¸ä¼šè¢«åŒ…å«åœ¨èŒƒå›´ä¹‹å†…ï¼‰ï¼Œ è€Œ  &lt;code&gt;[&lt;/code&gt;  åˆ™è¡¨ç¤ºé—­åŒºé—´ï¼ˆæŒ‡å®šçš„å€¼ä¼šè¢«åŒ…å«åœ¨èŒƒå›´ä¹‹å†…ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;ç‰¹æ®Šå€¼  &lt;code&gt;+&lt;/code&gt;  å’Œ  &lt;code&gt;-&lt;/code&gt;  åœ¨  &lt;code&gt;min&lt;/code&gt;  å‚æ•°ä»¥åŠ  &lt;code&gt;max&lt;/code&gt;  å‚æ•°ä¸­å…·æœ‰ç‰¹æ®Šçš„æ„ä¹‰ï¼Œ å…¶ä¸­  &lt;code&gt;+&lt;/code&gt;  è¡¨ç¤ºæ­£æ— é™ï¼Œ è€Œ  &lt;code&gt;-&lt;/code&gt;  è¡¨ç¤ºè´Ÿæ— é™ã€‚ å› æ­¤ï¼Œ å‘ä¸€ä¸ªæ‰€æœ‰æˆå‘˜çš„åˆ†å€¼éƒ½ç›¸åŒçš„æœ‰åºé›†åˆå‘é€å‘½ä»¤  &lt;code&gt;ZRANGEBYLEX &amp;lt;zset&amp;gt; - + &lt;/code&gt; ï¼Œ å‘½ä»¤å°†è¿”å›æœ‰åºé›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;lex&lt;/code&gt; :&lt;br&gt;
 è¡¨ç¤ºå¦‚æœ &lt;code&gt;score&lt;/code&gt;  ç›¸ç­‰ï¼Œåˆ™æŒ‰ç…§ &lt;code&gt;member&lt;/code&gt;  çš„å­—å…¸é¡ºåºæ’åºã€‚&lt;br&gt;
æ­¤å¤–è¿™ä¸ªå‘½ä»¤ï¼Œæ¯”å¦‚ &lt;code&gt;ZRANGBYSCORE&lt;/code&gt;  ç¨å¾®å¼ºå¤§ä¸€ç‚¹å„¿ã€‚å¯ä»¥æŒ‡å®šåŒºé—´èŒƒå›´ï¼Œå½“åªçŸ¥é“ &lt;code&gt;member&lt;/code&gt; ï¼Œä¸çŸ¥é“ score çš„æ—¶å€™ï¼Œå¯ä»¥æ˜¯ä½¿ç”¨å¸¦æœ‰  &lt;code&gt;lex&lt;/code&gt;  çš„å‘½ä»¤ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; zadd k81 1 a 2 b 3 c 4 d 5 f 6 g&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# è¿”å› scoreå€¼åœ¨açš„scoreå€¼å’Œcçš„scoreå€¼ä¹‹é—´çš„member&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# å³: score&amp;gt; Score(a) &amp;amp;&amp;amp; score &amp;lt;= Score(c)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZRANGEBYLEX k81 (a  [c &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;b&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;c&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# è¿”å› å°äºç­‰äºcçš„Scoreå€¼çš„å…ƒç´ &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZRANGEBYLEX k81 -  [c &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;a&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;b&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3) &lt;span class=&#34;string&#34;&gt;&amp;quot;c&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# è¿”å›æ‰€æœ‰å…ƒç´ &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZRANGEBYLEX k81 - + &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;a&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;b&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3) &lt;span class=&#34;string&#34;&gt;&amp;quot;c&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4) &lt;span class=&#34;string&#34;&gt;&amp;quot;d&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5) &lt;span class=&#34;string&#34;&gt;&amp;quot;f&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6) &lt;span class=&#34;string&#34;&gt;&amp;quot;g&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;zlexcount&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#zlexcount&#34;&gt;#&lt;/a&gt;  &lt;code&gt;zlexcount&lt;/code&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;ZLEXCOUNT key min max&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¯¹äºä¸€ä¸ªæ‰€æœ‰æˆå‘˜çš„åˆ†å€¼éƒ½ç›¸åŒçš„æœ‰åºé›†åˆé”®  &lt;code&gt;key&lt;/code&gt;  æ¥è¯´ï¼Œ è¿™ä¸ªå‘½ä»¤ä¼šè¿”å›è¯¥é›†åˆä¸­ï¼Œ æˆå‘˜ä»‹äº  &lt;code&gt;min&lt;/code&gt;  å’Œ  &lt;code&gt;max&lt;/code&gt;  èŒƒå›´å†…çš„å…ƒç´ æ•°é‡ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; zadd k82 1 a 2 b 3 c 4 d 5 f 6 g&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZLEXCOUNT k82 2 5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(error) ERR min or max not valid string range item&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZLEXCOUNT k82 a b&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# å¤§äºScore(a),å°äºç­‰äºScore(b)çš„member,åªæœ‰b.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZLEXCOUNT k82 (a [b&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# å¤§äºScore(a),å°äºç­‰äºScore(d)çš„member,æœ‰b.c.dï¼Œä¸‰ä¸ª&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZLEXCOUNT k82 (a [d&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;zremrangebylex&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#zremrangebylex&#34;&gt;#&lt;/a&gt;  &lt;code&gt;zremrangebylex&lt;/code&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;ZREMRANGEBYLEX key min max&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¯¹äºä¸€ä¸ªæ‰€æœ‰æˆå‘˜çš„åˆ†å€¼éƒ½ç›¸åŒçš„æœ‰åºé›†åˆé”®  &lt;code&gt;key&lt;/code&gt;  æ¥è¯´ï¼Œ è¿™ä¸ªå‘½ä»¤ä¼šç§»é™¤è¯¥é›†åˆä¸­ï¼Œ æˆå‘˜ä»‹äº  &lt;code&gt;min&lt;/code&gt;  å’Œ  &lt;code&gt;max&lt;/code&gt;  èŒƒå›´å†…çš„æ‰€æœ‰å…ƒç´ ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; zadd k83 1 a 2 b 3 c 4 d 5 f 6 g&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# åˆ é™¤ scoreå€¼åœ¨ (Score(a),Score(c)] ä¹‹é—´çš„member&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZREMRANGEBYLEX k83 (a [c&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# åˆ é™¤äº†ï¼Œb,c&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; zrange k83 0 -1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;a&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;d&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3) &lt;span class=&#34;string&#34;&gt;&amp;quot;f&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4) &lt;span class=&#34;string&#34;&gt;&amp;quot;g&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;zscan&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#zscan&#34;&gt;#&lt;/a&gt; zscan&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;ZSCAN key cursor [MATCH pattern] [COUNT count]&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™æ˜¯ä¸€ä¸ªæŸ¥è¯¢å‘½ä»¤ã€‚ åŒ  &lt;code&gt;SCAN&lt;/code&gt;  å‘½ä»¤ã€‚å¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç«  &lt;a href=&#34;./010-%E5%85%B6%E4%BB%96%E5%91%BD%E4%BB%A4.md&#34;&gt;010 - å…¶ä»–å‘½ä»¤&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;SCAN&lt;/code&gt;  å‘½ä»¤æ˜¯ä¸€ä¸ªåŸºäºæ¸¸æ ‡çš„è¿­ä»£å™¨ï¼ˆ &lt;code&gt;cursor based iterator&lt;/code&gt; ï¼‰ï¼š  &lt;code&gt;SCAN&lt;/code&gt;  å‘½ä»¤æ¯æ¬¡è¢«è°ƒç”¨ä¹‹åï¼Œ éƒ½ä¼šå‘ç”¨æˆ·è¿”å›ä¸€ä¸ªæ–°çš„æ¸¸æ ‡ï¼Œ ç”¨æˆ·åœ¨ä¸‹æ¬¡è¿­ä»£æ—¶éœ€è¦ä½¿ç”¨è¿™ä¸ªæ–°æ¸¸æ ‡ä½œä¸º  &lt;code&gt;SCAN&lt;/code&gt;  å‘½ä»¤çš„æ¸¸æ ‡å‚æ•°ï¼Œ ä»¥æ­¤æ¥å»¶ç»­ä¹‹å‰çš„è¿­ä»£è¿‡ç¨‹ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZADD k84 1 m1 2 m2 3 m3 4 m4 5 m5 6 m6 7 m7 8 m8 9 m9 10 m10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; zscan k84 0 MATCH m* COUNT 3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;0&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2)  1) &lt;span class=&#34;string&#34;&gt;&amp;quot;m1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    2) &lt;span class=&#34;string&#34;&gt;&amp;quot;1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    3) &lt;span class=&#34;string&#34;&gt;&amp;quot;m2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    4) &lt;span class=&#34;string&#34;&gt;&amp;quot;2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    5) &lt;span class=&#34;string&#34;&gt;&amp;quot;m3&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    6) &lt;span class=&#34;string&#34;&gt;&amp;quot;3&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    7) &lt;span class=&#34;string&#34;&gt;&amp;quot;m4&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    8) &lt;span class=&#34;string&#34;&gt;&amp;quot;4&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    9) &lt;span class=&#34;string&#34;&gt;&amp;quot;m5&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;   10) &lt;span class=&#34;string&#34;&gt;&amp;quot;5&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;   11) &lt;span class=&#34;string&#34;&gt;&amp;quot;m6&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;   12) &lt;span class=&#34;string&#34;&gt;&amp;quot;6&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;   13) &lt;span class=&#34;string&#34;&gt;&amp;quot;m7&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;   14) &lt;span class=&#34;string&#34;&gt;&amp;quot;7&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;   15) &lt;span class=&#34;string&#34;&gt;&amp;quot;m8&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;   16) &lt;span class=&#34;string&#34;&gt;&amp;quot;8&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;   17) &lt;span class=&#34;string&#34;&gt;&amp;quot;m9&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;   18) &lt;span class=&#34;string&#34;&gt;&amp;quot;9&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;   19) &lt;span class=&#34;string&#34;&gt;&amp;quot;m10&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;   20) &lt;span class=&#34;string&#34;&gt;&amp;quot;10&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;zunionstore&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#zunionstore&#34;&gt;#&lt;/a&gt;  &lt;code&gt;zunionstore&lt;/code&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;ZUNIONSTORE destination numkeys key [key ...] [WEIGHTS weight] [AGGREGATE SUM|MIN|MAX]&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;è§£é‡Š&lt;br&gt;
è®¡ç®—ç»™å®šçš„ä¸€ä¸ªæˆ–å¤šä¸ªæœ‰åºé›†åˆçš„å¹¶é›†ï¼Œå…¶ä¸­ç»™å®š key çš„æ•°é‡å¿…é¡»ä»¥ numkeys å‚æ•°æŒ‡å®šï¼Œå¹¶å°†è¯¥å¹¶é›† (ç»“æœé›†) å‚¨å­˜åˆ° destination ã€‚&lt;br&gt;
å¦‚æœ key ç›¸åŒçš„æ—¶å€™ï¼Œå¯¹åº”çš„ score å€¼ä¼šç›¸åŠ ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;WEIGHTS&lt;/code&gt; : ä½¿ç”¨  &lt;code&gt;WEIGHTS&lt;/code&gt;  é€‰é¡¹ï¼Œä½ å¯ä»¥ä¸º æ¯ä¸ª ç»™å®šæœ‰åºé›† åˆ†åˆ« æŒ‡å®šä¸€ä¸ªä¹˜æ³•å› å­ ( &lt;code&gt;multiplication factor&lt;/code&gt; )ï¼Œæ¯ä¸ªç»™å®šæœ‰åºé›†çš„æ‰€æœ‰æˆå‘˜çš„  &lt;code&gt;score&lt;/code&gt;  å€¼åœ¨ä¼ é€’ç»™èšåˆå‡½æ•° ( &lt;code&gt;aggregation function&lt;/code&gt; ) ä¹‹å‰éƒ½è¦å…ˆä¹˜ä»¥è¯¥æœ‰åºé›†çš„å› å­ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;AGGREGATE&lt;/code&gt; : ä½¿ç”¨  &lt;code&gt;AGGREGATE&lt;/code&gt;  é€‰é¡¹ï¼Œä½ å¯ä»¥æŒ‡å®šå¹¶é›†çš„ç»“æœé›†çš„èšåˆæ–¹å¼ã€‚&lt;br&gt;
é»˜è®¤ä½¿ç”¨çš„å‚æ•°  &lt;code&gt;SUM&lt;/code&gt;  ï¼Œå¯ä»¥å°†æ‰€æœ‰é›†åˆä¸­æŸä¸ªæˆå‘˜çš„  &lt;code&gt;score&lt;/code&gt;  å€¼ä¹‹ å’Œ ä½œä¸ºç»“æœé›†ä¸­è¯¥æˆå‘˜çš„  &lt;code&gt;score&lt;/code&gt;  å€¼ï¼›ä½¿ç”¨å‚æ•°  &lt;code&gt;MIN&lt;/code&gt;  ï¼Œå¯ä»¥å°†æ‰€æœ‰é›†åˆä¸­æŸä¸ªæˆå‘˜çš„ æœ€å°  &lt;code&gt;score&lt;/code&gt;  å€¼ä½œä¸ºç»“æœé›†ä¸­è¯¥æˆå‘˜çš„  &lt;code&gt;score&lt;/code&gt;  å€¼ï¼›è€Œå‚æ•°  &lt;code&gt;MAX&lt;/code&gt;  åˆ™æ˜¯å°†æ‰€æœ‰é›†åˆä¸­æŸä¸ªæˆå‘˜çš„ æœ€å¤§  &lt;code&gt;score&lt;/code&gt;  å€¼ä½œä¸ºç»“æœé›†ä¸­è¯¥æˆå‘˜çš„  &lt;code&gt;score&lt;/code&gt;  å€¼ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ¼”ç¤º&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;48&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZADD k85_1 1 m1 2 m2 3 m3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZADD k85_2 1 m1 4 m4 5 m5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZUNIONSTORE k85 2 k85_1 k85_2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; zrange k85 0 -1 WITHSCORES&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 1) &lt;span class=&#34;string&#34;&gt;&amp;quot;m1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 2) &lt;span class=&#34;string&#34;&gt;&amp;quot;2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 3) &lt;span class=&#34;string&#34;&gt;&amp;quot;m2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 4) &lt;span class=&#34;string&#34;&gt;&amp;quot;2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 5) &lt;span class=&#34;string&#34;&gt;&amp;quot;m3&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 6) &lt;span class=&#34;string&#34;&gt;&amp;quot;3&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 7) &lt;span class=&#34;string&#34;&gt;&amp;quot;m4&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 8) &lt;span class=&#34;string&#34;&gt;&amp;quot;4&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 9) &lt;span class=&#34;string&#34;&gt;&amp;quot;m5&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10) &lt;span class=&#34;string&#34;&gt;&amp;quot;5&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# æ¼”ç¤º Weightså‚æ•°ï¼š WEIGHTS 2 3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# æŒ‡: ç¬¬ä¸€ä¸ªzsetçš„æ‰€æœ‰å…ƒç´  *2 ï¼Œç¬¬äºŒä¸ªæœ‰åºé›†åˆä¸­çš„å…ƒç´  *3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZUNIONSTORE k85 2 k85_1 k85_2 WEIGHTS 2 3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZRANGE k85 0 -1 WITHSCORES&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 1) &lt;span class=&#34;string&#34;&gt;&amp;quot;m2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 2) &lt;span class=&#34;string&#34;&gt;&amp;quot;4&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 3) &lt;span class=&#34;string&#34;&gt;&amp;quot;m1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 4) &lt;span class=&#34;string&#34;&gt;&amp;quot;5&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 5) &lt;span class=&#34;string&#34;&gt;&amp;quot;m3&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 6) &lt;span class=&#34;string&#34;&gt;&amp;quot;6&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 7) &lt;span class=&#34;string&#34;&gt;&amp;quot;m4&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 8) &lt;span class=&#34;string&#34;&gt;&amp;quot;12&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 9) &lt;span class=&#34;string&#34;&gt;&amp;quot;m5&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10) &lt;span class=&#34;string&#34;&gt;&amp;quot;15&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# æ¼”ç¤º Weightså‚æ•°ï¼š WEIGHTS 2 4&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# æŒ‡: ç¬¬ä¸€ä¸ªzsetçš„æ‰€æœ‰å…ƒç´  *2 ï¼Œç¬¬äºŒä¸ªæœ‰åºé›†åˆä¸­çš„å…ƒç´  *3&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZUNIONSTORE k85 2 k85_1 k85_2 WEIGHTS 2 4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZRANGE k85 0 -1 WITHSCORES&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 1) &lt;span class=&#34;string&#34;&gt;&amp;quot;m2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 2) &lt;span class=&#34;string&#34;&gt;&amp;quot;4&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 3) &lt;span class=&#34;string&#34;&gt;&amp;quot;m1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 4) &lt;span class=&#34;string&#34;&gt;&amp;quot;6&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 5) &lt;span class=&#34;string&#34;&gt;&amp;quot;m3&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 6) &lt;span class=&#34;string&#34;&gt;&amp;quot;6&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 7) &lt;span class=&#34;string&#34;&gt;&amp;quot;m4&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 8) &lt;span class=&#34;string&#34;&gt;&amp;quot;16&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 9) &lt;span class=&#34;string&#34;&gt;&amp;quot;m5&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10) &lt;span class=&#34;string&#34;&gt;&amp;quot;20&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;zinterstore&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#zinterstore&#34;&gt;#&lt;/a&gt; zinterstore&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;ZINTERSTORE destination numkeys key [key â€¦] [WEIGHTS weight [weight â€¦]] [AGGREGATE SUM|MIN|MAX]&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è®¡ç®—ç»™å®šçš„ä¸€ä¸ªæˆ–å¤šä¸ªæœ‰åºé›†çš„äº¤é›†ï¼Œå…¶ä¸­ç»™å®š  &lt;code&gt;key&lt;/code&gt;  çš„æ•°é‡å¿…é¡»ä»¥  &lt;code&gt;numkeys&lt;/code&gt;  å‚æ•°æŒ‡å®šï¼Œå¹¶å°†è¯¥äº¤é›† (ç»“æœé›†) å‚¨å­˜åˆ°  &lt;code&gt;destination&lt;/code&gt;  ã€‚&lt;/p&gt;
&lt;p&gt;é»˜è®¤æƒ…å†µä¸‹ï¼Œç»“æœé›†ä¸­æŸä¸ªæˆå‘˜çš„  &lt;code&gt;score&lt;/code&gt;  å€¼æ˜¯æ‰€æœ‰ç»™å®šé›†ä¸‹è¯¥æˆå‘˜  &lt;code&gt;score&lt;/code&gt;  å€¼ä¹‹å’Œ.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; zadd k86_1 1 m1 2 m2 3 m3 4 m4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZADD k86_2 20 m2 30 m3 50 m5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZINTERSTORE k86 2 k86_1 k86_2 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# å–äº¤é›†(é»˜è®¤ç›¸åŠ )&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; zrange k86 0 -1 WITHSCORES&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;m2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;22&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3) &lt;span class=&#34;string&#34;&gt;&amp;quot;m3&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4) &lt;span class=&#34;string&#34;&gt;&amp;quot;33&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# WEIGTHS å‚æ•°å’Œä¸Šé¢çš„ ZUNIONSTOREå‘½ä»¤ä¸€æ ·.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# è¿™é‡Œæ¼”ç¤ºä¸€ä¸‹, AGGREGATEå‚æ•°&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# é»˜è®¤ä½¿ç”¨çš„æ˜¯SUM. å°±æ˜¯æœ¬å‘½ä»¤ä¸­ä¸Šé¢çš„ä¾‹å­äº†.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# ä¸‹é¢æ¼”ç¤ºMIN å’Œ MAX&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZINTERSTORE k86 2 k86_1 k86_2 AGGREGATE MIN&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZRANGE k86 0 -1 WITHSCORES&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;m2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3) &lt;span class=&#34;string&#34;&gt;&amp;quot;m3&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4) &lt;span class=&#34;string&#34;&gt;&amp;quot;3&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZINTERSTORE k86 2 k86_1 k86_2 AGGREGATE MAX&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ZRANGE k86 0 -1 WITHSCORES&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;m2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;20&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3) &lt;span class=&#34;string&#34;&gt;&amp;quot;m3&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4) &lt;span class=&#34;string&#34;&gt;&amp;quot;30&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&#34;zsetçš„å†…éƒ¨ç»“æ„&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#zsetçš„å†…éƒ¨ç»“æ„&#34;&gt;#&lt;/a&gt;  &lt;code&gt;zset&lt;/code&gt;  çš„å†…éƒ¨ç»“æ„&lt;/h2&gt;
&lt;p&gt;è¿™é‡Œæˆ‘ä»¬ä¸»è¦çœ‹ &lt;code&gt;skiplist&lt;/code&gt; ï¼Œå¦‚æœå¿˜è®°äº† &lt;code&gt;hashtable&lt;/code&gt; ï¼Œå°±çœ‹ç€&lt;a href=&#34;2021/08/01/Redis%E7%B3%BB%E5%88%97/C-8-Redis%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B9%8B%E5%AD%97%E5%85%B8Dict/&#34;&gt;è¿™ç¯‡æ–‡ç« &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬ä»å‘½ä»¤ &lt;code&gt;zadd&lt;/code&gt;  å…¥æ‰‹ï¼Œæ‰¾åˆ° &lt;code&gt;zset&lt;/code&gt;  çš„ &lt;code&gt;add&lt;/code&gt;  é€šç”¨æ–¹æ³• &lt;code&gt;zaddGenericCommand(c,ZADD_NONE);&lt;/code&gt;  æ¥çœ‹ä¸€ä¸‹ã€‚çœç•¥äº†éƒ¨åˆ†ä»£ç ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;...&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (server.zset_max_ziplist_entries == &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt; ||&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            server.zset_max_ziplist_value &amp;lt; &lt;span class=&#34;built_in&#34;&gt;sdslen&lt;/span&gt;(c-&amp;gt;argv[scoreidx+&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;]-&amp;gt;ptr))&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;/// åˆ›å»º OBJ_ENCODING_SKIPLIST ç¼–ç çš„ç»“æ„&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    zobj = &lt;span class=&#34;built_in&#34;&gt;createZsetObject&lt;/span&gt;();&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125; &lt;span class=&#34;keyword&#34;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;/// åˆ›å»º OBJ_ZSET ç¼–ç çš„ç»“æ„&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    zobj = &lt;span class=&#34;built_in&#34;&gt;createZsetZiplistObject&lt;/span&gt;();&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;....&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æ¥çœ‹ä¸€ä¸‹  &lt;code&gt;createZsetObject()&lt;/code&gt;  æ–¹æ³•çš„å®ç°ï¼Œå°±å†æ¸…æ™°ä¸è¿‡äº†ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;/// åˆ›å»º Zset å¯¹è±¡ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;function&#34;&gt;robj *&lt;span class=&#34;title&#34;&gt;createZsetObject&lt;/span&gt;&lt;span class=&#34;params&#34;&gt;(&lt;span class=&#34;keyword&#34;&gt;void&lt;/span&gt;)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    zset *zs = &lt;span class=&#34;built_in&#34;&gt;zmalloc&lt;/span&gt;(&lt;span class=&#34;built_in&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;sizeof&lt;/span&gt;&lt;/span&gt;(*zs));&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    robj *o;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    zs-&amp;gt;dict = &lt;span class=&#34;built_in&#34;&gt;dictCreate&lt;/span&gt;(&amp;amp;zsetDictType, &lt;span class=&#34;literal&#34;&gt;NULL&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    zs-&amp;gt;zsl = &lt;span class=&#34;built_in&#34;&gt;zslCreate&lt;/span&gt;();&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    o = &lt;span class=&#34;built_in&#34;&gt;createObject&lt;/span&gt;(OBJ_ZSET, zs);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    o-&amp;gt;encoding = OBJ_ENCODING_SKIPLIST;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt; o;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;åˆ°è¿™é‡Œï¼Œå°±æ˜¯æˆ‘ä»¬å’Œ  &lt;code&gt;zset&lt;/code&gt;  è¿™ç§æ•°æ®ç±»å‹çš„åˆæ¬¡æ·±å…¥è§é¢äº†ã€‚ æˆ‘ä»¬å…ˆçœ‹ä¸‹  &lt;code&gt;zset&lt;/code&gt;  è¿™ç§ç»“æ„ä½“çš„å®šä¹‰ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;/// æœ‰åºé›†åˆçš„ç»“æ„å®šä¹‰&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;typedef&lt;/span&gt; &lt;span class=&#34;class&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;title&#34;&gt;zset&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;/// å­—å…¸ï¼Œé”®ä¸ºæˆå‘˜,å€¼ä¸ºscore&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;/// ç”¨äºæ”¯æŒ O(1) å¤æ‚åº¦çš„æŒ‰æˆå‘˜åˆ†å€¼æ“ä½œã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    dict *dict;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;/// è·³è·ƒè¡¨,æŒ‰åˆ†å€¼æ’åºæˆå‘˜&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;/// ç”¨äºæ”¯æŒå¹³å‡å¤æ‚åº¦ä¸º O(logN)çš„æŒ‰åˆ†å€¼å®šä½æˆå‘˜ä»¥åŠèŒƒå›´çš„æ“ä½œã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    zskiplist *zsl;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125; zset;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;code&gt;dict&lt;/code&gt;  å‰é¢å·²ç»çœ‹è¿‡äº†ï¼Œè¿™é‡Œæ¥çœ‹ä¸‹ &lt;code&gt;zskiplist&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;h3 id=&#34;skiplist&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#skiplist&#34;&gt;#&lt;/a&gt;  &lt;code&gt;skiplist&lt;/code&gt;&lt;/h3&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;/// è·³è·ƒè¡¨&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;typedef&lt;/span&gt; &lt;span class=&#34;class&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;title&#34;&gt;zskiplist&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;/// è¡¨å¤´ï¼Œè¡¨å°¾&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;class&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;title&#34;&gt;zskiplistNode&lt;/span&gt; *&lt;span class=&#34;title&#34;&gt;header&lt;/span&gt;, *&lt;span class=&#34;title&#34;&gt;tail&lt;/span&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;/// è¡¨ä¸­èŠ‚ç‚¹çš„æ•°é‡&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;unsigned&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;long&lt;/span&gt; length;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;/// è¡¨ä¸­å±‚æ•°æœ€å¤§çš„èŠ‚ç‚¹çš„å±‚æ•°&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;int&lt;/span&gt; level;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125; zskiplist;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;typedef&lt;/span&gt; &lt;span class=&#34;class&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;title&#34;&gt;zskiplistNode&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    sds ele;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;/// åˆ†æ•°&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;double&lt;/span&gt; score;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;/// åé€€çš„æŒ‡é’ˆ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;class&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;title&#34;&gt;zskiplistNode&lt;/span&gt; *&lt;span class=&#34;title&#34;&gt;backward&lt;/span&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;/// å±‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;class&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;title&#34;&gt;zskiplistLevel&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;comment&#34;&gt;/// å‰è¿›æŒ‡é’ˆ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;class&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;title&#34;&gt;zskiplistNode&lt;/span&gt; *&lt;span class=&#34;title&#34;&gt;forward&lt;/span&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;comment&#34;&gt;/// è·¨åº¦&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;keyword&#34;&gt;unsigned&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;long&lt;/span&gt; span;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125; level[];&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125; zskiplistNode;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&#34;æ€»ç»“&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#æ€»ç»“&#34;&gt;#&lt;/a&gt; æ€»ç»“&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;æœ¬ç« æ˜¯ä¸€ä¸ªæ–°çš„å¸¸ç”¨æ•°æ®ç±»å‹ï¼Œ &lt;code&gt;ZSET&lt;/code&gt;  æœ‰åºé›†åˆã€‚åº•å±‚çš„æ•°æ®ç»“æ„æ˜¯ä½¿ç”¨çš„æ˜¯  &lt;code&gt;skipList&lt;/code&gt;  å’Œ  &lt;code&gt;hashtable&lt;/code&gt;  . å…³äº &lt;code&gt;Skiplist&lt;/code&gt;  çš„åˆæ­¥äº†è§£æ–‡ç« &lt;a href=&#34;#&#34;&gt;ç©¿æ¢­æœº&lt;/a&gt; å’Œ  &lt;code&gt;Redis&lt;/code&gt;  ä¸­  &lt;code&gt;skiplist&lt;/code&gt;  çš„å®ç°æºç è§£è¯»&lt;a href=&#34;&#34;&gt;ç©¿æ¢­æœº&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ç„¶åç®€å•ä»‹ç»äº†  &lt;code&gt;Redis ZSET&lt;/code&gt;  æ•°æ®ç±»å‹çš„åŸºç¡€ä½¿ç”¨åœºæ™¯ã€‚å…³é”®å­—æœ‰  &lt;code&gt;æœ‰åº&lt;/code&gt; ï¼Œ &lt;code&gt;æ’å&lt;/code&gt; ï¼Œ &lt;code&gt;æƒé‡&lt;/code&gt; ç­‰.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ZSET&lt;/code&gt;  çš„  &lt;code&gt;20&lt;/code&gt;  ä¸ªå¸¸æœ‰å‘½ä»¤ã€‚ åé¢æˆ‘ä¼šé’ˆå¯¹è¿™  &lt;code&gt;20&lt;/code&gt;  ä¸ªå‘½ä»¤çš„å®ç°è¿›è¡Œç®€å•çš„åˆ†äº«.&lt;/li&gt;
&lt;li&gt;ç„¶åç®€å•çš„çœ‹äº†ä¸€ä¸‹ &lt;code&gt;Redis&lt;/code&gt;  ä¸­çš„æ•°æ®ç»“æ„çš„å®ç°ï¼Œè¿˜æ˜¯é‚£å¥è¯ï¼Œ &lt;code&gt;Redis&lt;/code&gt;  çš„æ•°æ®ç»“æ„æ˜¯åŠ¨æ€ç¼–ç çš„ï¼Œ  &lt;code&gt;ZSET&lt;/code&gt;  æ˜¯æœ‰ &lt;code&gt;hashtable&lt;/code&gt;  å’Œ  &lt;code&gt;skiplist&lt;/code&gt;  å®ç°çš„ã€‚ skiplist æ˜¯ä¸€ä¸ªéå¸¸é«˜æ•ˆçš„æ•°æ®ç»“æ„ï¼Œå¢åˆ æŸ¥çš„æ•ˆç‡éƒ½æ˜¯  &lt;code&gt;O(logN)&lt;/code&gt; . å®ç°åŸç†å¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç« &lt;a href=&#34;#&#34;&gt;ç›´é€šè½¦&lt;/a&gt;ï¼Œé‡Œé¢æœ‰å‡ ç§æµè¡Œçš„è¯­è¨€çš„å®ç°ï¼Œå¯ä»¥é’ˆå¯¹è‡ªå·±æ“…é•¿çš„è¯­è¨€è¿›è¡ŒæŸ¥çœ‹ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;æœ€å&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#æœ€å&#34;&gt;#&lt;/a&gt; æœ€å&lt;/h2&gt;
&lt;p&gt;æœŸæœ›ä¸ä½ ä¸€èµ·é‡è§æ›´å¥½çš„è‡ªå·±&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;/images/qrcode.jpg&#34; alt=&#34;æœŸæœ›ä¸ä½ ä¸€èµ·é‡è§æ›´å¥½çš„è‡ªå·±&#34;&gt;&lt;/p&gt;
</content>
        <category term="Redis" />
        <updated>2021-08-01T10:38:55.000Z</updated>
    </entry>
    <entry>
        <id>https://fangjiaxiaobai.github.io/2021/08/01/Redis%E7%B3%BB%E5%88%97/B-4-Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B9%8B%E9%9B%86%E5%90%88set/</id>
        <title>Redisæ•°æ®ç»“æ„ä¹‹é›†åˆ Set</title>
        <link rel="alternate" href="https://fangjiaxiaobai.github.io/2021/08/01/Redis%E7%B3%BB%E5%88%97/B-4-Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B9%8B%E9%9B%86%E5%90%88set/"/>
        <content type="html">&lt;h2 id=&#34;ä¹¦æ¥ä¸Šå›&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#ä¹¦æ¥ä¸Šå›&#34;&gt;#&lt;/a&gt; ä¹¦æ¥ä¸Šå›&lt;/h2&gt;
&lt;p&gt;å‰ä¸€ç¯‡æ–‡ç« ï¼Œæˆ‘ä»¬å­¦ä¹ çš„æ˜¯ &lt;a href=&#34;/2021/08/01/Redis%E7%B3%BB%E5%88%97/B-3-Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B9%8Bhash/&#34;&gt;Redis çš„æ•°æ®ç»“æ„ä¹‹ hash&lt;/a&gt;ï¼Œ å­¦ä¹ äº†å…¶åŸºæœ¬çš„æ“ä½œå’Œä½¿ç”¨å†…éƒ¨æ•°æ®ç»“æ„æ˜¯ &lt;code&gt;hashtable&lt;/code&gt;  å’Œ &lt;code&gt;ziplist&lt;/code&gt; ï¼Œå…¶ä¸­ &lt;code&gt;Redis&lt;/code&gt;  ä¸­çš„ &lt;code&gt;hashtable&lt;/code&gt;  æ˜¯ç”¨  &lt;code&gt;dict&lt;/code&gt;  è¡¨ç¤ºçš„ã€‚å¦‚æœä¸è®°å¾—äº†å…¶å†…éƒ¨æ„æˆï¼Œå°±å†çœ‹çœ‹çœ‹ç€&lt;a href=&#34;/2021/08/01/Redis%E7%B3%BB%E5%88%97/B-3-Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B9%8Bhash/&#34;&gt;ä¸Šç¯‡æ–‡ç« &lt;/a&gt;å§ã€‚ç°åœ¨æˆ‘ä»¬ç»§ç»­å­¦ä¹ ä¸‹ä¸€ä¸ªæ•°æ®ç±»å‹  &lt;code&gt;set&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;h2 id=&#34;setç®€ä»‹&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#setç®€ä»‹&#34;&gt;#&lt;/a&gt;  &lt;code&gt;set&lt;/code&gt;  ç®€ä»‹&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;Redis&lt;/code&gt;  çš„  &lt;code&gt;set&lt;/code&gt;  æ•°æ®ç±»å‹è¡¨ç¤º ä¸€å †ä¸é‡å¤å€¼çš„é›†åˆã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Redis&lt;/code&gt;  çš„ &lt;code&gt;set&lt;/code&gt;  æ•°æ®ç±»å‹æœ‰ä¸¤ç§ç¼–ç æ–¹å¼.  &lt;code&gt;OBJ_ENCODING_INTSET&lt;/code&gt;  å’Œ  &lt;code&gt;OBJ_ENCODING_HT&lt;/code&gt; .&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;OBJ_ENCODING_HT&lt;/code&gt;  è¿™ç§ç¼–ç æ–¹å¼åœ¨ä¸Šä¸€ç¯‡æ–‡ç«  &lt;a href=&#34;/2021/08/01/Redis%E7%B3%BB%E5%88%97/B-3-Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B9%8Bhash/&#34;&gt;07-Redis çš„æ•°æ®ç±»å‹ä¹‹ hash&lt;/a&gt; ä¸­å·²ç»ç®€å•çš„ä»‹ç»è¿‡äº†ã€‚å…¶å®ç°çš„æ•°æ®ç»“æ„ä¸º  &lt;code&gt;dict&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;OBJ_ENCODING_INTSET&lt;/code&gt; , è¿™ç§ç¼–ç æ–¹å¼æ˜¯æˆ‘ä»¬è¦æ–°å­¦ä¹ çš„ç¼–ç æ–¹å¼ã€‚ &lt;a href=&#34;#intset&#34;&gt;ç”µæ¢¯ç›´è¾¾&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¦‚æœä½ çœ‹åˆ°è¿™å¥è¯ï¼Œé‚£å°±è¯´æ˜ä½ æ˜¯ä¸€ä¸ªç‰¹åˆ«è®¤çœŸçš„äººã€‚å“ˆå“ˆå“ˆï¼Œæˆ‘ä»¬è¿˜æ˜¯å…ˆéµå¾ªæƒ¯ä¾‹ã€‚å…ˆå­¦ä¹  &lt;code&gt;set&lt;/code&gt;  ç±»å‹ç›¸å…³çš„å‘½ä»¤ã€‚&lt;/p&gt;
&lt;h2 id=&#34;setç±»å‹çš„åº”ç”¨åœºæ™¯&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#setç±»å‹çš„åº”ç”¨åœºæ™¯&#34;&gt;#&lt;/a&gt;  &lt;code&gt;set&lt;/code&gt;  ç±»å‹çš„åº”ç”¨åœºæ™¯&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;ç¤¾äº¤ç³»ç»Ÿä¸­å­˜å‚¨å…³æ³¨ä¿¡æ¯ï¼Œç‚¹èµä¿¡æ¯ï¼Œåˆ©ç”¨äº¤å¹¶å·®è¿ç®—ï¼Œè®¡ç®—å…±åŒå¥½å‹ç­‰ä¸šåŠ¡ä¸­ã€‚æ¯”å¦‚ &lt;code&gt;qq&lt;/code&gt;  çš„å¥½å‹æ¨èé€»è¾‘ï¼Œå°±å¯ä»¥ä½¿ç”¨å·®é›†è¿ç®—ã€‚&lt;/li&gt;
&lt;li&gt;éœ€è¦å»é‡çš„ä¸šåŠ¡é€»è¾‘ä¸­ã€‚æŸä¸€æ—¶é—´ç«¯å†…ç³»ç»Ÿçš„å¢é•¿äººæ•°ã€‚&lt;/li&gt;
&lt;li&gt;ç»Ÿè®¡è®¿é—®ç½‘ç«™çš„ç‹¬ç«‹ &lt;code&gt;IP&lt;/code&gt; ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;setçš„åŸºæœ¬å‘½ä»¤&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#setçš„åŸºæœ¬å‘½ä»¤&#34;&gt;#&lt;/a&gt;  &lt;code&gt;set&lt;/code&gt;  çš„åŸºæœ¬å‘½ä»¤&lt;/h2&gt;
&lt;h3 id=&#34;sadd&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#sadd&#34;&gt;#&lt;/a&gt;  &lt;code&gt;sadd&lt;/code&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;SADD key member [member ...]&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;set add&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å°†ä¸€ä¸ªæˆ–å¤šä¸ª  &lt;code&gt;member&lt;/code&gt;  å…ƒç´ åŠ å…¥åˆ°é›†åˆ  &lt;code&gt;key&lt;/code&gt;  å½“ä¸­ï¼Œå·²ç»å­˜åœ¨äºé›†åˆçš„  &lt;code&gt;member&lt;/code&gt;  å…ƒç´ å°†è¢«å¿½ç•¥ã€‚&lt;/p&gt;
&lt;p&gt;å‡å¦‚  &lt;code&gt;key&lt;/code&gt;  ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªåªåŒ…å«  &lt;code&gt;member&lt;/code&gt;  å…ƒç´ ä½œæˆå‘˜çš„é›†åˆã€‚&lt;/p&gt;
&lt;p&gt;å½“  &lt;code&gt;key&lt;/code&gt;  ä¸æ˜¯é›†åˆç±»å‹æ—¶ï¼Œè¿”å›ä¸€ä¸ªé”™è¯¯ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; sadd k52 mem1 mem2 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; sadd k52 mem1 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; sadd k52 mem1 mem3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;smembers&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#smembers&#34;&gt;#&lt;/a&gt;  &lt;code&gt;smembers&lt;/code&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;SMEMBERS key&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;set members&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;è¿”å›é›†åˆ  &lt;code&gt;key&lt;/code&gt;  ä¸­çš„æ‰€æœ‰æˆå‘˜ã€‚&lt;/p&gt;
&lt;p&gt;ä¸å­˜åœ¨çš„  &lt;code&gt;key&lt;/code&gt;  è¢«è§†ä¸ºç©ºé›†åˆ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# æŸ¥è¯¢å…ƒç´ ï¼Œ æ³¨æ„ä¿å­˜æ˜¯æ— åºçš„.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SADD k53 m1 m2 m3 m4 m5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SMEMBERS k53&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;m4&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;m3&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3) &lt;span class=&#34;string&#34;&gt;&amp;quot;m2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4) &lt;span class=&#34;string&#34;&gt;&amp;quot;m1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5) &lt;span class=&#34;string&#34;&gt;&amp;quot;m5&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;sismember&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#sismember&#34;&gt;#&lt;/a&gt;  &lt;code&gt;sismember&lt;/code&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;SISMEMBER key member&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;set is members&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;åˆ¤æ–­  &lt;code&gt;member&lt;/code&gt;  å…ƒç´ æ˜¯å¦é›†åˆ  &lt;code&gt;key&lt;/code&gt;  çš„æˆå‘˜ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœ  &lt;code&gt;member&lt;/code&gt;  å…ƒç´ æ˜¯é›†åˆçš„æˆå‘˜ï¼Œè¿”å›  &lt;code&gt;1&lt;/code&gt;  ã€‚ å¦‚æœ  &lt;code&gt;member&lt;/code&gt;  å…ƒç´ ä¸æ˜¯é›†åˆçš„æˆå‘˜ï¼Œæˆ–  &lt;code&gt;key&lt;/code&gt;  ä¸å­˜åœ¨ï¼Œè¿”å›  &lt;code&gt;0&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SADD k54 m1 m2 m3 m4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SISMEMBER k54 m2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SISMEMBER k54 m5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 0&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;spop&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#spop&#34;&gt;#&lt;/a&gt;  &lt;code&gt;spop&lt;/code&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;SPOP key [count]&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;set pop&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;ç§»é™¤å¹¶è¿”å›é›†åˆä¸­çš„ &lt;b&gt;éšæœºä¸€ä¸ª&lt;/b&gt; å…ƒç´ ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SADD k55 m1 m2 m3 m4 m5 m6 m7 m8 m9 m10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# éšæœºç§»é™¤ä¸€ä¸ªå…ƒç´ &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; spop k55&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;m9&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; spop k55&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;m2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; spop k55&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;m3&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# éšæœºç§»é™¤3ä¸ªå…ƒç´ &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; spop k55 3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;m5&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;m4&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3) &lt;span class=&#34;string&#34;&gt;&amp;quot;m10&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# æŸ¥çœ‹æ‰€æœ‰å…ƒç´ &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SMEMBERS k55&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;m1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;m7&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3) &lt;span class=&#34;string&#34;&gt;&amp;quot;m8&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4) &lt;span class=&#34;string&#34;&gt;&amp;quot;m6&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;srandmemeber&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#srandmemeber&#34;&gt;#&lt;/a&gt;  &lt;code&gt;srandmemeber&lt;/code&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;SRANDMEMBER key [count]&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;set rand member&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;è¿”å›é›†åˆä¸­çš„ éšæœº  &lt;code&gt;count&lt;/code&gt;  ä¸ªå…ƒç´  (ä¸ä¼šåˆ é™¤å…ƒç´ )&lt;/p&gt;
&lt;p&gt;å¦‚æœ  &lt;code&gt;count&lt;/code&gt;  ä¸ºæ­£æ•°ï¼Œä¸”å°äºé›†åˆåŸºæ•°ï¼Œé‚£ä¹ˆå‘½ä»¤è¿”å›ä¸€ä¸ªåŒ…å«  &lt;code&gt;count&lt;/code&gt;  ä¸ªå…ƒç´ çš„æ•°ç»„ï¼Œæ•°ç»„ä¸­çš„å…ƒç´ å„ä¸ç›¸åŒã€‚å¦‚æœ  &lt;code&gt;count&lt;/code&gt;  å¤§äºç­‰äºé›†åˆåŸºæ•°ï¼Œé‚£ä¹ˆè¿”å›æ•´ä¸ªé›†åˆã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœ  &lt;code&gt;count&lt;/code&gt;  ä¸ºè´Ÿæ•°ï¼Œé‚£ä¹ˆå‘½ä»¤è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„ä¸­çš„å…ƒç´ å¯èƒ½ä¼šé‡å¤å‡ºç°å¤šæ¬¡ï¼Œè€Œæ•°ç»„çš„é•¿åº¦ä¸º  &lt;code&gt;count&lt;/code&gt;  çš„ç»å¯¹å€¼ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;50&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SADD k56 m1 m2 m3 m4 m5 m6 m7 m8 m9 m10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# éšæœºè¿”å›ä¸€ä¸ªå…ƒç´ &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SRANDMEMBER k56 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;m1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SRANDMEMBER k56 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;m9&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SRANDMEMBER k56 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;m5&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# countæ˜¯æ­£æ•°ï¼Œå°äºé›†åˆçš„å…ƒç´ æ•°,è¿”å›countä¸ªå…ƒç´ ï¼Œæ— é‡å¤å…ƒç´ &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SRANDMEMBER k56 5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;m7&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;m1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3) &lt;span class=&#34;string&#34;&gt;&amp;quot;m5&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4) &lt;span class=&#34;string&#34;&gt;&amp;quot;m6&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5) &lt;span class=&#34;string&#34;&gt;&amp;quot;m3&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# countæ˜¯æ­£æ•°ï¼Œå¤§äºé›†åˆçš„å…ƒç´ æ•°,è¿”å›æ•´ä¸ªé›†åˆ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SRANDMEMBER k56 20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 1) &lt;span class=&#34;string&#34;&gt;&amp;quot;m5&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 2) &lt;span class=&#34;string&#34;&gt;&amp;quot;m6&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 3) &lt;span class=&#34;string&#34;&gt;&amp;quot;m4&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 4) &lt;span class=&#34;string&#34;&gt;&amp;quot;m8&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 5) &lt;span class=&#34;string&#34;&gt;&amp;quot;m7&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 6) &lt;span class=&#34;string&#34;&gt;&amp;quot;m1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 7) &lt;span class=&#34;string&#34;&gt;&amp;quot;m10&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 8) &lt;span class=&#34;string&#34;&gt;&amp;quot;m3&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 9) &lt;span class=&#34;string&#34;&gt;&amp;quot;m2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10) &lt;span class=&#34;string&#34;&gt;&amp;quot;m9&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# countä¸ºè´Ÿæ•°ï¼Œ è¿”å›20ä¸ªé›†åˆä¸­çš„å…ƒç´ ï¼Œå…ƒç´ ä¼šé‡å¤&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SRANDMEMBER k56 -20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 1) &lt;span class=&#34;string&#34;&gt;&amp;quot;m6&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 2) &lt;span class=&#34;string&#34;&gt;&amp;quot;m6&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 3) &lt;span class=&#34;string&#34;&gt;&amp;quot;m9&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 4) &lt;span class=&#34;string&#34;&gt;&amp;quot;m7&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 5) &lt;span class=&#34;string&#34;&gt;&amp;quot;m6&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 6) &lt;span class=&#34;string&#34;&gt;&amp;quot;m5&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 7) &lt;span class=&#34;string&#34;&gt;&amp;quot;m6&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 8) &lt;span class=&#34;string&#34;&gt;&amp;quot;m9&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; 9) &lt;span class=&#34;string&#34;&gt;&amp;quot;m1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10) &lt;span class=&#34;string&#34;&gt;&amp;quot;m6&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11) &lt;span class=&#34;string&#34;&gt;&amp;quot;m1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12) &lt;span class=&#34;string&#34;&gt;&amp;quot;m9&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13) &lt;span class=&#34;string&#34;&gt;&amp;quot;m2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14) &lt;span class=&#34;string&#34;&gt;&amp;quot;m1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15) &lt;span class=&#34;string&#34;&gt;&amp;quot;m2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16) &lt;span class=&#34;string&#34;&gt;&amp;quot;m5&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17) &lt;span class=&#34;string&#34;&gt;&amp;quot;m9&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18) &lt;span class=&#34;string&#34;&gt;&amp;quot;m2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19) &lt;span class=&#34;string&#34;&gt;&amp;quot;m4&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20) &lt;span class=&#34;string&#34;&gt;&amp;quot;m6&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;srem&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#srem&#34;&gt;#&lt;/a&gt;  &lt;code&gt;srem&lt;/code&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;SREM key member [member ...]&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;set remove&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;ç§»é™¤é›†åˆ  &lt;code&gt;key&lt;/code&gt;  ä¸­çš„ä¸€ä¸ªæˆ–å¤šä¸ª  &lt;code&gt;member&lt;/code&gt;  å…ƒç´ ï¼Œä¸å­˜åœ¨çš„  &lt;code&gt;member&lt;/code&gt;  å…ƒç´ ä¼šè¢«å¿½ç•¥ã€‚&lt;/p&gt;
&lt;p&gt;å½“  &lt;code&gt;key&lt;/code&gt;  ä¸æ˜¯é›†åˆç±»å‹ï¼Œè¿”å›ä¸€ä¸ªé”™è¯¯ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SADD k57 m1 m2 m3 m4 m5 m6 m7 m8 m9 m10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SREM k57 m1 m2 m3 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SMEMBERS k57&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;m7&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;m8&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3) &lt;span class=&#34;string&#34;&gt;&amp;quot;m5&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4) &lt;span class=&#34;string&#34;&gt;&amp;quot;m6&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5) &lt;span class=&#34;string&#34;&gt;&amp;quot;m4&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6) &lt;span class=&#34;string&#34;&gt;&amp;quot;m10&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7) &lt;span class=&#34;string&#34;&gt;&amp;quot;m9&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SREM k57 m11 m12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 0&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;smove&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#smove&#34;&gt;#&lt;/a&gt;  &lt;code&gt;smove&lt;/code&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;SMOVE source destination member&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;set move&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å°†  &lt;code&gt;member&lt;/code&gt;  å…ƒç´ ä»  &lt;code&gt;source&lt;/code&gt;  é›†åˆç§»åŠ¨åˆ°  &lt;code&gt;destination&lt;/code&gt;  é›†åˆã€‚&lt;/p&gt;
&lt;p&gt;&lt;b&gt; &lt;code&gt;SMOVE&lt;/code&gt;  æ˜¯åŸå­æ€§æ“ä½œ&lt;/b&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœ  &lt;code&gt;source&lt;/code&gt;  é›†åˆä¸å­˜åœ¨æˆ–ä¸åŒ…å«æŒ‡å®šçš„  &lt;code&gt;member&lt;/code&gt;  å…ƒç´ ï¼Œåˆ™  &lt;code&gt;SMOVE&lt;/code&gt;  å‘½ä»¤ä¸æ‰§è¡Œä»»ä½•æ“ä½œï¼Œä»…è¿”å›  &lt;code&gt;0&lt;/code&gt;  ã€‚å¦åˆ™ï¼Œ  &lt;code&gt;member&lt;/code&gt;  å…ƒç´ ä»  &lt;code&gt;source&lt;/code&gt;  é›†åˆä¸­è¢«ç§»é™¤ï¼Œå¹¶æ·»åŠ åˆ°  &lt;code&gt;destination&lt;/code&gt;  é›†åˆä¸­å»ã€‚&lt;/p&gt;
&lt;p&gt;å½“  &lt;code&gt;destination&lt;/code&gt;  é›†åˆå·²ç»åŒ…å«  &lt;code&gt;member&lt;/code&gt;  å…ƒç´ æ—¶ï¼Œ  &lt;code&gt;SMOVE&lt;/code&gt;  å‘½ä»¤åªæ˜¯ç®€å•åœ°å°†  &lt;code&gt;source&lt;/code&gt;  é›†åˆä¸­çš„  &lt;code&gt;member&lt;/code&gt;  å…ƒç´ åˆ é™¤ã€‚&lt;/p&gt;
&lt;p&gt;å½“  &lt;code&gt;source&lt;/code&gt;  æˆ–  &lt;code&gt;destination&lt;/code&gt;  ä¸æ˜¯é›†åˆç±»å‹æ—¶ï¼Œè¿”å›ä¸€ä¸ªé”™è¯¯ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SADD k58 m1 m2 m3 m4 m5 m6 m7 m8 m9 m10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# ç§»åŠ¨ä¸¤ä¸ªå…ƒç´ åˆ°k58_dis&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SMOVE k58 k58_dis m1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SMOVE k58 k58_dis m2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SMOVE k58 k58_dis m1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# k58ä¸­çš„m1ï¼Œm2 å·²è¢«ç§»é™¤ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SMEMBERS k58&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;m7&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;m8&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3) &lt;span class=&#34;string&#34;&gt;&amp;quot;m5&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4) &lt;span class=&#34;string&#34;&gt;&amp;quot;m6&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5) &lt;span class=&#34;string&#34;&gt;&amp;quot;m4&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6) &lt;span class=&#34;string&#34;&gt;&amp;quot;m10&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7) &lt;span class=&#34;string&#34;&gt;&amp;quot;m3&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8) &lt;span class=&#34;string&#34;&gt;&amp;quot;m9&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# k58_disä¸­çš„m1,m2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SMEMBERS k58_dis&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;m2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;m1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;scard&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#scard&#34;&gt;#&lt;/a&gt;  &lt;code&gt;scard&lt;/code&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;SCARD key&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿”å›é›†åˆ  &lt;code&gt;key&lt;/code&gt;  çš„åŸºæ•° (é›†åˆä¸­å…ƒç´ çš„æ•°é‡)ã€‚&lt;br&gt;
é›†åˆçš„åŸºæ•°ã€‚ å½“  &lt;code&gt;key&lt;/code&gt;  ä¸å­˜åœ¨æ—¶ï¼Œè¿”å›  &lt;code&gt;0&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SADD k59 m1 m2 m3 m4 m5 m6 m7 m8 m9 m10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# è·å–å…ƒç´ ä¸ªæ•°&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SCARD k59&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;sinter&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#sinter&#34;&gt;#&lt;/a&gt;  &lt;code&gt;sinter&lt;/code&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt; SINTER key [key ...]&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;set intersection&lt;/code&gt;  :  &lt;code&gt;set&lt;/code&gt;  çš„äº¤é›†&lt;/p&gt;
&lt;p&gt;è¿”å›ä¸€ä¸ªé›†åˆçš„å…¨éƒ¨æˆå‘˜ï¼Œè¯¥é›†åˆæ˜¯æ‰€æœ‰ç»™å®šé›†åˆçš„äº¤é›†ã€‚&lt;/p&gt;
&lt;p&gt;ä¸å­˜åœ¨çš„  &lt;code&gt;key&lt;/code&gt;  è¢«è§†ä¸ºç©ºé›†ã€‚&lt;/p&gt;
&lt;p&gt;å½“ç»™å®šé›†åˆå½“ä¸­æœ‰ä¸€ä¸ªç©ºé›†æ—¶ï¼Œç»“æœä¹Ÿä¸ºç©ºé›† (æ ¹æ®é›†åˆè¿ç®—å®šå¾‹)ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SADD k60_1 m1 m2 m3 m4 m5 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SADD k60_2 m2 m3 m4 m5 m6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SADD k60_3 m4 m5 m6 m7 m8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# æŒ‡å®šäº†ä¸€ä¸ªkeyï¼Œè¿”å›é›†åˆçš„æ‰€æœ‰å…ƒç´ &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SINTER k60_1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;m4&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;m3&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3) &lt;span class=&#34;string&#34;&gt;&amp;quot;m2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4) &lt;span class=&#34;string&#34;&gt;&amp;quot;m1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5) &lt;span class=&#34;string&#34;&gt;&amp;quot;m5&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# å¤šä¸ªkeyçš„æ—¶å€™ï¼Œè¿”å›é›†åˆçš„äº¤é›†ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SINTER k60_1 k60_2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;m4&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;m3&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3) &lt;span class=&#34;string&#34;&gt;&amp;quot;m2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4) &lt;span class=&#34;string&#34;&gt;&amp;quot;m5&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# å¤šä¸ªkeyçš„æ—¶å€™ï¼Œè¿”å›é›†åˆçš„äº¤é›†ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SINTER k60_1 k60_2 k60_3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;m4&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;m5&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# k60_4ä¸å­˜åœ¨ï¼Œä¸ºç©ºé›†&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SINTER k60_1 k60_4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(empty list or &lt;span class=&#34;built_in&#34;&gt;set&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;sinterstore&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#sinterstore&#34;&gt;#&lt;/a&gt;  &lt;code&gt;sinterstore&lt;/code&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;SINTERSTORE destination key [key ...]&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;set intersection and store&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªå‘½ä»¤ç±»ä¼¼äº SINTER key [key â€¦] å‘½ä»¤ï¼Œè¿”å›é›†åˆçš„äº¤é›†ã€‚ä½†å®ƒå°†ç»“æœä¿å­˜åˆ° destination é›†åˆï¼Œè€Œä¸æ˜¯ç®€å•åœ°è¿”å›ç»“æœé›†ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœ destination é›†åˆå·²ç»å­˜åœ¨ï¼Œåˆ™å°†å…¶è¦†ç›–ã€‚&lt;/p&gt;
&lt;p&gt;destination å¯ä»¥æ˜¯ key æœ¬èº«ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SADD k61_1 m1 m2 m3 m4 m5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SADD k61_2 m4 m5 m6 m7 m8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# å°†k61_1 å’Œ k61_2 é›†åˆçš„äº¤é›†å­˜å‚¨åˆ°k61_disä¸­&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SINTERSTORE k61_dis k61_1 k61_2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# æŸ¥çœ‹ k61_dis&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SMEMBERS k61_dis&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;m4&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;m5&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# k61_1 å’Œ k61_2 æ²¡æœ‰å˜åŒ–&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SMEMBERS k61_1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;m4&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;m3&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3) &lt;span class=&#34;string&#34;&gt;&amp;quot;m2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4) &lt;span class=&#34;string&#34;&gt;&amp;quot;m1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5) &lt;span class=&#34;string&#34;&gt;&amp;quot;m5&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SMEMBERS k61_2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;m7&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;m8&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3) &lt;span class=&#34;string&#34;&gt;&amp;quot;m5&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4) &lt;span class=&#34;string&#34;&gt;&amp;quot;m6&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5) &lt;span class=&#34;string&#34;&gt;&amp;quot;m4&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# å¦‚æœç›®æ ‡é›†åˆ(k61_dis)å­˜åœ¨ï¼Œå…ƒç´ ä¼šè¢«è¦†ç›–æ‰ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SADD k61_3 m1 m2 m3 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SINTERSTORE k61_dis k61_1 k61_3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SMEMBERS k61_dis&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;m1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;m2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3) &lt;span class=&#34;string&#34;&gt;&amp;quot;m3&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;sunion&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#sunion&#34;&gt;#&lt;/a&gt;  &lt;code&gt;sunion&lt;/code&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;SUNION key [key ...]&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;set union&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;è¿”å›ä¸€ä¸ªé›†åˆçš„å…¨éƒ¨æˆå‘˜ï¼Œå¦‚æœæ˜¯å¤šä¸ªé›†åˆ (key), è¿”å›æ‰€æœ‰ç»™å®šé›†åˆçš„å¹¶é›†ã€‚&lt;/p&gt;
&lt;p&gt;ä¸å­˜åœ¨çš„ key è¢«è§†ä¸ºç©ºé›†ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SADD k62_1 m1 m2 m3 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SADD k62_2 m2 m3 m4 m5 m6 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# ä¸€ä¸ªkeyï¼Œè¿”å›æ•´ä¸ªé›†åˆã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SUNION k62_1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;m1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;m2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3) &lt;span class=&#34;string&#34;&gt;&amp;quot;m3&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# å¤šä¸ªkeyï¼Œè¿”å›å¹¶é›†&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SUNION k62_1 k62_2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;m3&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;m1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3) &lt;span class=&#34;string&#34;&gt;&amp;quot;m5&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4) &lt;span class=&#34;string&#34;&gt;&amp;quot;m6&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5) &lt;span class=&#34;string&#34;&gt;&amp;quot;m2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6) &lt;span class=&#34;string&#34;&gt;&amp;quot;m4&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;sunionstore&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#sunionstore&#34;&gt;#&lt;/a&gt;  &lt;code&gt;sunionstore&lt;/code&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;SUNIONSTORE destination key [key ...]&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;set union and store&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;åŒ SINTERSTORE , åªä¸è¿‡å­˜å‚¨çš„æ˜¯å¹¶é›†çš„ç»“æœã€‚ å°†å¤šä¸ªé›†åˆçš„å¹¶é›†å­˜å‚¨åˆ° distination ä¸­ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SADD k63_1 m1 m2 m3 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SADD k63_2 m2 m3 m4 m5 m6 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SUNIONSTORE k63_dis k62_1 k62_2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SMEMBERS k63_dis&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;m3&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;m1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3) &lt;span class=&#34;string&#34;&gt;&amp;quot;m5&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4) &lt;span class=&#34;string&#34;&gt;&amp;quot;m6&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5) &lt;span class=&#34;string&#34;&gt;&amp;quot;m2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6) &lt;span class=&#34;string&#34;&gt;&amp;quot;m4&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;sdiff&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#sdiff&#34;&gt;#&lt;/a&gt;  &lt;code&gt;sdiff&lt;/code&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;SDIFF key [key ...]&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;set difference&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœæŒ‡å®šä¸€ä¸ªé›†åˆï¼Œ &lt;code&gt;key&lt;/code&gt; ï¼Œè¿”å›ä¸€ä¸ªé›†åˆçš„å…¨éƒ¨æˆå‘˜ï¼Œ&lt;/p&gt;
&lt;p&gt;å¦‚æœæŒ‡å®šäº†å¤šä¸ªé›†åˆ ( &lt;code&gt;key&lt;/code&gt; ), åˆ™è¿”å› æ‰€æœ‰ç»™å®šé›†åˆä¹‹é—´çš„å·®é›†ã€‚&lt;/p&gt;
&lt;p&gt;ä¸å­˜åœ¨çš„  &lt;code&gt;key&lt;/code&gt;  è¢«è§†ä¸ºç©ºé›†ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SADD k64_1 m1 m2 m3 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SADD k64_2 m2 m3 m4 m5 m6 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# è¿”å› k64_1 - k64_2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SDIFF k64_1 k64_2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;m1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# è¿”å› k64_2 - k64_1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SDIFF k64_2 k64_1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;m6&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;m4&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3) &lt;span class=&#34;string&#34;&gt;&amp;quot;m5&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;sdiffstore&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#sdiffstore&#34;&gt;#&lt;/a&gt;  &lt;code&gt;sdiffstore&lt;/code&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;SDIFFSTORE destination key [key ...]&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å°†é›†åˆçš„å·®é›†å­˜å‚¨åˆ°  &lt;code&gt;destination&lt;/code&gt;  é›†åˆä¸­.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SADD k65_1 m1 m2 m3 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SADD k65_2 m2 m3 m4 m5 m6 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SDIFFSTORE k65_dis_1 k65_1 k65_2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SMEMBERS k65_dis_1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;m1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SDIFFSTORE k65_dis_2 k65_2 k65_1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SMEMBERS k65_dis_2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;m6&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;m4&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3) &lt;span class=&#34;string&#34;&gt;&amp;quot;m5&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;sscan&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#sscan&#34;&gt;#&lt;/a&gt;  &lt;code&gt;sscan&lt;/code&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;SSCAN key cursor [MATCH pattern] [COUNT count]&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;set scan&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;è¿™æ˜¯ä¸€ä¸ªæŸ¥è¯¢å‘½ä»¤ã€‚ åŒ  &lt;code&gt;SCAN&lt;/code&gt;  å‘½ä»¤ã€‚å¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç«  &lt;a href=&#34;./010-%E5%85%B6%E4%BB%96%E5%91%BD%E4%BB%A4.md&#34;&gt;010 - å…¶ä»–å‘½ä»¤&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;SCAN&lt;/code&gt;  å‘½ä»¤æ˜¯ä¸€ä¸ªåŸºäºæ¸¸æ ‡çš„è¿­ä»£å™¨ï¼ˆ &lt;code&gt;cursor based iterator&lt;/code&gt; ï¼‰ï¼š  &lt;code&gt;SCAN&lt;/code&gt;  å‘½ä»¤æ¯æ¬¡è¢«è°ƒç”¨ä¹‹åï¼Œ éƒ½ä¼šå‘ç”¨æˆ·è¿”å›ä¸€ä¸ªæ–°çš„æ¸¸æ ‡ï¼Œ ç”¨æˆ·åœ¨ä¸‹æ¬¡è¿­ä»£æ—¶éœ€è¦ä½¿ç”¨è¿™ä¸ªæ–°æ¸¸æ ‡ä½œä¸º  &lt;code&gt;SCAN&lt;/code&gt;  å‘½ä»¤çš„æ¸¸æ ‡å‚æ•°ï¼Œ ä»¥æ­¤æ¥å»¶ç»­ä¹‹å‰çš„è¿­ä»£è¿‡ç¨‹ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SSCAN k66 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;0&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) 1) &lt;span class=&#34;string&#34;&gt;&amp;quot;m1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;   2) &lt;span class=&#34;string&#34;&gt;&amp;quot;m3&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;   3) &lt;span class=&#34;string&#34;&gt;&amp;quot;m2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;   4) &lt;span class=&#34;string&#34;&gt;&amp;quot;m4&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;   5) &lt;span class=&#34;string&#34;&gt;&amp;quot;m5&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SSCAN k66 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;0&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) 1) &lt;span class=&#34;string&#34;&gt;&amp;quot;m6&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;   2) &lt;span class=&#34;string&#34;&gt;&amp;quot;m1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;   3) &lt;span class=&#34;string&#34;&gt;&amp;quot;m3&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;   4) &lt;span class=&#34;string&#34;&gt;&amp;quot;m2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;   5) &lt;span class=&#34;string&#34;&gt;&amp;quot;m4&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;   6) &lt;span class=&#34;string&#34;&gt;&amp;quot;m5&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; SSCAN k66 1 MATCH m2 Count 10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;0&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) 1) &lt;span class=&#34;string&#34;&gt;&amp;quot;m2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; &lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&#34;setçš„å†…éƒ¨ç»“æ„&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#setçš„å†…éƒ¨ç»“æ„&#34;&gt;#&lt;/a&gt;  &lt;code&gt;set&lt;/code&gt;  çš„å†…éƒ¨ç»“æ„&lt;/h2&gt;
&lt;p&gt;åœ¨ t_set.c è¿™ä¸ªæ–‡ä»¶ä¸­ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;function&#34;&gt;robj *&lt;span class=&#34;title&#34;&gt;setTypeCreate&lt;/span&gt;&lt;span class=&#34;params&#34;&gt;(sds value)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (&lt;span class=&#34;built_in&#34;&gt;isSdsRepresentableAsLongLong&lt;/span&gt;(value,&lt;span class=&#34;literal&#34;&gt;NULL&lt;/span&gt;) == C_OK)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;built_in&#34;&gt;createIntsetObject&lt;/span&gt;();&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;built_in&#34;&gt;createSetObject&lt;/span&gt;();&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;è¡¨æ˜ï¼Œ &lt;code&gt;set&lt;/code&gt;  æ•°æ®ç±»å‹æ˜¯ç”±ä¸¤ç§æ•°æ®ç»“æ„æ¥å®ç°çš„ã€‚&lt;/p&gt;
&lt;p&gt;è€Œåœ¨  &lt;code&gt;createSetObject()&lt;/code&gt; ï¼ŒæŒ‡æ˜äº†å…¶ç¼–ç æ–¹å¼æ˜¯  &lt;code&gt;OBJ_ENCODING_HT&lt;/code&gt; , å³å“ˆå¸Œè¡¨çš„æ–¹å¼ï¼Œä¹Ÿå°±æ˜¯ä½¿ç”¨ dict è¿™ç§æ•°æ®ç»“æ„æ¥å­˜å‚¨çš„ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;function&#34;&gt;robj *&lt;span class=&#34;title&#34;&gt;createSetObject&lt;/span&gt;&lt;span class=&#34;params&#34;&gt;(&lt;span class=&#34;keyword&#34;&gt;void&lt;/span&gt;)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    dict *d = &lt;span class=&#34;built_in&#34;&gt;dictCreate&lt;/span&gt;(&amp;amp;setDictType, &lt;span class=&#34;literal&#34;&gt;NULL&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    robj *o = &lt;span class=&#34;built_in&#34;&gt;createObject&lt;/span&gt;(OBJ_SET, d);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    o-&amp;gt;encoding = OBJ_ENCODING_HT;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt; o;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;hashtable&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#hashtable&#34;&gt;#&lt;/a&gt;  &lt;code&gt;hashtable&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;è¿™é‡Œå°±ä¸èµ˜è¿°äº†ã€‚ç›´æ¥ä¸Š&lt;a href=&#34;/2021/08/01/Redis%E7%B3%BB%E5%88%97/B-3-Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B9%8Bhash/&#34;&gt;ç©¿æ¢­æœº&lt;/a&gt;å§ã€‚&lt;/p&gt;
&lt;h3 id=&#34;intset&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#intset&#34;&gt;#&lt;/a&gt; intset&lt;/h3&gt;
&lt;p&gt;åœ¨ &lt;code&gt;createIntsetObject()&lt;/code&gt;  ä¸­æŒ‡æ˜äº†ä½¿ç”¨çš„ç¼–ç æ–¹å¼æ˜¯  &lt;code&gt;OBJ_ENCODING_INTSET&lt;/code&gt; . å¦‚ä¸‹ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;function&#34;&gt;robj *&lt;span class=&#34;title&#34;&gt;createIntsetObject&lt;/span&gt;&lt;span class=&#34;params&#34;&gt;(&lt;span class=&#34;keyword&#34;&gt;void&lt;/span&gt;)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    intset *is = &lt;span class=&#34;built_in&#34;&gt;intsetNew&lt;/span&gt;();&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    robj *o = &lt;span class=&#34;built_in&#34;&gt;createObject&lt;/span&gt;(OBJ_SET, is);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    o-&amp;gt;encoding = OBJ_ENCODING_INTSET;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt; o;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æˆ‘ä»¬æ¥çœ‹çœ‹  &lt;code&gt;intset&lt;/code&gt;  åˆ°åº•ä»€ä¹ˆä½•æ–¹åˆ©å™¨.&lt;/p&gt;
&lt;p&gt;æˆ‘ç›´æ¥å…¨é¡¹ç›®æœç´¢:  &lt;code&gt;intset&lt;/code&gt;  ï¼Œå°±æ‰¾åˆ°äº†  &lt;code&gt;intset.h&lt;/code&gt; .&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;typedef&lt;/span&gt; &lt;span class=&#34;class&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;title&#34;&gt;intset&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;uint32_t&lt;/span&gt; encoding; &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;uint32_t&lt;/span&gt; length;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;int8_t&lt;/span&gt; contents[];&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125; intset;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&#34;å­—æ®µè§£é‡Š&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#å­—æ®µè§£é‡Š&#34;&gt;#&lt;/a&gt; å­—æ®µè§£é‡Š:&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;encoding&lt;/code&gt; : æ•°æ®ç¼–ç ï¼Œè¡¨ç¤º &lt;code&gt;intset&lt;/code&gt;  ä¸­çš„æ¯ä¸ªæ•°æ®å…ƒç´ ç”¨å‡ ä¸ªå­—èŠ‚æ¥å­˜å‚¨ã€‚å®ƒæœ‰ä¸‰ç§å¯èƒ½çš„å–å€¼ï¼š &lt;code&gt;INTSET_ENC_INT16&lt;/code&gt;  è¡¨ç¤ºæ¯ä¸ªå…ƒç´ ç”¨ &lt;code&gt;2&lt;/code&gt;  ä¸ªå­—èŠ‚å­˜å‚¨ï¼Œ &lt;code&gt;INTSET_ENC_INT32&lt;/code&gt;  è¡¨ç¤ºæ¯ä¸ªå…ƒç´ ç”¨ &lt;code&gt;4&lt;/code&gt;  ä¸ªå­—èŠ‚å­˜å‚¨ï¼Œ &lt;code&gt;INTSET_ENC_INT64&lt;/code&gt;  è¡¨ç¤ºæ¯ä¸ªå…ƒç´ ç”¨ &lt;code&gt;8&lt;/code&gt;  ä¸ªå­—èŠ‚å­˜å‚¨ã€‚å› æ­¤ï¼Œ &lt;code&gt;intset&lt;/code&gt;  ä¸­å­˜å‚¨çš„æ•´æ•°æœ€å¤šåªèƒ½å ç”¨ &lt;code&gt;64bit&lt;/code&gt; ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;length&lt;/code&gt; : è¡¨ç¤º &lt;code&gt;intset&lt;/code&gt;  ä¸­çš„å…ƒç´ ä¸ªæ•°ã€‚ &lt;code&gt;encoding&lt;/code&gt;  å’Œ &lt;code&gt;length&lt;/code&gt;  ä¸¤ä¸ªå­—æ®µæ„æˆäº† &lt;code&gt;intset&lt;/code&gt;  çš„å¤´éƒ¨ï¼ˆ &lt;code&gt;header&lt;/code&gt; ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;contents&lt;/code&gt; : æ˜¯ä¸€ä¸ªæŸ”æ€§æ•°ç»„ï¼ˆ &lt;code&gt;flexible array member&lt;/code&gt; ï¼‰ï¼Œè¡¨ç¤º &lt;code&gt;intset&lt;/code&gt;  çš„ &lt;code&gt;header&lt;/code&gt;  åé¢ç´§è·Ÿç€æ•°æ®å…ƒç´ ã€‚è¿™ä¸ªæ•°ç»„çš„æ€»é•¿åº¦ï¼ˆå³æ€»å­—èŠ‚æ•°ï¼‰ç­‰äº &lt;code&gt;encoding * length&lt;/code&gt; ã€‚æŸ”æ€§æ•°ç»„åœ¨ &lt;code&gt;Redis&lt;/code&gt;  çš„å¾ˆå¤šæ•°æ®ç»“æ„çš„å®šä¹‰ä¸­éƒ½å‡ºç°è¿‡ï¼ˆä¾‹å¦‚ &lt;code&gt;sds&lt;/code&gt; ,  &lt;code&gt;quicklist&lt;/code&gt; ,  &lt;code&gt;skiplist&lt;/code&gt; ï¼‰ï¼Œç”¨äºè¡¨è¾¾ä¸€ä¸ªåç§»é‡ã€‚ &lt;code&gt;contents&lt;/code&gt;  éœ€è¦å•ç‹¬ä¸ºå…¶åˆ†é…ç©ºé—´ï¼Œè¿™éƒ¨åˆ†å†…å­˜ä¸åŒ…å«åœ¨ &lt;code&gt;intset&lt;/code&gt;  ç»“æ„å½“ä¸­ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™é‡Œæœ‰ä¸ªé—®é¢˜.&lt;/p&gt;
&lt;p&gt;Redis æ˜¯å¦‚ä½•å†³å®šä¸€ä¸ª set ä½¿ç”¨å“ªç§ç¼–ç æ–¹å¼çš„å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;set çš„ç¼–ç æ˜¯ç”±ç¬¬ä¸€ä¸ªå…ƒç´ å†³å®šçš„ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;function&#34;&gt;robj *&lt;span class=&#34;title&#34;&gt;setTypeCreate&lt;/span&gt;&lt;span class=&#34;params&#34;&gt;(sds value)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (&lt;span class=&#34;built_in&#34;&gt;isSdsRepresentableAsLongLong&lt;/span&gt;(value,&lt;span class=&#34;literal&#34;&gt;NULL&lt;/span&gt;) == C_OK)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;built_in&#34;&gt;createIntsetObject&lt;/span&gt;();&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;built_in&#34;&gt;createSetObject&lt;/span&gt;();&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;function&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;title&#34;&gt;isSdsRepresentableAsLongLong&lt;/span&gt;&lt;span class=&#34;params&#34;&gt;(sds s, &lt;span class=&#34;keyword&#34;&gt;long&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;long&lt;/span&gt; *llval)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;built_in&#34;&gt;string2ll&lt;/span&gt;(s, &lt;span class=&#34;built_in&#34;&gt;sdslen&lt;/span&gt;(s), llval) ? C_OK : C_ERR;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å¦‚æœ  &lt;code&gt;value&lt;/code&gt;  å¯ä»¥è½¬æ¢æˆ  &lt;code&gt;long long&lt;/code&gt;  ç±»å‹çš„è¯ï¼Œå°±ä½¿ç”¨  &lt;code&gt;inset&lt;/code&gt;  ç¼–ç æ–¹å¼ã€‚&lt;/p&gt;
&lt;p&gt;é€šè¿‡çœ‹æºç å‘ç°:&lt;/p&gt;
&lt;p&gt;å½“ &lt;code&gt;intset&lt;/code&gt;  çš„å…ƒç´ ä¸ªæ•°è¶…è¿‡  &lt;code&gt;set_max_intset_entries&lt;/code&gt;  è¿™ä¸ªé…ç½®çš„æ—¶å€™ï¼Œå°±ä¼šä» &lt;code&gt;intset&lt;/code&gt;  ç¼–ç  ( &lt;code&gt;OBJ_ENCODING_INTSET&lt;/code&gt; ) è½¬æ¢æˆ  &lt;code&gt;ht&lt;/code&gt;  ç¼–ç  ( &lt;code&gt;OBJ_ENCODING_HT&lt;/code&gt; )ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªæˆ‘ä»¬ä¼šåœ¨åç»­æ–‡ç« ä¸­è¯´æ˜è¿™é‡Œçš„æ–¹æ¡ˆã€‚&lt;/p&gt;
&lt;p&gt;å¥½äº†ï¼Œå…³äº set ç±»å‹çš„ä»‹ç»å°±åˆ°è¿™é‡Œäº†ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ€»ç»“&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#æ€»ç»“&#34;&gt;#&lt;/a&gt; æ€»ç»“&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;set&lt;/code&gt;  è¿™ç§ç±»å‹æ˜¯ä¸€ç§æ— é‡å¤å…ƒç´ çš„é›†åˆã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;set&lt;/code&gt;  çš„ä¸šåŠ¡åœºæ™¯å…³é”®å­—ï¼šå»é‡ï¼Œäº¤å¹¶å·®è¿ç®—ã€‚ä½†æ˜¯ä¸€å®šæ˜¯æ— åºçš„ã€‚å¦‚æœè¦æ±‚æœ‰åºçš„è¯ï¼Œé‚£å°± &lt;a href=&#34;./09-Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B9%8B%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88zset.md&#34;&gt;ä¸‹ä¸€ç¯‡æ–‡ç«   zset&lt;/a&gt; ~&lt;/li&gt;
&lt;li&gt;&lt;code&gt;set&lt;/code&gt;  çš„  &lt;code&gt;15&lt;/code&gt;  ä¸ªå‘½ä»¤ï¼ŒåŠ¡å¿…ç†Ÿè®°ï¼ï¼ï¼&lt;/li&gt;
&lt;li&gt;&lt;code&gt;set&lt;/code&gt;  çš„å†…éƒ¨ç¼–ç æ–¹å¼ã€‚å“ˆå¸Œè¡¨ç¼–ç å’Œ &lt;code&gt;intset&lt;/code&gt;  ç¼–ç ã€‚åé¢ä¼šæœ‰ å…³äº  &lt;code&gt;intset&lt;/code&gt;  æ•°æ®ç»“æ„çš„è¯¦ç»†ä»‹ç»çš„æ–‡ç« ï½&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;æœ€å&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#æœ€å&#34;&gt;#&lt;/a&gt; æœ€å&lt;/h2&gt;
&lt;p&gt;æœŸæœ›ä¸ä½ ä¸€èµ·é‡è§æ›´å¥½çš„è‡ªå·±&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;/images/qrcode.jpg&#34; alt=&#34;æœŸæœ›ä¸ä½ ä¸€èµ·é‡è§æ›´å¥½çš„è‡ªå·±&#34;&gt;&lt;/p&gt;
</content>
        <category term="Redis" />
        <updated>2021-08-01T10:28:55.000Z</updated>
    </entry>
    <entry>
        <id>https://fangjiaxiaobai.github.io/2021/08/01/Redis%E7%B3%BB%E5%88%97/B-3-Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B9%8Bhash/</id>
        <title>Redisæ•°æ®ç»“æ„ä¹‹ Hash</title>
        <link rel="alternate" href="https://fangjiaxiaobai.github.io/2021/08/01/Redis%E7%B3%BB%E5%88%97/B-3-Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B9%8Bhash/"/>
        <content type="html">&lt;h2 id=&#34;ä¹¦æ¥ä¸Šå›&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#ä¹¦æ¥ä¸Šå›&#34;&gt;#&lt;/a&gt; ä¹¦æ¥ä¸Šå›&lt;/h2&gt;
&lt;p&gt;å‰ä¸€ç¯‡æ–‡ç« ï¼Œæˆ‘ä»¬å­¦ä¹ çš„æ˜¯ &lt;a href=&#34;/2021/08/01/Redis%E7%B3%BB%E5%88%97/B-2-Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B9%8Blist/&#34;&gt;Redis çš„æ•°æ®ç»“æ„ list&lt;/a&gt;ï¼Œ å­¦ä¹ äº†å…¶åŸºæœ¬çš„æ“ä½œå’Œä½¿ç”¨å†…éƒ¨æ•°æ®ç»“æ„æ˜¯ &lt;code&gt;quicklist&lt;/code&gt;  å’Œ &lt;code&gt;ziplist&lt;/code&gt; ï¼Œè¿™ä¸¤ç§æ•°æ®ç»“æ„è™½ç„¶èµ·å¾—åå­—æ˜¯ &lt;code&gt;list&lt;/code&gt; ï¼Œä½†æ˜¯å…¶å†…éƒ¨ç»“æ„å´æ˜¯é“¾è¡¨ã€‚å¦‚æœä¸è®°å¾—äº†å…¶å†…éƒ¨æ„æˆï¼Œå°±å†çœ‹çœ‹çœ‹ç€&lt;a href=&#34;/2021/08/01/Redis%E7%B3%BB%E5%88%97/B-2-Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B9%8Blist/&#34;&gt;ä¸Šç¯‡æ–‡ç« &lt;/a&gt;å§ã€‚ç°åœ¨æˆ‘ä»¬ç»§ç»­å­¦ä¹ ä¸‹ä¸€ä¸ªæ•°æ®ç±»å‹  &lt;code&gt;hash&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;hashç®€ä»‹&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#hashç®€ä»‹&#34;&gt;#&lt;/a&gt;  &lt;code&gt;hash&lt;/code&gt;  ç®€ä»‹&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;hash&lt;/code&gt;  æ˜¯ä¸€ä¸ªé”®å€¼å¯¹é›†åˆã€‚æ˜¯  &lt;code&gt;string&lt;/code&gt;  ç±»å‹çš„  &lt;code&gt;key&lt;/code&gt;  å’Œ  &lt;code&gt;value&lt;/code&gt;  çš„æ˜ å°„è¡¨ï¼Œhash ç‰¹åˆ«é€‚åˆç”¨äºå­˜å‚¨å¯¹è±¡ï¼Œæ¯ä¸ª &lt;code&gt;hash&lt;/code&gt;  ç±»å‹å¯ä»¥å­˜å‚¨  &lt;code&gt;2^32-1&lt;/code&gt;  ä¸ªé”®å€¼å¯¹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;hash&lt;/code&gt;  å®é™…ä¸Šå°±æ˜¯ä¸€ä¸ª å“ˆå¸Œè¡¨ã€‚ç±»ä¼¼äº  &lt;code&gt;Java&lt;/code&gt;  é‡Œçš„ &lt;code&gt;HashTable&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯  &lt;code&gt;Redis&lt;/code&gt;  çš„å“ˆå¸Œæ˜¯æœ‰ä¸¤ç§æ•°æ®ç»“æ„ (å†…éƒ¨ç¼–ç ) æ¥è¡¨ç¤ºçš„ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;ä¸€ç§æ˜¯  &lt;code&gt;ziplist&lt;/code&gt;  , ä¸Šç¯‡æ–‡ç« ä¸­æˆ‘ä»¬ç®€å•çš„ä»‹ç»äº† &lt;code&gt;ziplist&lt;/code&gt;  çš„å†…éƒ¨æ„æˆï¼Œè§ &lt;a href=&#34;./06-Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B9%8Blist.md&#34;&gt;Redis çš„æ•°æ®ç»“æ„ list&lt;/a&gt;, ä»¥åŠ &lt;code&gt;ziplist&lt;/code&gt;  çš„ç¼–ç æ–¹å¼ï¼Œå¯ä»¥çœ‹è¿™ç¯‡æ–‡ç«  &lt;a href=&#34;/2021/08/01/Redis%E7%B3%BB%E5%88%97/C-1-Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B9%8Bziplist/&#34;&gt;10-Redis çš„æ•°æ®ç»“æ„ä¹‹ ziplist.md&lt;/a&gt;. é‚£ä¹ˆ  &lt;code&gt;Redis&lt;/code&gt;  ä»€ä¹ˆæ—¶å€™ä¼šä½¿ç”¨ &lt;code&gt;ziplist&lt;/code&gt;  è¿™ç§ç¼–ç æ–¹å¼å‘¢ï¼Ÿ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å½“  &lt;code&gt;hash&lt;/code&gt;  ç±»å‹çš„å…ƒç´ çš„ä¸ªæ•°å°äº  &lt;code&gt;hash-max-ziplist-enties&lt;/code&gt;  é…ç½®ï¼Œé»˜è®¤ &lt;code&gt;512&lt;/code&gt; .&lt;/li&gt;
&lt;li&gt;æ‰€æœ‰çš„å€¼éƒ½å°äº &lt;code&gt;hash-max-ziplist-value&lt;/code&gt;  çš„å€¼ï¼Œé»˜è®¤æ˜¯ &lt;code&gt;64&lt;/code&gt;  ä¸ªå­—èŠ‚çš„æ—¶å€™ã€‚&lt;br&gt;
å½“åŒæ—¶æ»¡è¶³ä»¥ä¸Šä¸¤ä¸ªæ¡ä»¶çš„æ—¶å€™ï¼Œ å°±ä¼šä½¿ç”¨  &lt;code&gt;ziplist&lt;/code&gt;  è¿™ç§ç»“æ„ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™ç§æ–¹å¼æœ€å¤§çš„ä¼˜ç‚¹å°±æ˜¯èŠ‚çº¦ç©ºé—´ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¦ä¸€ç§å°±æ˜¯ä½¿ç”¨  &lt;code&gt;hashtable&lt;/code&gt;  æ¥ç¼–ç äº†ã€‚å½“ä¸æ»¡è¶³ä¸Šé¢æåŠçš„ä¸¤ä¸ªæ¡ä»¶æ—¶ï¼Œå°±ä¼šä½¿ç”¨  &lt;code&gt;hashtable&lt;/code&gt;  æ¥ç¼–ç ã€‚å®é™…ä¸Šæ˜¯  &lt;code&gt;dict&lt;/code&gt;  è¿™ç§æ•°æ®ç»“æ„ã€‚è¿™é‡Œæˆ‘ä»¬åˆå¯ä»¥å­¦ä¹ åˆ°ä¸€ä¸ªæ–°çš„æ•°æ®ç»“æ„  &lt;code&gt;dict&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;hashçš„åº”ç”¨åœºæ™¯&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#hashçš„åº”ç”¨åœºæ™¯&#34;&gt;#&lt;/a&gt; hash çš„åº”ç”¨åœºæ™¯&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;ç¼“å­˜å¯¹è±¡ä¿¡æ¯ï¼šå¯¹è±¡çš„æ¯ä¸ªå±æ€§å¯¹åº”ç€ &lt;code&gt;hash&lt;/code&gt;  çš„ä¸€ä¸ªé”®å€¼å¯¹ã€‚æ”¹å˜çš„æ—¶å€™ï¼Œåªéœ€è¦æ”¹å˜å¯¹åº”çš„æŸä¸ª &lt;code&gt;filed-value&lt;/code&gt;  å³å¯ã€‚&lt;/li&gt;
&lt;li&gt;ç¼“å­˜è´­ç‰©è½¦çš„ä¿¡æ¯ï¼šç”¨æˆ·çš„ &lt;code&gt;id&lt;/code&gt;  ä¸º &lt;code&gt;key&lt;/code&gt; ï¼Œ å•†å“çš„ &lt;code&gt;id&lt;/code&gt;  ä¸º  &lt;code&gt;field&lt;/code&gt; . å•†å“çš„æ•°é‡ä¸º &lt;code&gt;value&lt;/code&gt; ã€‚ æ¯”å¦‚:  &lt;code&gt;hset userId productId productCount&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;hashçš„åŸºæœ¬å‘½ä»¤&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#hashçš„åŸºæœ¬å‘½ä»¤&#34;&gt;#&lt;/a&gt;  &lt;code&gt;hash&lt;/code&gt;  çš„åŸºæœ¬å‘½ä»¤&lt;/h2&gt;
&lt;h3 id=&#34;hset&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#hset&#34;&gt;#&lt;/a&gt;  &lt;code&gt;hset&lt;/code&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;hset key field value&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å°†å“ˆå¸Œè¡¨  &lt;code&gt;hash&lt;/code&gt;  ä¸­åŸŸ  &lt;code&gt;field&lt;/code&gt;  çš„å€¼è®¾ç½®ä¸º  &lt;code&gt;value&lt;/code&gt;  ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœç»™å®šçš„å“ˆå¸Œè¡¨å¹¶ä¸å­˜åœ¨ï¼Œ é‚£ä¹ˆä¸€ä¸ªæ–°çš„å“ˆå¸Œè¡¨å°†è¢«åˆ›å»ºå¹¶æ‰§è¡Œ  &lt;code&gt;HSET&lt;/code&gt;  æ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœåŸŸ  &lt;code&gt;field&lt;/code&gt;  å·²ç»å­˜åœ¨äºå“ˆå¸Œè¡¨ä¸­ï¼Œ é‚£ä¹ˆå®ƒçš„æ—§å€¼å°†è¢«æ–°å€¼  &lt;code&gt;value&lt;/code&gt;  è¦†ç›–ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;## è®¾ç½®ä¸€ä¸ªhashç»“æ„&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; HSET k38 f1 v38&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# è·å–ä¸€ä¸ªå­—æ®µ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; HGET k38 f1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;v38&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# è®¾ç½®ä¸€ä¸ªå·²ç»å­˜åœ¨çš„å€¼, æ³¨æ„è¿”å›çš„å€¼ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; HSET k38 f1 v38v38&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; HGET k38 f1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;v38v38&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;hsetnx&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#hsetnx&#34;&gt;#&lt;/a&gt;  &lt;code&gt;hsetnx&lt;/code&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;HSETNX key field value&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å½“ä¸”ä»…å½“åŸŸ  &lt;code&gt;field&lt;/code&gt;  å°šæœªå­˜åœ¨äºå“ˆå¸Œè¡¨çš„æƒ…å†µä¸‹ï¼Œ å°†å®ƒçš„å€¼è®¾ç½®ä¸º  &lt;code&gt;value&lt;/code&gt;  ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœç»™å®šåŸŸå·²ç»å­˜åœ¨äºå“ˆå¸Œè¡¨å½“ä¸­ï¼Œ é‚£ä¹ˆå‘½ä»¤å°†æ”¾å¼ƒæ‰§è¡Œè®¾ç½®æ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœå“ˆå¸Œè¡¨  &lt;code&gt;hash&lt;/code&gt;  ä¸å­˜åœ¨ï¼Œ é‚£ä¹ˆä¸€ä¸ªæ–°çš„å“ˆå¸Œè¡¨å°†è¢«åˆ›å»ºå¹¶æ‰§è¡Œ  &lt;code&gt;HSETNX&lt;/code&gt;  å‘½ä»¤ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# è®¾ç½®ä¸€ä¸ªä¸å­˜åœ¨çš„ key&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; HSETNX k39 f1 v39&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; HGET k39 f1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;v39&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# å†æ¬¡è®¾ç½®&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; HSETNX k39 f1 v39v39&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; HGET k39 f1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;v39&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;hget&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#hget&#34;&gt;#&lt;/a&gt;  &lt;code&gt;hget&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;è¿™ä¸ªå‘½ä»¤ä¸Šé¢å·²ç»ç”¨åˆ°äº†ã€‚è¿™é‡Œå°±ä¸æµªè´¹æ—¶é—´äº†ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;HGET key field&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è·å–å¯¹åº”çš„  &lt;code&gt;key&lt;/code&gt;  ä¸‹çš„åŸŸ  &lt;code&gt;field&lt;/code&gt;  çš„å€¼ã€‚ä¸å­˜åœ¨çš„æ—¶å€™ï¼Œè¿”å›  &lt;code&gt;nil&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;hgetall&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#hgetall&#34;&gt;#&lt;/a&gt;  &lt;code&gt;hgetall&lt;/code&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;HGETALL key&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿”å›å“ˆå¸Œè¡¨  &lt;code&gt;key&lt;/code&gt;  ä¸­ï¼Œæ‰€æœ‰çš„åŸŸå’Œå€¼ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨è¿”å›å€¼é‡Œï¼Œç´§è·Ÿæ¯ä¸ªåŸŸå ( &lt;code&gt;field name&lt;/code&gt; ) ä¹‹åæ˜¯åŸŸçš„å€¼ ( &lt;code&gt;value&lt;/code&gt; )ï¼Œæ‰€ä»¥è¿”å›å€¼çš„é•¿åº¦æ˜¯å“ˆå¸Œè¡¨å¤§å°çš„ä¸¤å€ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; HGETALL k39 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;f1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;v39&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; hset k39 f2 v39_2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; HGETALL k39 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;f1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;v39&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3) &lt;span class=&#34;string&#34;&gt;&amp;quot;f2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4) &lt;span class=&#34;string&#34;&gt;&amp;quot;v39_2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;hexists&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#hexists&#34;&gt;#&lt;/a&gt;  &lt;code&gt;hexists&lt;/code&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt; HEXISTS key field&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ£€æŸ¥ç»™å®šåŸŸ  &lt;code&gt;field&lt;/code&gt;  æ˜¯å¦å­˜åœ¨äºå“ˆå¸Œè¡¨  &lt;code&gt;hash&lt;/code&gt;  å½“ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;å­˜åœ¨è¿”å› &lt;code&gt;1&lt;/code&gt; , ä¸å­˜åœ¨è¿”å› &lt;code&gt;0&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; HEXISTS k40 f1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; HSET k40 f1 v40&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; HEXISTS k40 f1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;del&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#del&#34;&gt;#&lt;/a&gt;  &lt;code&gt;del&lt;/code&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;HDEL key field [field ...]&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åˆ é™¤å“ˆå¸Œè¡¨ key ä¸­çš„ä¸€ä¸ªæˆ–å¤šä¸ªæŒ‡å®šåŸŸï¼Œä¸å­˜åœ¨çš„åŸŸå°†è¢«å¿½ç•¥ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; HSET k41 f1 v41_1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; HSET k41 f2 v41_2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; HSET k41 f3 v41_3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; HGETALL k41&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;f1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;v41_1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3) &lt;span class=&#34;string&#34;&gt;&amp;quot;f2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4) &lt;span class=&#34;string&#34;&gt;&amp;quot;v41_2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5) &lt;span class=&#34;string&#34;&gt;&amp;quot;f3&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6) &lt;span class=&#34;string&#34;&gt;&amp;quot;v41_3&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; HDEL k41 f1 f3 f4 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; HGETALL k41&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;f2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;v41_2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;hlen&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#hlen&#34;&gt;#&lt;/a&gt;  &lt;code&gt;hlen&lt;/code&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;HLEN key&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿”å›å“ˆå¸Œè¡¨  &lt;code&gt;key&lt;/code&gt;  ä¸­åŸŸçš„æ•°é‡ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; HSET k42 f1 v42_1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; HSET k42 f2 v42_2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; HSET k42 f3 v42_3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; hlen k42&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;hstrlen&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#hstrlen&#34;&gt;#&lt;/a&gt;  &lt;code&gt;hstrlen&lt;/code&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;HSTRLEN key field&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿”å›å“ˆå¸Œè¡¨  &lt;code&gt;key&lt;/code&gt;  ä¸­ï¼Œ ä¸ç»™å®šåŸŸ  &lt;code&gt;field&lt;/code&gt;  ç›¸å…³è”çš„å€¼çš„å­—ç¬¦ä¸²é•¿åº¦ï¼ˆ &lt;code&gt;string length&lt;/code&gt; ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœç»™å®šçš„é”®æˆ–è€…åŸŸä¸å­˜åœ¨ï¼Œ é‚£ä¹ˆå‘½ä»¤è¿”å›  &lt;code&gt;0&lt;/code&gt;  ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; HSET k43 f1 &lt;span class=&#34;string&#34;&gt;&amp;quot;Hello World&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; HSTRLEN k43 f1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; HSTRLEN k43 f2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 0&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;hincrby&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#hincrby&#34;&gt;#&lt;/a&gt; hincrby&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;HINCRBY key field increment&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸ºå“ˆå¸Œè¡¨  &lt;code&gt;key&lt;/code&gt;  ä¸­çš„åŸŸ  &lt;code&gt;field&lt;/code&gt;  çš„å€¼åŠ ä¸Šå¢é‡  &lt;code&gt;increment&lt;/code&gt;  ã€‚&lt;/p&gt;
&lt;p&gt;å¢é‡ä¹Ÿå¯ä»¥ä¸ºè´Ÿæ•°ï¼Œç›¸å½“äºå¯¹ç»™å®šåŸŸè¿›è¡Œå‡æ³•æ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœ  &lt;code&gt;key&lt;/code&gt;  ä¸å­˜åœ¨ï¼Œä¸€ä¸ªæ–°çš„å“ˆå¸Œè¡¨è¢«åˆ›å»ºå¹¶æ‰§è¡Œ  &lt;code&gt;HINCRBY&lt;/code&gt;  å‘½ä»¤ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœåŸŸ  &lt;code&gt;field&lt;/code&gt;  ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆåœ¨æ‰§è¡Œå‘½ä»¤å‰ï¼ŒåŸŸçš„å€¼è¢«åˆå§‹åŒ–ä¸º  &lt;code&gt;0&lt;/code&gt;  ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹ä¸€ä¸ªå‚¨å­˜å­—ç¬¦ä¸²å€¼çš„åŸŸ  &lt;code&gt;field&lt;/code&gt;  æ‰§è¡Œ  &lt;code&gt;HINCRBY&lt;/code&gt;  å‘½ä»¤å°†é€ æˆä¸€ä¸ªé”™è¯¯ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬æ“ä½œçš„å€¼è¢«é™åˆ¶åœ¨  &lt;code&gt;64&lt;/code&gt;  ä½ ( &lt;code&gt;bit&lt;/code&gt; ) æœ‰ç¬¦å·æ•°å­—è¡¨ç¤ºä¹‹å†…ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# ä¸å­˜åœ¨çš„keyä¸åŸŸ field&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; HINCRBY k45 f1 100&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 100&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; HINCRBY k45 f1 -200&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) -100&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; HINCRBY k45 f1 200&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 100&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# é”™è¯¯çš„ç±»å‹&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; HSET k45 f2 v45&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; HINCRBY k45 f2 100&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(error) ERR &lt;span class=&#34;built_in&#34;&gt;hash&lt;/span&gt; value is not an &lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;hincrbyfloat&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#hincrbyfloat&#34;&gt;#&lt;/a&gt;  &lt;code&gt;hincrbyfloat&lt;/code&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;HINCRBYFLOAT  key field increment&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸ºå“ˆå¸Œè¡¨  &lt;code&gt;key&lt;/code&gt;  ä¸­çš„åŸŸ  &lt;code&gt;field&lt;/code&gt;  åŠ ä¸Šæµ®ç‚¹æ•°å¢é‡  &lt;code&gt;increment&lt;/code&gt;  ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœå“ˆå¸Œè¡¨ä¸­æ²¡æœ‰åŸŸ  &lt;code&gt;field&lt;/code&gt;  ï¼Œé‚£ä¹ˆ  &lt;code&gt;HINCRBYFLOAT&lt;/code&gt;  ä¼šå…ˆå°†åŸŸ  &lt;code&gt;field&lt;/code&gt;  çš„å€¼è®¾ä¸º  &lt;code&gt;0&lt;/code&gt;  ï¼Œç„¶åå†æ‰§è¡ŒåŠ æ³•æ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœé”®  &lt;code&gt;key&lt;/code&gt;  ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆ  &lt;code&gt;HINCRBYFLOAT&lt;/code&gt;  ä¼šå…ˆåˆ›å»ºä¸€ä¸ªå“ˆå¸Œè¡¨ï¼Œå†åˆ›å»ºåŸŸ  &lt;code&gt;field&lt;/code&gt;  ï¼Œæœ€åå†æ‰§è¡ŒåŠ æ³•æ“ä½œã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; HINCRBYFLOAT  k46 f1 100.5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;100.5&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; HINCRBYFLOAT  k46 f1 100.5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;201&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; HINCRBYFLOAT  k46 f1 -100.5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;100.5&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; HSET k46 f2 v46_2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;hmset&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#hmset&#34;&gt;#&lt;/a&gt;  &lt;code&gt;hmset&lt;/code&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;HMSET key field value [field value ...]&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åŒæ—¶å°†å¤šä¸ª  &lt;code&gt;field-value&lt;/code&gt;  (åŸŸ - å€¼) å¯¹è®¾ç½®åˆ°å“ˆå¸Œè¡¨  &lt;code&gt;key&lt;/code&gt;  ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;æ­¤å‘½ä»¤ä¼šè¦†ç›–å“ˆå¸Œè¡¨ä¸­å·²å­˜åœ¨çš„åŸŸã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœ  &lt;code&gt;key&lt;/code&gt;  ä¸å­˜åœ¨ï¼Œä¸€ä¸ªç©ºå“ˆå¸Œè¡¨è¢«åˆ›å»ºå¹¶æ‰§è¡Œ  &lt;code&gt;HMSET&lt;/code&gt;  æ“ä½œã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; HMSET k47  f1 v47_1 f2 v47_2 f3 v47_3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;OK&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; HGETALL k47&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;f1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;v47_1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3) &lt;span class=&#34;string&#34;&gt;&amp;quot;f2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4) &lt;span class=&#34;string&#34;&gt;&amp;quot;v47_2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5) &lt;span class=&#34;string&#34;&gt;&amp;quot;f3&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6) &lt;span class=&#34;string&#34;&gt;&amp;quot;v47_3&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;hmget&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#hmget&#34;&gt;#&lt;/a&gt;  &lt;code&gt;hmget&lt;/code&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;HMGET key field [field ...]&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿”å›å“ˆå¸Œè¡¨  &lt;code&gt;key&lt;/code&gt;  ä¸­ï¼Œä¸€ä¸ªæˆ–å¤šä¸ªç»™å®šåŸŸçš„å€¼ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœç»™å®šçš„åŸŸä¸å­˜åœ¨äºå“ˆå¸Œè¡¨ï¼Œé‚£ä¹ˆè¿”å›ä¸€ä¸ª  &lt;code&gt;nil&lt;/code&gt;  å€¼ã€‚&lt;/p&gt;
&lt;p&gt;å› ä¸ºä¸å­˜åœ¨çš„  &lt;code&gt;key&lt;/code&gt;  è¢«å½“ä½œä¸€ä¸ªç©ºå“ˆå¸Œè¡¨æ¥å¤„ç†ï¼Œæ‰€ä»¥å¯¹ä¸€ä¸ªä¸å­˜åœ¨çš„  &lt;code&gt;key&lt;/code&gt;  è¿›è¡Œ  &lt;code&gt;HMGET&lt;/code&gt;  æ“ä½œå°†è¿”å›ä¸€ä¸ªåªå¸¦æœ‰  &lt;code&gt;nil&lt;/code&gt;  å€¼çš„è¡¨ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; HMSET k48 f1 v1 f2 v2 f3 v3 f4 v4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;OK&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; hmget k48 f1 f3 f4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;v1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;v3&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3) &lt;span class=&#34;string&#34;&gt;&amp;quot;v4&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; &lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;hkeys&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#hkeys&#34;&gt;#&lt;/a&gt;  &lt;code&gt;hkeys&lt;/code&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;HKEYS key&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿”å›å“ˆå¸Œè¡¨  &lt;code&gt;key&lt;/code&gt;  ä¸­çš„æ‰€æœ‰åŸŸã€‚&lt;/p&gt;
&lt;p&gt;å½“  &lt;code&gt;key&lt;/code&gt;  ä¸å­˜åœ¨æ—¶ï¼Œè¿”å›ä¸€ä¸ªç©ºè¡¨ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; HMSET k49 f1 v1 f2 v2 f3 v3 f4 v4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;OK&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; HKEYS k49&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;f1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;f2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3) &lt;span class=&#34;string&#34;&gt;&amp;quot;f3&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4) &lt;span class=&#34;string&#34;&gt;&amp;quot;f4&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;hvals&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#hvals&#34;&gt;#&lt;/a&gt;  &lt;code&gt;hvals&lt;/code&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;HVALS key&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿”å›  &lt;code&gt;key&lt;/code&gt;  å¯¹åº”çš„æ‰€æœ‰çš„ &lt;code&gt;value&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; HMSET k50 f1 v1 f2 v2 f3 v3 f4 v4 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;OK&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; HVALS k50&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;v1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;v2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3) &lt;span class=&#34;string&#34;&gt;&amp;quot;v3&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4) &lt;span class=&#34;string&#34;&gt;&amp;quot;v4&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;hscan&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#hscan&#34;&gt;#&lt;/a&gt;  &lt;code&gt;hscan&lt;/code&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;HSCAN key cursor [MATCH pattern] [COUNT count]&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™æ˜¯ä¸€ä¸ªæŸ¥è¯¢å‘½ä»¤ã€‚ åŒ SCAN å‘½ä»¤ã€‚å¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç«  &lt;a href=&#34;./010-%E5%85%B6%E4%BB%96%E5%91%BD%E4%BB%A4.md&#34;&gt;010 - å…¶ä»–å‘½ä»¤&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;SCAN&lt;/code&gt;  å‘½ä»¤æ˜¯ä¸€ä¸ªåŸºäºæ¸¸æ ‡çš„è¿­ä»£å™¨ï¼ˆ &lt;code&gt;cursor based iterator&lt;/code&gt; ï¼‰ï¼š  &lt;code&gt;SCAN&lt;/code&gt;  å‘½ä»¤æ¯æ¬¡è¢«è°ƒç”¨ä¹‹åï¼Œ éƒ½ä¼šå‘ç”¨æˆ·è¿”å›ä¸€ä¸ªæ–°çš„æ¸¸æ ‡ï¼Œ ç”¨æˆ·åœ¨ä¸‹æ¬¡è¿­ä»£æ—¶éœ€è¦ä½¿ç”¨è¿™ä¸ªæ–°æ¸¸æ ‡ä½œä¸º  &lt;code&gt;SCAN&lt;/code&gt;  å‘½ä»¤çš„æ¸¸æ ‡å‚æ•°ï¼Œ ä»¥æ­¤æ¥å»¶ç»­ä¹‹å‰çš„è¿­ä»£è¿‡ç¨‹ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; HMSET k51  f1 v1 f2 v2 f3 v3 f4 v4 f5 v5 f6 v6 f7 v7 f8 v8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;OK&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; hscan k51 0 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;0&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2)  1) &lt;span class=&#34;string&#34;&gt;&amp;quot;f1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    2) &lt;span class=&#34;string&#34;&gt;&amp;quot;v1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    3) &lt;span class=&#34;string&#34;&gt;&amp;quot;f2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    4) &lt;span class=&#34;string&#34;&gt;&amp;quot;v2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    5) &lt;span class=&#34;string&#34;&gt;&amp;quot;f3&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    6) &lt;span class=&#34;string&#34;&gt;&amp;quot;v3&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    7) &lt;span class=&#34;string&#34;&gt;&amp;quot;f4&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    8) &lt;span class=&#34;string&#34;&gt;&amp;quot;v4&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    9) &lt;span class=&#34;string&#34;&gt;&amp;quot;f5&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;   10) &lt;span class=&#34;string&#34;&gt;&amp;quot;v5&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;   11) &lt;span class=&#34;string&#34;&gt;&amp;quot;f6&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;   12) &lt;span class=&#34;string&#34;&gt;&amp;quot;v6&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;   13) &lt;span class=&#34;string&#34;&gt;&amp;quot;f7&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;   14) &lt;span class=&#34;string&#34;&gt;&amp;quot;v7&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;   15) &lt;span class=&#34;string&#34;&gt;&amp;quot;f8&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;   16) &lt;span class=&#34;string&#34;&gt;&amp;quot;v8&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ä»¥ä¸Šï¼Œå°±æ˜¯  &lt;code&gt;Redis&lt;/code&gt;  ä¸­ &lt;code&gt;hash&lt;/code&gt;  ç±»å‹ç›¸å…³çš„ &lt;code&gt;15&lt;/code&gt;  ä¸ªå‘½ä»¤äº†ã€‚åŠ¡å¿…ç†Ÿè®°ï½&lt;/p&gt;
&lt;h2 id=&#34;hashçš„å†…éƒ¨ç»“æ„&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#hashçš„å†…éƒ¨ç»“æ„&#34;&gt;#&lt;/a&gt;  &lt;code&gt;hash&lt;/code&gt;  çš„å†…éƒ¨ç»“æ„&lt;/h2&gt;
&lt;p&gt;åœ¨  &lt;code&gt;hash&lt;/code&gt;  ç±»å‹ç®€ä»‹çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±è¯´è¿‡  &lt;code&gt;hash&lt;/code&gt;  æ˜¯ç”¨ä¸¤ç§æ•°æ®ç»“æ„æ¥ç¼–ç çš„ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;ziplist&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;hashtable&lt;/code&gt; ( &lt;code&gt;dict&lt;/code&gt; )&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;ziplist&lt;/code&gt;  ä¹‹å‰å·²ç»åˆ†äº«è¿‡äº†ã€‚å…·ä½“å‚è€ƒä¹‹å‰çš„æ–‡ç« å§ã€‚ &lt;a href=&#34;./06-Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B9%8Blist.md&#34;&gt;é“¾æ¥&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¿™é‡Œæˆ‘ä»¬å°±ç®€å•çš„æ¥çœ‹ä¸‹  &lt;code&gt;hashtable&lt;/code&gt; .&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬ç›´æ¥æœç´¢  &lt;code&gt;hash&lt;/code&gt;  , å¯ä»¥å‘ç°  &lt;code&gt;t_hash.c&lt;/code&gt;  è¿™ä¸ªæ–‡ä»¶ï¼Œå¼•å…¥äº†  &lt;code&gt;server.h&lt;/code&gt;  . å¤§ä½“çœ‹äº†ä¸€ä¸‹ï¼Œéƒ½æ˜¯å‡½æ•°çš„å®ç°ã€‚é‚£æˆ‘ä»¬çœ‹ä¸‹  &lt;code&gt;server.h&lt;/code&gt;  ï¼Œåº”è¯¥å­˜åœ¨å¯¹  &lt;code&gt;hastable&lt;/code&gt;  çš„å®šä¹‰å§ã€‚ç„¶è€Œï¼Œå¹¶æ²¡æœ‰ã€‚&lt;/p&gt;
&lt;p&gt;é‚£æˆ‘ä»¬æ¥çœ‹ä¸‹ &lt;code&gt;t_hash.c&lt;/code&gt;  ä¸­æ·»åŠ æ–¹æ³•çš„å®ç°å§.  &lt;code&gt;int hashTypeSet(robj *o, sds field, sds value, int flags)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;æºç å¤ªé•¿äº†ï¼Œè¿™é‡Œå°±ä¸ç²˜äº†ï¼Œ å¯ä»¥çœ‹&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRlZS5jb20vZmFuZ2ppYXhpYW9iYWkvcmVkaXMvYmxvYi9yZWRpczUuMF9jaGluZXNlX3RyYW5zbGF0ZS9zcmMvdF9oYXNoLmM=&#34;&gt;æºç &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;é€šè¿‡æŸ¥çœ‹æºç å¯ä»¥å¾—å‡º:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;hash&lt;/code&gt;  ç±»å‹çš„é»˜è®¤ç¼–ç æ˜¯  &lt;code&gt;OBJ_ZIPLIST&lt;/code&gt; . å³é»˜è®¤æ˜¯ä½¿ç”¨  &lt;code&gt;ziplist&lt;/code&gt;  è¿™ç§æ•°æ®ç»“æ„è¿›è¡Œç¼–ç å­˜å‚¨çš„ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;function&#34;&gt;robj *&lt;span class=&#34;title&#34;&gt;createHashObject&lt;/span&gt;&lt;span class=&#34;params&#34;&gt;(&lt;span class=&#34;keyword&#34;&gt;void&lt;/span&gt;)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;unsigned&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;char&lt;/span&gt; *zl = &lt;span class=&#34;built_in&#34;&gt;ziplistNew&lt;/span&gt;();&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    robj *o = &lt;span class=&#34;built_in&#34;&gt;createObject&lt;/span&gt;(OBJ_HASH, zl);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    o-&amp;gt;encoding = OBJ_ENCODING_ZIPLIST;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt; o;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;å½“ &lt;code&gt;hash&lt;/code&gt;  å…ƒç´ çš„ä¸ªæ•°å¤§äº  &lt;code&gt;hash_max_ziplist_entries&lt;/code&gt;  æ—¶ä¼šï¼Œè½¬æ¢æˆ  &lt;code&gt;hashTable&lt;/code&gt; ( &lt;code&gt;OBJ_ENCODING_HT&lt;/code&gt; ),&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;...&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (&lt;span class=&#34;built_in&#34;&gt;hashTypeLength&lt;/span&gt;(o) &amp;gt; server.hash_max_ziplist_entries)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &lt;span class=&#34;built_in&#34;&gt;hashTypeConvert&lt;/span&gt;(o, OBJ_ENCODING_HT);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;...&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ä½†æ˜¯åœ¨  &lt;code&gt;redis 5.0.7&lt;/code&gt;  ä¸­æš‚æ—¶ä¸æ”¯æŒè¿™ç§æ–¹å¼ï¼Œè¿˜æ²¡æœ‰å®ç°ã€‚(&lt;b&gt;æ²¡æœ‰å®ç°ä» &lt;code&gt;ziplist&lt;/code&gt;  ç¼–ç è½¬åŒ–æˆ &lt;code&gt;hash&lt;/code&gt;  ç¼–ç ã€‚&lt;/b&gt;)&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;function&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;title&#34;&gt;hashTypeConvert&lt;/span&gt;&lt;span class=&#34;params&#34;&gt;(robj *o, &lt;span class=&#34;keyword&#34;&gt;int&lt;/span&gt; enc)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (o-&amp;gt;encoding == OBJ_ENCODING_ZIPLIST) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;built_in&#34;&gt;hashTypeConvertZiplist&lt;/span&gt;(o, enc);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125; &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;/// è¿™é‡Œï¼ï¼ï¼&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (o-&amp;gt;encoding == OBJ_ENCODING_HT) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;built_in&#34;&gt;serverPanic&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;quot;Not implemented&amp;quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125; &lt;span class=&#34;keyword&#34;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;built_in&#34;&gt;serverPanic&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;quot;Unknown hash encoding&amp;quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;å½“åˆ›å»ºçš„ &lt;code&gt;hash&lt;/code&gt;  ç±»å‹æ˜¯  &lt;code&gt;hashtable&lt;/code&gt;  ç¼–ç  ( &lt;code&gt;OBJ_ENCODING_HT&lt;/code&gt; ) æ—¶ï¼Œæ˜¯ä½¿ç”¨ &lt;code&gt;dict&lt;/code&gt;  è¿™ç§ç±»å‹å­˜å‚¨çš„.&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;/// dictç±»å‹&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;typedef&lt;/span&gt; &lt;span class=&#34;class&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;title&#34;&gt;dict&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    dictType *type;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;void&lt;/span&gt; *privdata;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;/// 2ä¸ªå“ˆå¸Œè¡¨æ¥å®ç°&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    dictht ht[&lt;span class=&#34;number&#34;&gt;2&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;long&lt;/span&gt; rehashidx; &lt;span class=&#34;comment&#34;&gt;/* rehashing not in progress if rehashidx == -1 */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;unsigned&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;long&lt;/span&gt; iterators; &lt;span class=&#34;comment&#34;&gt;/* number of iterators currently running */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125; dict;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;/// å“ˆå¸Œè¡¨å®ç°&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;typedef&lt;/span&gt; &lt;span class=&#34;class&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;title&#34;&gt;dictht&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    dictEntry **table; &lt;span class=&#34;comment&#34;&gt;/// å“ˆå¸Œè¡¨èŠ‚ç‚¹æŒ‡é’ˆæ•°æ®(javaæºç ä¸­çš„æ¡¶çš„æ¦‚å¿µ)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;unsigned&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;long&lt;/span&gt; size; &lt;span class=&#34;comment&#34;&gt;/// æŒ‡é’ˆæ•°ç»„çš„å¤§å°&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;unsigned&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;long&lt;/span&gt; sizemask; &lt;span class=&#34;comment&#34;&gt;/// æŒ‡é’ˆæ•°æ®çš„é•¿åº¦æ©ç ,ç”¨äºè®¡ç®—ç´¢å¼•å€¼&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;unsigned&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;long&lt;/span&gt; used; &lt;span class=&#34;comment&#34;&gt;/// å“ˆå¸Œè¡¨ç°æœ‰çš„èŠ‚ç‚¹æ•°é‡&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125; dictht;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;///å“ˆå¸Œè¡¨çš„èŠ‚ç‚¹&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;typedef&lt;/span&gt; &lt;span class=&#34;class&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;title&#34;&gt;dictEntry&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;/// é”®&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;void&lt;/span&gt; *key;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;/// å€¼&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;class&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;union&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;keyword&#34;&gt;void&lt;/span&gt; *val;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;keyword&#34;&gt;uint64_t&lt;/span&gt; u64;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;keyword&#34;&gt;int64_t&lt;/span&gt; s64;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;keyword&#34;&gt;double&lt;/span&gt; d;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125; v;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;/// ä¸‹ä¸€ä¸ªèŠ‚ç‚¹: dictht æ˜¯ä½¿ç”¨é“¾åœ°å€æ³•æ¥å¤„ç†hashå†²çªã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;class&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;title&#34;&gt;dictEntry&lt;/span&gt; *&lt;span class=&#34;title&#34;&gt;next&lt;/span&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125; dictEntry;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æ•´ä¸ª  &lt;code&gt;dict&lt;/code&gt;  ç»“æ„å°±å¯ä»¥è¿™ä¹ˆè¡¨ç¤º:&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;/images/Redis%E7%B3%BB%E5%88%97/images/Redis-01-dict%E7%BB%93%E6%9E%84%E5%AD%98%E5%82%A8.png&#34; alt=&#34;Redis-01-dictç»“æ„å­˜å‚¨&#34;&gt;&lt;/p&gt;
&lt;p&gt;åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å°±çŸ¥é“äº†  &lt;code&gt;hash&lt;/code&gt;  è¿™ç§ç±»å‹ï¼Œæ˜¯å¦‚ä½•å­˜å‚¨çš„äº†ã€‚ å¦‚æœä½ è¿˜æƒ³äº†è§£&lt;br&gt;
 &lt;code&gt;dict&lt;/code&gt;  æ˜¯å¦‚ä½•  &lt;code&gt;rehash&lt;/code&gt; , æ‰©å®¹ï¼Œç¼©å®¹ã€‚ä»¥åŠ  &lt;code&gt;dict api&lt;/code&gt;  ç›¸å…³å®ç°çš„è¯ï¼Œç§»é©¾è¿™ç¯‡æ–‡ç« å§ã€‚ &lt;a href=&#34;./Redis%E4%B8%AD%E7%9A%84dict%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.md&#34;&gt;èµ·é©¾ï½&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;æ€»ç»“&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#æ€»ç»“&#34;&gt;#&lt;/a&gt; æ€»ç»“&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;hash&lt;/code&gt;  ç»“æ„ï¼Œæ˜¯ä¸€ç§å“ˆå¸Œè¡¨ç»“æ„ã€‚é€šè¿‡ä¸¤ç§æ•°æ®ç»“æ„ &lt;code&gt;ziplist&lt;/code&gt;  å’Œ  &lt;code&gt;hashtable&lt;/code&gt; ( &lt;code&gt;dict&lt;/code&gt; ) å®ç°ã€‚&lt;/li&gt;
&lt;li&gt;è¦ç†Ÿç»ƒæŒæ¡çš„  &lt;code&gt;hash&lt;/code&gt;  ç›¸å…³çš„ &lt;code&gt;15&lt;/code&gt;  ä¸ªå‘½ä»¤ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;hashtable&lt;/code&gt;  çš„ç¼–ç æ ¼å¼ï¼Œå®é™…ä¸Šå°±æ˜¯ä½¿ç”¨çš„  &lt;code&gt;dict&lt;/code&gt;  è¿™ç§ç¼–ç æ–¹å¼ã€‚æˆ‘ä»¬ç®€å•çš„å­¦ä¹ äº† &lt;code&gt;Redis&lt;/code&gt;  ä¸­ &lt;code&gt;dict&lt;/code&gt;  ç»“æ„çš„å®ç°ã€‚è¿˜æœ‰ä¸€ç¯‡ä¸“é—¨çš„æ–‡ç« ï¼Œæ¥ä»‹ç»  &lt;code&gt;dict&lt;/code&gt;  çš„è¯¦ç»†å†…å®¹ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;æœ€å&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#æœ€å&#34;&gt;#&lt;/a&gt; æœ€å&lt;/h2&gt;
&lt;p&gt;æœŸæœ›ä¸ä½ ä¸€èµ·é‡è§æ›´å¥½çš„è‡ªå·±&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;/images/qrcode.jpg&#34; alt=&#34;æœŸæœ›ä¸ä½ ä¸€èµ·é‡è§æ›´å¥½çš„è‡ªå·±&#34;&gt;&lt;/p&gt;
</content>
        <category term="Redis" />
        <updated>2021-08-01T07:18:55.000Z</updated>
    </entry>
    <entry>
        <id>https://fangjiaxiaobai.github.io/2021/08/01/Redis%E7%B3%BB%E5%88%97/B-2-Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B9%8Blist/</id>
        <title>Redisæ•°æ®ç»“æ„ä¹‹ List</title>
        <link rel="alternate" href="https://fangjiaxiaobai.github.io/2021/08/01/Redis%E7%B3%BB%E5%88%97/B-2-Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B9%8Blist/"/>
        <content type="html">&lt;h2 id=&#34;ä¹¦æ¥ä¸Šå›&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#ä¹¦æ¥ä¸Šå›&#34;&gt;#&lt;/a&gt; ä¹¦æ¥ä¸Šå›&lt;/h2&gt;
&lt;p&gt;ä¸Šä¸€ç¯‡æ–‡ç«  &lt;a href=&#34;/2021/08/01/Redis%E7%B3%BB%E5%88%97/B-1-Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B9%8BString/&#34;&gt;Redis çš„æ•°æ®ç»“æ„ string&lt;/a&gt; æˆ‘ä»¬ä¸€èµ·å­¦ä¹ äº†è¿™ç§ç±»å‹çš„å¸¸ç”¨å‘½ä»¤ï¼Œå¹¶ä¸”è¿˜å­¦ä¹ äº†  &lt;code&gt;Redis&lt;/code&gt;  ä¸­çš„å­—ç¬¦ä¸²çš„ç»“æ„è¡¨ç¤ºä»¥åŠå¥½å¤„ï¼Œè¿™é‡Œæˆ‘ä»¬æ¥ç€å­¦ä¹ å¦å¤–ä¸€ç§æ•°æ®ç»“æ„  &lt;code&gt;list&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;h2 id=&#34;list-ç®€ä»‹&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#list-ç®€ä»‹&#34;&gt;#&lt;/a&gt;  &lt;code&gt;list&lt;/code&gt;  ç®€ä»‹&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;list&lt;/code&gt; , ä¸€èˆ¬éƒ½ä¼šç§°ä¸ºåˆ—è¡¨ã€‚åœ¨ &lt;code&gt;Redis&lt;/code&gt;  ä¸­ï¼Œè¿™ç§æ•°æ®ç»“æ„æ˜¯ä¸€ç§æ¯”è¾ƒçµæ´»çš„ç»“æ„ï¼Œç”±äºå…¶å…ƒç´ çš„æ˜¯æœ‰åºçš„ï¼Œæ‰€ä»¥å¯ä»¥å……å½“æ ˆå’Œé˜Ÿåˆ—è¿™ä¸¤ç§æ•°æ®ç»“æ„ã€‚å®é™…åœ¨å¼€å‘æ€»ä¹Ÿæœ‰å¾ˆå¤šåº”ç”¨åœºæ™¯ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ª &lt;code&gt;List&lt;/code&gt;  æœ€å¤šå¯ä»¥åŒ…å«  &lt;code&gt;2^32-1&lt;/code&gt;  ä¸ªå…ƒç´ ã€‚&lt;/p&gt;
&lt;p&gt;å¾ˆå¤šäººéƒ½ä¼šä»¥ä¸º &lt;code&gt;list&lt;/code&gt;  æ˜¯ç”¨æ•°ç»„æ¥å®ç°çš„ï¼Œéä¹Ÿï¼Œéä¹Ÿã€‚å®ƒå†…éƒ¨æ˜¯ &lt;code&gt;quicklist&lt;/code&gt;  è¿™ç§æ•°æ®ç»“æ„ã€‚æƒ³è¦å…ˆç¹ä¸ºå¿«çš„ï¼Œé‚£ä¹ˆå&lt;a href=&#34;##%60list%60%E5%86%85%E9%83%A8%E7%BB%93%E6%9E%84%E4%B9%8B%60quicklist%60&#34;&gt;ç”µæ¢¯ç›´è¾¾&lt;/a&gt;å§ã€‚&lt;/p&gt;
&lt;h2 id=&#34;listçš„ç›¸å…³å‘½ä»¤&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#listçš„ç›¸å…³å‘½ä»¤&#34;&gt;#&lt;/a&gt;  &lt;code&gt;list&lt;/code&gt;  çš„ç›¸å…³å‘½ä»¤&lt;/h2&gt;
&lt;h3 id=&#34;lpushå‘½ä»¤&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#lpushå‘½ä»¤&#34;&gt;#&lt;/a&gt;  &lt;code&gt;LPUSH&lt;/code&gt;  å‘½ä»¤&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;LPUSH key value [value â€¦]&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;lpush&lt;/code&gt;  :  &lt;code&gt;left push&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;p&gt;å°†ä¸€ä¸ªæˆ–è€…å¤šä¸ªå€¼æ’å…¥åˆ°åˆ—è¡¨ &lt;code&gt;key&lt;/code&gt;  çš„è¡¨å¤´ï¼Œè¿”å›åˆ—è¡¨çš„é•¿åº¦ã€‚å…ƒç´ å¯ä»¥æ˜¯é‡å¤çš„ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœ &lt;code&gt;key&lt;/code&gt;  ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆä¼šå…ˆç©¿ä»¶ä¸€ä¸ªåˆ—è¡¨ï¼Œç„¶åå†æ‰§è¡Œ &lt;code&gt;push&lt;/code&gt;  æ“ä½œ.&lt;/p&gt;
&lt;p&gt;å¦‚æœ &lt;code&gt;key&lt;/code&gt;  å€¼å­˜åœ¨ï¼Œä½†æ˜¯ &lt;code&gt;value&lt;/code&gt;  ç±»å‹ä¸æ˜¯åˆ—è¡¨ç±»å‹æ—¶ï¼Œä¼šè¿”å›ä¸€ä¸ªé”™è¯¯ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;bash&#34;&gt; è®¾ç½®ä¸€ä¸ªåˆ—è¡¨&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; LPUSH k22 v22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;bash&#34;&gt; æŸ¥è¯¢æŒ‡å®šåŒºé—´å†…çš„æ•°æ®,ä½¿ç”¨lrangeå‘½ä»¤&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; LRANGE k22 0 10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &amp;quot;v22&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;bash&#34;&gt; ä¸€æ¬¡æ’å…¥å¤šä¸ªå€¼&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; LPUSH k22 v22_1 v22_2 v22_3 v22_4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; LRANGE k22 0 10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &amp;quot;v22_4&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &amp;quot;v22_3&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3) &amp;quot;v22_2&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4) &amp;quot;v22_1&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5) &amp;quot;v22&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;lpushx-å‘½ä»¤&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#lpushx-å‘½ä»¤&#34;&gt;#&lt;/a&gt;  &lt;code&gt;lpushx&lt;/code&gt;  å‘½ä»¤&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;LPUSHX key value&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä»…å½“  &lt;code&gt;key&lt;/code&gt;  å­˜åœ¨çš„æ—¶å€™ï¼Œæ‰å°†  &lt;code&gt;value&lt;/code&gt;  æ’å…¥åˆ—è¡¨çš„è¡¨å¤´ã€‚è¿”å›åˆ—è¡¨ä¸­å…ƒç´ çš„ä¸ªæ•°ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# å½“keyå€¼ä¸å­˜åœ¨çš„æ—¶å€™ï¼Œä¸ä¼šæ”¾å…¥åˆ—è¡¨ä¸­&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; LPUSHX k23 v23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# å†æ¬¡å°è¯•æ”¾å…¥ï¼Œä¹Ÿä¸å¯ä»¥ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; LPUSHX k23 v23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# å…ˆå¾€æ•°ç»„æ”¾å…¥ä¸€ä¸ªå…ƒç´ &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; lpush k23 v23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# å†æ¬¡å°è¯•ä½¿ç”¨lpushxæ”¾å…¥æ•°æ®&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; LPUSHX k23 v23_1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# å†æ¬¡å°è¯•ä½¿ç”¨lpushxæ”¾å…¥æ•°æ®&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; LPUSHX k23 v23_2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# æŸ¥çœ‹åˆ—è¡¨ k23 ä¸­çš„æ•°æ®ã€‚æ³¨æ„ï¼šå’Œæ’å…¥çš„é¡ºåºæ˜¯ç›¸åçš„ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; Lrange k23 0 -1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;v23_2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;v23_1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3) &lt;span class=&#34;string&#34;&gt;&amp;quot;v23&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;rpush-å‘½ä»¤&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#rpush-å‘½ä»¤&#34;&gt;#&lt;/a&gt;  &lt;code&gt;rpush&lt;/code&gt;  å‘½ä»¤&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;RPUSH key value [value ...]&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;rpush&lt;/code&gt;  å°±æ˜¯ &lt;code&gt;right push&lt;/code&gt; ã€‚å°†ä¸€ä¸ªæˆ–å¤šä¸ªå€¼  &lt;code&gt;value&lt;/code&gt;  æ’å…¥åˆ°åˆ—è¡¨  &lt;code&gt;key&lt;/code&gt;  çš„è¡¨å°¾ (æœ€å³è¾¹)ã€‚è¿”å›åˆ—è¡¨çš„é•¿åº¦ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœ  &lt;code&gt;key&lt;/code&gt;  ä¸å­˜åœ¨çš„æ—¶å€™ï¼Œä¼šåˆ›å»ºä¸€ä¸ªç©ºåˆ—è¡¨ï¼Œç„¶ååœ¨æ‰§è¡Œ  &lt;code&gt;rpush&lt;/code&gt;  æ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœ  &lt;code&gt;key&lt;/code&gt;  å­˜åœ¨ï¼Œä½†æ˜¯ä¸æ˜¯ä¸€ä¸ªåˆ—è¡¨ç±»å‹æ—¶ï¼Œè¿”å›ä¸€ä¸ªé”™è¯¯ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;bash&#34;&gt; å¾€åˆ—è¡¨ä¸­åŠ å…¥æ•°æ®&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; RPUSH k24 v24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; RPUSH k24 v24_1 v25_2 v25_3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; lrange k24 0 -1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &amp;quot;v24&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &amp;quot;v24_1&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3) &amp;quot;v25_2&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4) &amp;quot;v25_3&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;bash&#34;&gt; æ¼”ç¤º key å­˜åœ¨ï¼Œä½†æ˜¯ä¸æ˜¯ä¸€ä¸ªåˆ—è¡¨ç±»å‹&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; set k24_1 v24_1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;OK&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; rpush k24_1 v24_1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(error) WRONGTYPE Operation against a key holding the wrong kind of value&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;rpushx-å‘½ä»¤&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#rpushx-å‘½ä»¤&#34;&gt;#&lt;/a&gt;  &lt;code&gt;rpushx&lt;/code&gt;  å‘½ä»¤&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;rpushx key value&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸  &lt;code&gt;lpushx&lt;/code&gt;  ç±»ä¼¼ï¼Œå¦‚æœ &lt;code&gt;key&lt;/code&gt;  ä¸å­˜åœ¨æ—¶ï¼Œä»€ä¹ˆéƒ½ä¸ä¼šæ“ä½œã€‚å¦‚æœ &lt;code&gt;key&lt;/code&gt;  å­˜åœ¨ï¼Œæ‰ä¼šå°†å…ƒç´ æ·»åŠ åˆ°è¡¨å°¾ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;bash&#34;&gt; keyä¸å­˜åœ¨çš„æ—¶å€™ï¼Œä¸ä¼šæ’å…¥æ•°æ®&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; rpushx k25 v25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;bash&#34;&gt; å…ˆè®¾ç½®ä¸€ä¸ªåˆ—è¡¨&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; rpush k25 v25_1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; rpushx k25 v25_2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; rpushx k25 v25_3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;bash&#34;&gt; æŸ¥çœ‹åˆ—è¡¨ä¸­çš„æ•°æ®ã€‚æ³¨æ„å’Œæ’å…¥çš„é¡ºåºæ˜¯ä¸€è‡´çš„ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; lrange k25 0 -1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &amp;quot;v25_1&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &amp;quot;v25_2&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3) &amp;quot;v25_3&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;lpop-å‘½ä»¤&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#lpop-å‘½ä»¤&#34;&gt;#&lt;/a&gt;  &lt;code&gt;lpop&lt;/code&gt;  å‘½ä»¤&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;LPOP key&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;left pop&lt;/code&gt; ;&lt;/p&gt;
&lt;p&gt;ç§»é™¤å¹¶è¿”å›åˆ—è¡¨çš„å¤´å…ƒç´ ã€‚å½“ &lt;code&gt;key&lt;/code&gt;  ä¸å­˜åœ¨çš„æ—¶å€™ï¼Œè¿”å› &lt;code&gt;nil&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;bash&#34;&gt; keyä¸å­˜åœ¨çš„æ—¶å€™ï¼Œè¿”å›nil&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; LPOP k26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(nil)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;bash&#34;&gt; è®¾ç½®ä¸€ä¸ªåˆ—è¡¨ï¼Œæœ‰ä¸‰ä¸ªå…ƒç´ &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; lpush k26 v26_1 v26_2 v26_3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;bash&#34;&gt; æŸ¥çœ‹åˆ—è¡¨ä¸­çš„å…ƒç´ &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; lrange k26 0 -1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &amp;quot;v26_3&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &amp;quot;v26_2&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3) &amp;quot;v26_1&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;bash&#34;&gt; ä¾æ¬¡popå‡ºå…ƒç´ &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; lpop k26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;quot;v26_3&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; lpop k26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;quot;v26_2&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; lpop k26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;quot;v26_1&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; lpop k26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(nil)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;tipï¼š  &lt;code&gt;lpush&lt;/code&gt;  +  &lt;code&gt;lpop&lt;/code&gt;  =&amp;gt; æ ˆï¼Œ &lt;code&gt;rpush&lt;/code&gt;  +  &lt;code&gt;lpop&lt;/code&gt;  =&amp;gt; é˜Ÿåˆ—ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;rpop-å‘½ä»¤&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#rpop-å‘½ä»¤&#34;&gt;#&lt;/a&gt;  &lt;code&gt;rpop&lt;/code&gt;  å‘½ä»¤&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;rpop key&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;rpop&lt;/code&gt;  ï¼š  &lt;code&gt;right pop&lt;/code&gt; ;&lt;/p&gt;
&lt;p&gt;å’Œ lpop ç›¸åã€‚ç§»é™¤å¹¶è¿”å›åˆ—è¡¨çš„å°¾å…ƒç´ ã€‚å¦‚æœ key ä¸å­˜åœ¨è¿”å› nilã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# key ä¸å­˜åœ¨ï¼Œè¿”å›nil&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; rpop k27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(nil)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# å…ˆè®¾ç½®ä¸€ä¸ªåˆ—è¡¨&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; lpush k27 v27_1 v27_2 v27_3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; lrange k27 0 -1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;v27_3&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;v27_2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3) &lt;span class=&#34;string&#34;&gt;&amp;quot;v27_1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# ä¸€æ¬¡popæ¯ä¸ªå€¼&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; rpop k27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;v27_1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; rpop k27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;v27_2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; rpop k27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;v27_3&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; rpop k27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(nil)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;tip:  &lt;code&gt;lpush&lt;/code&gt;  +  &lt;code&gt;rpop&lt;/code&gt;  =&amp;gt; é˜Ÿåˆ—ï¼Œ &lt;code&gt;rpush&lt;/code&gt;  +  &lt;code&gt;rpop&lt;/code&gt;  =&amp;gt; æ ˆã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;lrange-å‘½ä»¤&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#lrange-å‘½ä»¤&#34;&gt;#&lt;/a&gt;  &lt;code&gt;lrange&lt;/code&gt;  å‘½ä»¤&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;LRANGE key start stop&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è·å–æŒ‡å®šåŒºé—´å†…çš„å…ƒç´ ã€‚0 è¡¨ç¤ºç¬¬ä¸€ä¸ªå…ƒç´ ã€‚å¦‚æœè¶…è¿‡äº†å®é™…èŒƒå›´å°±è¿”å›ç©ºæ•°ç»„ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; LRANGE k22 0 10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;v22_4&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;v22_3&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3) &lt;span class=&#34;string&#34;&gt;&amp;quot;v22_2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4) &lt;span class=&#34;string&#34;&gt;&amp;quot;v22_1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5) &lt;span class=&#34;string&#34;&gt;&amp;quot;v22&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; LRANGE k22 0 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;v22_4&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;v22_3&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; LRANGE k22 10 100&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(empty list or &lt;span class=&#34;built_in&#34;&gt;set&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;rpoplpush-å‘½ä»¤&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#rpoplpush-å‘½ä»¤&#34;&gt;#&lt;/a&gt;  &lt;code&gt;rpoplpush&lt;/code&gt;  å‘½ä»¤&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;RPOPLPUSH source destination&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å°†  &lt;code&gt;source&lt;/code&gt;  çš„å°¾å…ƒç´ æ’å…¥åˆ° &lt;code&gt;destination&lt;/code&gt;  åˆ—è¡¨çš„å¤´å…ƒç´ ä¸­ï¼Œè¿”å›è¯¥å…ƒç´ ã€‚ æ³¨æ„ï¼Œè¿™æ˜¯ä¸€ä¸ªåŸå­æ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚:  &lt;code&gt;source&lt;/code&gt; :  &lt;code&gt;a,b,c&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;distination&lt;/code&gt; :  &lt;code&gt;1,2,3&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨  &lt;code&gt;RPOPLPUSH source distination&lt;/code&gt;  , åˆ™ï¼š&lt;/p&gt;
&lt;p&gt;&lt;code&gt;source&lt;/code&gt; :  &lt;code&gt;a,b&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;distination&lt;/code&gt; :  &lt;code&gt;c,1,2,3&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# è®¾ç½®åˆ—è¡¨1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; lpush k28_1 v28_c v28_b v28_a&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# è®¾ç½®åˆ—è¡¨2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; lpush k28_2 v28_3 v28_2 v28_1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# ä½¿ç”¨ rpoppushå‘½ä»¤&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; RPOPLPUSH k28_1 k28_2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;v28_c&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# æŸ¥çœ‹åˆ—è¡¨1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; lrange k28_1 0 -1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;v28_a&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;v28_b&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# æŸ¥çœ‹åˆ—è¡¨2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; lrange k28_2 0 -1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;v28_c&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;v28_1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3) &lt;span class=&#34;string&#34;&gt;&amp;quot;v28_2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4) &lt;span class=&#34;string&#34;&gt;&amp;quot;v28_3&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;lrem-å‘½ä»¤&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#lrem-å‘½ä»¤&#34;&gt;#&lt;/a&gt;  &lt;code&gt;lrem&lt;/code&gt;  å‘½ä»¤&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;LREM key count value&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è‡³å¤šç§»é™¤åˆ—è¡¨ä¸­  &lt;code&gt;count&lt;/code&gt;  ä¸ªä¸å‚æ•°  &lt;code&gt;value&lt;/code&gt;  ç›¸ç­‰çš„å…ƒç´ ã€‚&lt;/p&gt;
&lt;p&gt;æœ‰ä»¥ä¸‹æƒ…æ³:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;count &amp;gt; 0&lt;/code&gt;  : ä»è¡¨å¤´å¼€å§‹å‘è¡¨å°¾æœç´¢ï¼Œç§»é™¤ä¸  &lt;code&gt;value&lt;/code&gt;  ç›¸ç­‰çš„å…ƒç´ ï¼Œæœ€å¤šç§»é™¤ &lt;code&gt;count&lt;/code&gt;  ä¸ª ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;count &amp;lt; 0&lt;/code&gt;  : ä»è¡¨å°¾å¼€å§‹å‘è¡¨å¤´æœç´¢ï¼Œç§»é™¤ä¸  &lt;code&gt;value&lt;/code&gt;  ç›¸ç­‰çš„å…ƒç´ ï¼Œæœ€å¤šç§»é™¤ &lt;code&gt;|count|&lt;/code&gt;  ä¸ªã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;count = 0&lt;/code&gt;  : ç§»é™¤è¡¨ä¸­æ‰€æœ‰ä¸  &lt;code&gt;value&lt;/code&gt;  ç›¸ç­‰çš„å€¼ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;bash&#34;&gt; æ¼”ç¤º count&amp;gt;0 æ—¶&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;bash&#34;&gt; è®¾ç½®ä¸€ä¸ªåˆ—è¡¨&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; lpush k29_1 v29_1  v29  v29_2 v29 v29_3 v29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;bash&#34;&gt; ä»è¡¨å¤´å¼€å§‹ï¼Œç§»é™¤2ä¸ª v29&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; lrem k29_1 2 v29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; lrange k29_1 0 -1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &amp;quot;v29_3&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &amp;quot;v29_2&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3) &amp;quot;v29&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4) &amp;quot;v29_1&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;bash&#34;&gt; æ¼”ç¤ºcount&amp;lt;0 æ—¶&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; lpush k29_2 v29_1 v29  v29_2 v29 v29_3 v29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; lrem k29_2 -2 v29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; LRANGE k29_2 0 -1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &amp;quot;v29&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &amp;quot;v29_3&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3) &amp;quot;v29_2&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4) &amp;quot;v29_1&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;bash&#34;&gt; æ¼”ç¤ºcount=0æ—¶&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; lpush k29_3 v29_1 v29  v29_2 v29 v29_3 v29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; lrem k29_3 0 v29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; LRANGE k29_3 0 -1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &amp;quot;v29_3&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &amp;quot;v29_2&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3) &amp;quot;v29_1&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;llen-å‘½ä»¤&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#llen-å‘½ä»¤&#34;&gt;#&lt;/a&gt;  &lt;code&gt;llen&lt;/code&gt;  å‘½ä»¤&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;LLEN key&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è·å–åˆ—è¡¨çš„é•¿åº¦ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœ  &lt;code&gt;key&lt;/code&gt;  ä¸å­˜åœ¨çš„æ—¶å€™ï¼Œè¿”å› &lt;code&gt;0&lt;/code&gt; .&lt;/p&gt;
&lt;p&gt;å¦‚æœ  &lt;code&gt;key&lt;/code&gt;  å¯¹åº”ç±»å‹ä¸æ˜¯  &lt;code&gt;list&lt;/code&gt;  ï¼Œåˆ™è¿”å›ä¸€ä¸ªé”™è¯¯ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; llen k30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; lpush k30 v30_1 v30_2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; llen k30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# åˆ æ‰k30ï¼Œæ¼”ç¤ºï¼Œç±»å‹ä¸æ˜¯listçš„æ—¶å€™ï¼ŒæŠ¥é”™&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; del k30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; &lt;span class=&#34;built_in&#34;&gt;set&lt;/span&gt; k30 v30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;OK&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; llen k30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(error) WRONGTYPE Operation against a key holding the wrong kind of value&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;lindex-å‘½ä»¤&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#lindex-å‘½ä»¤&#34;&gt;#&lt;/a&gt;  &lt;code&gt;lindex&lt;/code&gt;  å‘½ä»¤&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;lindex key index&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿”å›åˆ—è¡¨ä¸­ï¼Œä¸‹æ ‡ä¸º  &lt;code&gt;index&lt;/code&gt;  çš„å…ƒç´ .  &lt;code&gt;-1&lt;/code&gt;  è¡¨ç¤ºåˆ—è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œå¦‚æœ &lt;code&gt;key&lt;/code&gt;  ä¸å­˜åœ¨ï¼Œæˆ–è€… &lt;code&gt;index&lt;/code&gt;  è¶…å‡ºèŒƒå›´ï¼Œè¿”å› &lt;code&gt;nil&lt;/code&gt; ï¼Œ å¦‚æœ key ä¸æ˜¯ä¸€ä¸ªåˆ—è¡¨ç±»å‹ï¼Œè¿”å›ä¸€ä¸ªé”™è¯¯ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; lpush k31 v31_3 v31_2 v31_1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; LINDEX k31 2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;quot;v31_3&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; LINDEX k31 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;quot;v31_2&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; LINDEX k31 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;quot;v31_1&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;linsert-å‘½ä»¤&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#linsert-å‘½ä»¤&#34;&gt;#&lt;/a&gt;  &lt;code&gt;linsert&lt;/code&gt;  å‘½ä»¤&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;linsert key BEFORE|AFTER pivot value&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å°† &lt;code&gt;value&lt;/code&gt;  æ’å…¥åˆ° &lt;code&gt;key&lt;/code&gt;  é˜Ÿåˆ— &lt;code&gt;pivot&lt;/code&gt;  å€¼ä¹‹å‰æˆ–è€…ä¹‹åã€‚è¿”å›æ’å…¥å®Œæˆä¹‹ååˆ—è¡¨çš„é•¿åº¦ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœ  &lt;code&gt;pivot&lt;/code&gt;  ä¸å­˜åœ¨ æˆ–è€…  &lt;code&gt;key&lt;/code&gt;  ä¸å­˜åœ¨ï¼Œä¸æ‰§è¡Œä»»ä½•æ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœ  &lt;code&gt;key&lt;/code&gt;  å¯¹åº”çš„ä¸æ˜¯ä¸€ä¸ªåˆ—è¡¨ç±»å‹ï¼Œè¿”å›ä¸€ä¸ªé”™è¯¯ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; linsert k32 BEFORE k31_1 k31_0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; lpush k32 v32_1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;bash&#34;&gt; k32_3 =&amp;gt; pivotä¸å­˜åœ¨&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; linsert k32 BEFORE v32_3 v31_2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) -1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;bash&#34;&gt; pivotä¹‹å‰æ’å…¥&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; linsert k32 BEFORE v32_1 v31_0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;bash&#34;&gt; pivotä¹‹åæ’å…¥&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; linsert k32 AFTER v32_1 v31_2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(integer) 3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;lset-å‘½ä»¤&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#lset-å‘½ä»¤&#34;&gt;#&lt;/a&gt; lset å‘½ä»¤&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;lset key index value&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å°†åˆ—è¡¨ä¸­çš„ ç´¢å¼•ä¸º &lt;code&gt;index&lt;/code&gt;  çš„å€¼è®¾ç½®ä¸º &lt;code&gt;value&lt;/code&gt; ã€‚ å¦‚æœ &lt;code&gt;index&lt;/code&gt;  è¶…å‡ºèŒƒå›´ï¼Œåˆ™è¿”å›ä¸€ä¸ªé”™è¯¯&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; lpush k33 v33_3 v33_1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; lrange k33 0 -1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;v33_1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;v33_3&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;## å°†ç¬¬äºŒä¸ªå€¼ï¼Œç´¢å¼•ä¸º1ï¼Œè®¾ç½®ä¸ºv33_2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; lset k33 1 v33_2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;OK&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; lrange k33 0 -1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;v33_1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;v33_2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# è¶…å‡ºèŒƒå›´è¿”å›é”™è¯¯&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; lset k33 2 v33_2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(error) ERR index out of range&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;ltrim-å‘½ä»¤&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#ltrim-å‘½ä»¤&#34;&gt;#&lt;/a&gt;  &lt;code&gt;ltrim&lt;/code&gt;  å‘½ä»¤&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;ltrim key start stop&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¿ç•™åˆ—è¡¨ä» &lt;code&gt;start&lt;/code&gt;  åˆ° &lt;code&gt;stop&lt;/code&gt;  ä¹‹é—´çš„å…ƒç´ ã€‚å…¶ä»–å…ƒç´ éƒ½å°†è¢«åˆ é™¤ã€‚ æ³¨æ„ï¼šåŒ…å« (ä¸åˆ é™¤) &lt;code&gt;start&lt;/code&gt;  å’Œ &lt;code&gt;stop&lt;/code&gt;  ä¸¤ä¸ªå…ƒç´ .&lt;/p&gt;
&lt;p&gt;å¦‚æœ &lt;code&gt;key&lt;/code&gt;  ä¸å­˜åœ¨ï¼Œç›´æ¥è¿”å› &lt;code&gt;OK&lt;/code&gt; , å¦‚æœ &lt;code&gt;key&lt;/code&gt;  å¯¹åº”çš„ä¸æ˜¯åˆ—è¡¨ï¼Œç›´æ¥è¿”å›é”™è¯¯ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; lpush k34 v34_1 v34_2 v34_3 v34_4 v34_5 v34_6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; ltrim k34 1 4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;OK&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; lrange k34  0 -1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;v34_5&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;v34_4&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3) &lt;span class=&#34;string&#34;&gt;&amp;quot;v34_3&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4) &lt;span class=&#34;string&#34;&gt;&amp;quot;v34_2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;blpop-å‘½ä»¤&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#blpop-å‘½ä»¤&#34;&gt;#&lt;/a&gt; blpop å‘½ä»¤&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;BLPOP key [key ...] timeout&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;lpop&lt;/code&gt;  çš„ é˜»å¡ç‰ˆæœ¬ã€‚  &lt;code&gt;block left pop&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å½“ç»™å®šåˆ—è¡¨å†…æ²¡æœ‰ä»»ä½•å…ƒç´ å¯ä¾›å¼¹å‡ºçš„æ—¶å€™ï¼Œè¿æ¥å°†è¢« BLPOP å‘½ä»¤é˜»å¡ï¼Œç›´åˆ°ç­‰å¾…è¶…æ—¶æˆ–å‘ç°å¯å¼¹å‡ºå…ƒç´ ä¸ºæ­¢ã€‚&lt;br&gt;
å½“ç»™å®šå¤šä¸ª key å‚æ•°æ—¶ï¼ŒæŒ‰å‚æ•° key çš„å…ˆåé¡ºåºä¾æ¬¡æ£€æŸ¥å„ä¸ªåˆ—è¡¨ï¼Œå¼¹å‡ºç¬¬ä¸€ä¸ªéç©ºåˆ—è¡¨çš„å¤´å…ƒç´ ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;44&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# pushåˆ°ä¸‰ç»„åˆ—è¡¨ï¼Œåˆ†åˆ«ä¸‰ä¸ªå…ƒç´ &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; lpush k35 v35_1 v35_2 v35_3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; lrange k35 0 -1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;v35_3&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;v35_2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3) &lt;span class=&#34;string&#34;&gt;&amp;quot;v35_1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; lpush k35_1 v35_1 v35_2 v35_3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; lpush k35_2 v35_1 v35_2 v35_3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# é˜»å¡è°ƒç”¨lpop, ä»å·¦åˆ°å³ ä¾æ¬¡popå…ƒç´ ï¼Œç›´åˆ°æœ‰ä¸€ä¸ªå…ƒç´ å¯ä»¥popã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; blpop k35 k35_1 k35_2 10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;k35&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;v35_3&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; blpop k35 k35_1 k35_2 10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;k35&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;v35_2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; blpop k35 k35_1 k35_2 10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;k35&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;v35_1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; blpop k35 k35_1 k35_2 10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;k35_1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;v35_3&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; blpop k35 k35_1 k35_2 10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;k35_1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;v35_2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; blpop k35 k35_1 k35_2 10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;k35_1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;v35_1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; blpop k35 k35_1 k35_2 10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;k35_2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;v35_3&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; blpop k35 k35_1 k35_2 10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;k35_2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;v35_2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; blpop k35 k35_1 k35_2 10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;k35_2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;v35_1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; blpop k35 k35_1 k35_2 10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# æ²¡æœ‰å…ƒç´ çš„æ—¶å€™ä¼šé˜»å¡ä¸€ç›´åˆ°è¶…æ—¶ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(nil)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(10.59s)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;brpop-å‘½ä»¤&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#brpop-å‘½ä»¤&#34;&gt;#&lt;/a&gt;  &lt;code&gt;brpop&lt;/code&gt;  å‘½ä»¤&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;BRPOP key [key ...] timeout&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;rpop&lt;/code&gt;  çš„é˜»å¡ç‰ˆæœ¬ã€‚  &lt;code&gt;block right pop&lt;/code&gt; &lt;br&gt;
 å½“ç»™å®šå¤šä¸ª &lt;code&gt;key&lt;/code&gt;  çš„æ—¶å€™ï¼ŒæŒ‰ç…§ &lt;code&gt;key&lt;/code&gt;  çš„å…ˆåé¡ºåºä¾æ¬¡æ£€æŸ¥å„ä¸ªåˆ—è¡¨ã€‚ç›´åˆ°å¼¹å‡ºä¸€ä¸ªå…ƒç´ æˆ–è€…è¶…æ—¶ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# è®¾ç½®ä¸¤ä¸ªåˆ—è¡¨&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; lpush k36 v36_1 v36_2 v36_3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; lpush k36_1 v36_1 v36_2 v36_3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# é˜»å¡å¼çš„popå‡ºæ¯ä¸ªå€¼ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; BRPOP k36 k36_1 10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;k36&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;v36_1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; BRPOP k36 k36_1 10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;k36&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;v36_2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; BRPOP k36 k36_1 10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;k36&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;v36_3&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; BRPOP k36 k36_1 10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;k36_1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;v36_1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; BRPOP k36 k36_1 10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;k36_1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;v36_2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; BRPOP k36 k36_1 10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;k36_1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;v36_3&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; BRPOP k36 k36_1 10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# é˜»å¡10s&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(nil)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(10.61s)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;Tips:  &lt;code&gt;lpush&lt;/code&gt;  +  &lt;code&gt;brpop&lt;/code&gt;  =&amp;gt; é˜»å¡é˜Ÿåˆ—ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;brpoplpush-å‘½ä»¤&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#brpoplpush-å‘½ä»¤&#34;&gt;#&lt;/a&gt;  &lt;code&gt;brpoplpush&lt;/code&gt;  å‘½ä»¤&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è¯­æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;BRPOPLPUSH source destination timeout&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£é‡Š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;rpoplpush&lt;/code&gt;  çš„é˜»å¡ç‰ˆæœ¬ã€‚  &lt;code&gt;block right left push&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;p&gt;å½“åˆ—è¡¨  &lt;code&gt;source&lt;/code&gt;  ä¸ºç©ºçš„æ—¶å€™ï¼Œè¯¥å‘½ä»¤å°†é˜»å¡ï¼Œç›´åˆ°è¶…æ—¶ï¼Œæˆ–è€… source ä¸­æœ‰ä¸€ä¸ªå…ƒç´ å¯ä»¥ popã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¼”ç¤º&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# è®¾ç½®ä¸€ä¸ªåˆ—è¡¨&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; lpush k37_source v37_1 v37_2 v37_3 v37_4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# å°†sourceç§»åŠ¨åˆ°distinationä¸­ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; BRPOPLPUSH k37_source k37_distination 10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;v37_1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# æŸ¥çœ‹ä¸‹distinationã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; lrange k37_distination 0 -1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;v37_1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; BRPOPLPUSH k37_source k37_distination 10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;v37_2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; BRPOPLPUSH k37_source k37_distination 10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;v37_3&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; BRPOPLPUSH k37_source k37_distination 10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;v37_4&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# è¿™æ—¶æˆ‘ä»¬å¯åŠ¨ä¸¤ä¸ªå®¢æˆ·ç«¯,æ¼”ç¤ºé˜»å¡ç›´åˆ°å¦ä¸€ä¸ªå®¢æˆ·ç«¯æ‰§è¡Œsourceåˆ—è¡¨ä¸­çš„æ’å…¥æ“ä½œã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# å®¢æˆ·ç«¯1ä¸­ç»§ç»­æ‰§è¡Œ BRPOPLPUSH, ç„¶åé©¬ä¸Šåœ¨å®¢æˆ·ç«¯2ä¸­ï¼Œè¾“å…¥&amp;quot;LPUSH k37_source v37_5&amp;quot;.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# å®¢æˆ·ç«¯1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; BRPOPLPUSH k37_source k37_distination 10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;v37_5&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(3.02s)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# å®¢æˆ·ç«¯2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; LPUSH k37_source v37_5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&#34;listå†…éƒ¨ç»“æ„ä¹‹quicklist&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#listå†…éƒ¨ç»“æ„ä¹‹quicklist&#34;&gt;#&lt;/a&gt;  &lt;code&gt;list&lt;/code&gt;  å†…éƒ¨ç»“æ„ä¹‹ &lt;code&gt;quicklist&lt;/code&gt;&lt;/h2&gt;
&lt;h3 id=&#34;quicklist&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#quicklist&#34;&gt;#&lt;/a&gt;  &lt;code&gt;quicklist&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ &lt;code&gt;list&lt;/code&gt;  çš„å†…éƒ¨å®ç°  &lt;code&gt;quicklist&lt;/code&gt;  ç»“æ„.&lt;/p&gt;
&lt;p&gt;ç‰¹åˆ«æ³¨æ˜ï¼š  &lt;code&gt;quicklist&lt;/code&gt;  æ˜¯åŒå‘çš„é“¾è¡¨ç»“æ„ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ &lt;code&gt;Redis&lt;/code&gt;  ä¸­ä½¿ç”¨å¦‚ä¸‹ç»“æ„ä½“è¡¨ç¤º.&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;typedef&lt;/span&gt; &lt;span class=&#34;class&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;title&#34;&gt;quicklist&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// å¤´ç»“ç‚¹&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    quicklistNode *head;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// å°¾ç»“ç‚¹&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    quicklistNode *tail;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// åˆ—è¡¨çš„å…ƒç´ ä¸ªæ•°&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;unsigned&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;long&lt;/span&gt; count;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// é“¾è¡¨çš„é•¿åº¦&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;unsigned&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;long&lt;/span&gt; len;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// å•ä¸ªèŠ‚ç‚¹çš„å¡«å……å› å­&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;int&lt;/span&gt; fill : &lt;span class=&#34;number&#34;&gt;16&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// ä¸è¿›è¡ŒèŠ‚ç‚¹å‹ç¼©çš„æœ€å¤§æ·±åº¦&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// è¶…è¿‡è¿™ä¸ªèŠ‚ç‚¹å°±ä¼šè¿›è¡ŒèŠ‚ç‚¹å‹ç¼©&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;unsigned&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;int&lt;/span&gt; compress : &lt;span class=&#34;number&#34;&gt;16&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125; quicklist;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;code&gt;quicklist&lt;/code&gt;  æ˜¯å›ä¸€ä¸ªé€šç”¨çš„åŒå‘é“¾æ¥å¿«é€Ÿåˆ—è¡¨å®ç°ã€‚å®ƒçš„æ¯ä¸ªèŠ‚ç‚¹ç”¨  &lt;code&gt;quicklistNode&lt;/code&gt;  è¡¨ç¤ºã€‚&lt;/p&gt;
&lt;p&gt;ä¸€èµ·æ¥çœ‹ä¸‹  &lt;code&gt;qucklistNode&lt;/code&gt;  æ˜¯ä»€ä¹ˆå§ã€‚&lt;/p&gt;
&lt;h3 id=&#34;quicklistnode&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#quicklistnode&#34;&gt;#&lt;/a&gt;  &lt;code&gt;quicklistNode&lt;/code&gt;&lt;/h3&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;typedef&lt;/span&gt; &lt;span class=&#34;class&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;title&#34;&gt;quicklistNode&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// å‰ä¸€ä¸ªèŠ‚ç‚¹&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;class&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;title&#34;&gt;quicklistNode&lt;/span&gt; *&lt;span class=&#34;title&#34;&gt;prev&lt;/span&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// åä¸€ä¸ªèŠ‚ç‚¹&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;class&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;title&#34;&gt;quicklistNode&lt;/span&gt; *&lt;span class=&#34;title&#34;&gt;next&lt;/span&gt;;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// æ•°æ®æŒ‡é’ˆã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// å¦‚æœæŒ‡å‘çš„æ•°æ®æ²¡æœ‰è¢«å‹ç¼©,é‚£ä¹ˆä¼šæŒ‡å‘zipListç»“æ„ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// å¦‚æœè¿›è¡Œäº†å‹ç¼©ï¼Œé‚£ä¹ˆä¼šæŒ‡å‘ quickLZFç»“æ„ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;unsigned&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;char&lt;/span&gt; *zl;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// å½“å‰èŠ‚ç‚¹çš„å¤§å°&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;unsigned&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;int&lt;/span&gt; sz;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// å…ƒç´ çš„ä¸ªæ•°&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;unsigned&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;int&lt;/span&gt; count : &lt;span class=&#34;number&#34;&gt;16&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// ç¼–ç æ–¹å¼ï¼Œ1=RAWï¼Œ2=LZF&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// 1 è¡¨ç¤ºæœªè¢«å‹ç¼©&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// 2 è¡¨ç¤ºä½¿ç”¨LZFç»“æ„è¿›è¡Œçš„å‹ç¼©&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;unsigned&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;int&lt;/span&gt; encoding : &lt;span class=&#34;number&#34;&gt;2&lt;/span&gt;;   &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// ä½¿ç”¨çš„å®¹å™¨æ˜¯ä»€ä¹ˆï¼Ÿ1=NONE,2=ZIPLIST&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;unsigned&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;int&lt;/span&gt; container : &lt;span class=&#34;number&#34;&gt;2&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// å‰ä¸€ä¸ªèŠ‚ç‚¹æ˜¯å¦è¢«å‹ç¼©&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;unsigned&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;int&lt;/span&gt; recompress : &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;; &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// æ˜¯å¦å‹ç¼©&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;unsigned&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;int&lt;/span&gt; attempted_compress : &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;; &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// æš‚æ—¶ç•™å‡ºæ¥ï¼Œä»¥åä½¿ç”¨ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;unsigned&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;int&lt;/span&gt; extra : &lt;span class=&#34;number&#34;&gt;10&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125; quicklistNode;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;code&gt;quicklistNode&lt;/code&gt;  æ˜¯ä¸€ä¸ª &lt;code&gt;32byte&lt;/code&gt;  çš„ç»“æ„ä½“ï¼Œç”¨äºæè¿°ä¸€ä¸ª &lt;code&gt;quicklist&lt;/code&gt;  çš„ä¸€ä¸ªèŠ‚ç‚¹ã€‚ä»ä»£ç ä¸­å¯çœ‹å‡ºï¼Œä½¿ç”¨äº†ä½å›¾æ¥èŠ‚çº¦ç©ºé—´ã€‚åœ¨ä¸Šé¢çš„ä»£ç ä¸­æˆ‘ä»¬è¿˜æåˆ°ä¸¤ç§æ•°æ®ç»“æ„ï¼Œå¯¹åº”çš„æ˜¯ä»£ç ä¸­  &lt;code&gt;zl&lt;/code&gt;  æŒ‡é’ˆï¼ŒæŒ‡å‘çš„ä½ç½®ï¼Œå¦‚æœæ•°æ®è¢«å‹ç¼©ï¼ŒæŒ‡å‘ &lt;code&gt;quicklistLZF&lt;/code&gt;  å’Œ æ²¡æœ‰æ•°æ®æ²¡æœ‰è¢«å‹ç¼©å°±æ˜¯æŒ‡å‘  &lt;code&gt;ziplist&lt;/code&gt; .&lt;/p&gt;
&lt;h3 id=&#34;ziplist&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#ziplist&#34;&gt;#&lt;/a&gt;  &lt;code&gt;ziplist&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;ziplist&lt;/code&gt;  è¿™ç§ç»“æ„æ¯”è¾ƒå¤æ‚ï¼Œè€Œä¸”åœ¨æºç ä¸­ä¹Ÿæ²¡æœ‰ç»™å‡ºæ˜ç¡®å®šä¹‰ã€‚é‚£  &lt;code&gt;ziplist&lt;/code&gt;  è¿™ä¹ˆç¥ç§˜çš„ç»“æ„åˆ°åº•æ˜¯ä»€ä¹ˆæ ·çš„å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;åˆ«ç€æ€¥ï¼Œæˆ‘ä»¬å…ˆå¤§ä½“ç†Ÿæ‚‰ä¸‹ &lt;code&gt;ziplist&lt;/code&gt;  è¿™ç§ç»“æ„çš„è®¾è®¡æ„å›¾ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ziplist&lt;/code&gt;  æ˜¯ä¸€ä¸ªç»è¿‡ç‰¹æ®Šç¼–ç çš„åŒå‘é“¾è¡¨ï¼Œå®ƒçš„è®¾è®¡æ„å›¾å°±æ˜¯ æé«˜å­˜å‚¨æ•ˆç‡ï¼Œ  &lt;code&gt;ziplist&lt;/code&gt;  å¯ä»¥ç”¨äºå­˜å‚¨å­—ç¬¦ä¸²æˆ–è€…æ•´æ•°ï¼Œå…¶ä¸­æ•´æ•°æ˜¯æŒ‰ç…§çœŸæ­£çš„äºŒè¿›åˆ¶è¿›è¡Œç¼–ç çš„ã€‚ å®ƒèƒ½ä»¥ &lt;code&gt;O(1)&lt;/code&gt;  çš„æ•ˆç‡åœ¨è¡¨çš„ä¸¤ç«¯è¿›è¡Œ &lt;code&gt;pop&lt;/code&gt;  å’Œ &lt;code&gt;push&lt;/code&gt;  æ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œæ™®é€šçš„é“¾è¡¨æ¯é¡¹éƒ½æ˜¯ä¸€å—ç‹¬ç«‹çš„å†…å­˜ç©ºé—´ï¼Œå„é¡¹ä¹‹é—´éƒ½æ˜¯é€šè¿‡æŒ‡é’ˆè¿æ¥èµ·æ¥çš„ã€‚è¿™ç§æ–¹å¼ï¼Œä¼šå¸¦æ¥å¤§é‡çš„ç©ºé—´ç¢ç‰‡ï¼ŒæŒ‡é’ˆå¼•ç”¨ä¹Ÿä¼šå ç”¨éƒ¨åˆ†ç©ºé—´å†…å­˜ã€‚æ‰€ä»¥ &lt;code&gt;ziplist&lt;/code&gt;  æ˜¯å°†è¡¨ä¸­æ¯é¡¹æ”¾åœ¨è¿ç»­çš„ç©ºé—´å†…å­˜ä¸­ (ç±»ä¼¼æ•°ç»„)ï¼Œ &lt;code&gt;ziplist&lt;/code&gt;  è¿˜å¯¹å€¼é‡‡å–äº†ä¸€ä¸ªå¯å˜é•¿åº¦çš„å­˜å‚¨æ–¹å¼ï¼Œå¤§çš„å€¼å°±ç”¨å¤§ç©ºé—´ï¼Œå°çš„å€¼å°±ç”¨å°ç©ºé—´ã€‚&lt;/p&gt;
&lt;h4 id=&#34;ziplistç»“æ„çš„å®˜æ–¹å®šä¹‰&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#ziplistç»“æ„çš„å®˜æ–¹å®šä¹‰&#34;&gt;#&lt;/a&gt; ziplist ç»“æ„çš„å®˜æ–¹å®šä¹‰ã€‚&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;The general layout of the ziplist is as follows:&lt;br&gt;
 &lt;code&gt;&amp;lt;zlbytes&amp;gt; &amp;lt;zltail&amp;gt; &amp;lt;zllen&amp;gt; &amp;lt;entry&amp;gt; &amp;lt;entry&amp;gt; ... &amp;lt;entry&amp;gt; &amp;lt;zlend&amp;gt;&lt;/code&gt; &lt;br&gt;
 &lt;code&gt;&amp;lt;uint32_t zlbytes&amp;gt;&lt;/code&gt;  is an unsigned integer to hold the number of bytes that  the ziplist occupies, including the four bytes of the zlbytes field itself.  This value needs to be stored to be able to resize the entire structure  without the need to traverse it first.&lt;br&gt;
 &lt;code&gt;&amp;lt;uint32_t zltail&amp;gt;&lt;/code&gt;  is the offset to the last entry in the list. This allows  a pop operation on the far side of the list without the need for full  traversal.&lt;br&gt;
 &lt;code&gt;&amp;lt;uint16_t zllen&amp;gt;&lt;/code&gt;  is the number of entries. When there are more than  2^16-2 entries, this value is set to 2^16-1 and we need to traverse the entire list to know how many items it holds.&lt;br&gt;
 &lt;code&gt;&amp;lt;uint8_t zlend&amp;gt;&lt;/code&gt;  is a special entry representing the end of the ziplist. Is encoded as a single byte equal to 255. No other normal entry starts with a byte set to the value of 255.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æ ¹æ®ä¸Šé¢ä¸­è§£é‡Šæˆ‘ä»¬å¯ä»¥å¾—å‡ºä»¥ä¸‹è¿™ç§æ¨¡å‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;./images/ziplist-01-Ziplist%E7%9A%84%E7%BB%93%E6%9E%84.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœæ²¡æœ‰ç‰¹æ®ŠæŒ‡å®šçš„è¯ï¼Œéƒ½æ˜¯é‡‡ç”¨å°å°¾æ•°æ³•å­˜å‚¨çš„ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;zlbytes&lt;/code&gt; : å­˜å‚¨ä¸€ä¸ªæ— ç¬¦å·æ•´æ•°ï¼Œç”¨äºå­˜å‚¨ ziplist çš„æ‰€ç”¨çš„å­—èŠ‚æ•°ï¼Œ(åŒ…æ‹¬ zlbytes å­—æ®µæœ¬èº«çš„å››ä¸ªå­—èŠ‚)ï¼Œå½“é‡æ–°åˆ†é…å†…å®¹çš„æ—¶å€™ï¼Œä¸éœ€è¦éå†æ•´ä¸ªåˆ—è¡¨æ¥è®¡ç®—å†…å­˜å¤§å°ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;zltail&lt;/code&gt; : ä¸€ä¸ªæ— ç¬¦å·æ•´æ•°ï¼Œè¡¨ç¤º ziplist ä¸­æœ€åä¸€ä¸ªå…ƒç´ çš„åç§»å­—èŠ‚æ•°ï¼Œè¿™æ ·å¯ä»¥æ–¹ä¾¿çš„æ‰¾åˆ°æœ€åä¸€ä¸ªå…ƒç´ ï¼Œä»è€Œå¯ä»¥ä»¥ O (1) çš„å¤æ‚åº¦åœ¨å°¾ç«¯è¿›è¡Œ pop å’Œ pushã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;zllenï¼šå‹ç¼©åˆ—è¡¨åŒ…å«çš„ç»“ç‚¹çš„ä¸ªæ•°ï¼Œå³entryçš„ä¸ªæ•°ã€‚&lt;/code&gt; &lt;br&gt;
è¿™é‡Œçš„ &lt;code&gt;zllen&lt;/code&gt;  æ˜¯å ç”¨ &lt;code&gt;16bit&lt;/code&gt; , ä¹Ÿå°±æ˜¯è¯´æœ€å¤šå­˜å‚¨  &lt;code&gt;2^16-2&lt;/code&gt;  ä¸ªã€‚ä½†æ˜¯ &lt;code&gt;ziplist&lt;/code&gt;  è¶…äº† &lt;code&gt;2^16-2&lt;/code&gt;  ä¸ªä¹Ÿæ˜¯å¯ä»¥è¡¨ç¤ºçš„ã€‚é‚£ç§æƒ…å†µå°±æ˜¯ &lt;code&gt;16&lt;/code&gt;  ä¸ª &lt;code&gt;1&lt;/code&gt;  çš„æ—¶å€™ï¼Œåªéœ€è¦ä»å¤´éå†åˆ°å°¾å°±å¥½äº†ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;entry&lt;/code&gt; : çœŸæ­£å­˜æ”¾æ•°æ®çš„æ•°æ®é¡¹ï¼Œæ¯ä¸ªæ•°æ®é¡¹éƒ½æœ‰è‡ªå·±çš„å†…éƒ¨ç»“æ„ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;zlend&lt;/code&gt; :  &lt;code&gt;ziplist&lt;/code&gt;  çš„æœ€åä¸€ä¸ªå­—èŠ‚ï¼Œå€¼å›ºå®šç­‰äº &lt;code&gt;255&lt;/code&gt; ï¼Œå°±æ˜¯ä¸€ä¸ªç»“æŸæ ‡è®°ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;entry-ç»“æ„&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#entry-ç»“æ„&#34;&gt;#&lt;/a&gt; entry ç»“æ„&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;entry&lt;/code&gt;  æ˜¯ç”±ä¸‰éƒ¨åˆ†æ„æˆçš„ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;previous lengthï¼ˆpre_entry_lengthï¼‰&lt;/code&gt; ï¼š è¡¨ç¤ºå‰ä¸€ä¸ªæ•°æ®èŠ‚ç‚¹å ç”¨çš„æ€»å­—èŠ‚æ•°ï¼Œè¿™ä¸ªå­—æ®µçš„ç”¨å¤„æ˜¯ä¸ºäº†è®© ziplist èƒ½å¤Ÿä»åå‘å‰éå†ï¼ˆä»åä¸€é¡¹çš„ä½ç½®ï¼Œåªéœ€å‘å‰åç§» &lt;code&gt;previous length&lt;/code&gt;  ä¸ªå­—èŠ‚ï¼Œå°±æ‰¾åˆ°äº†å‰ä¸€é¡¹ï¼‰ã€‚è¿™ä¸ªå­—æ®µé‡‡ç”¨å˜é•¿ç¼–ç ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;encoding&lt;/code&gt; ï¼ˆ &lt;code&gt;encoding&amp;amp;cur_entry_length&lt;/code&gt; ï¼‰ï¼šè¡¨ç¤ºå½“å‰æ•°æ®èŠ‚ç‚¹ content çš„å†…å®¹ç±»å‹ä»¥åŠé•¿åº¦ã€‚ä¹Ÿé‡‡ç”¨å˜é•¿ç¼–ç ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;entry-data&lt;/code&gt; ï¼šè¡¨ç¤ºå½“å‰èŠ‚ç‚¹å­˜å‚¨çš„æ•°æ®ï¼Œ &lt;code&gt;entry-data&lt;/code&gt;  çš„å†…å®¹ç±»å‹æœ‰æ•´æ•°ç±»å‹å’Œå­—èŠ‚æ•°ç»„ç±»å‹ï¼Œä¸”æŸäº›æ¡ä»¶ä¸‹ &lt;code&gt;entry-data&lt;/code&gt;  çš„é•¿åº¦å¯èƒ½ä¸º &lt;code&gt;0&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å¾—å‡º  &lt;code&gt;ziplist&lt;/code&gt;  æ˜¯ä¸€ä¸ªè¿™æ ·çš„ç»“æ„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;./images/ziplist-01-entry%E7%9A%84%E7%BB%93%E6%9E%84.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;æœ‰æ—¶ï¼Œencoding ä¹Ÿå¯ä»¥ä»£è¡¨ entry æœ¬èº«ï¼Œå°±åƒå°æ•´æ•°ä¸€æ ·ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;./images/ziplist-01-entry%E7%9A%84%E7%BB%93%E6%9E%842.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;è¿™é‡Œå°±æ˜¯å¤§ä½“çš„äº†è§£ä¸‹ ziplist è¿™ç§æ•°æ®ç»“æ„ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è¿™é‡Œæ˜¯ä¸€ç¯‡å…³äº &lt;a href=&#34;./10-Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B9%8Bziplist.md&#34;&gt;ziplist&lt;/a&gt; è¯¦ç»†è§£è¯»çš„æ–‡ç« ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;quicklistlzf&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#quicklistlzf&#34;&gt;#&lt;/a&gt;  &lt;code&gt;quicklistLZF&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;çœ‹å®Œäº†æ¯”è¾ƒç¥ç§˜çš„ &lt;code&gt;ziplist&lt;/code&gt;  ç»“æ„ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªæ¯”è¾ƒç®€å•çš„ &lt;code&gt;quicklist&lt;/code&gt;  çš„å‹ç¼©èŠ‚ç‚¹çš„ç»“æ„  &lt;code&gt;quicklistLZF&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;/**&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt; * quicklistLZFæ˜¯ä¸€ä¸ª4 + Nå­—èŠ‚çš„ structã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt; * sz æ˜¯ compressed å­—æ®µçš„å­—èŠ‚é•¿åº¦ã€‚&amp;#x27;compressed&amp;#x27; æ˜¯é•¿åº¦ä¸º szçš„ LZFæ•°æ®ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt; *&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt; * æœªè¢«å‹ç¼©çš„é•¿åº¦ä¿å­˜åˆ° quicklistNode-&amp;gt;szä¸­ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt; *&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt; * å½“å‹ç¼©äº†quicklistNode-&amp;gt;zlæ—¶ï¼ŒquicklistNode-&amp;gt;zlæŒ‡å‘çš„æ˜¯ä¸€ä¸ª quicklistLZFç±»å‹çš„æ•°æ®ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt; * æœªå‹ç¼©çš„æ—¶å€™ï¼ŒæŒ‡å‘çš„æ˜¯ziplist.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt; */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;typedef&lt;/span&gt; &lt;span class=&#34;class&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;title&#34;&gt;quicklistLZF&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;///compressedæ•°ç»„é•¿åº¦ &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;unsigned&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;int&lt;/span&gt; sz; &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;char&lt;/span&gt; compressed[];&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125; quicklistLZF;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&#34;æ€»ç»“&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#æ€»ç»“&#34;&gt;#&lt;/a&gt; æ€»ç»“&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;list&lt;/code&gt;  ç›¸å…³çš„å‘½ä»¤ã€‚ä»¥åŠå¸¸è§çš„åº”ç”¨åœºæ™¯ã€‚æ¯”å¦‚æ ˆå’Œé˜Ÿåˆ—ç­‰ç­‰ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;list&lt;/code&gt;  å…¶å®æ˜¯ä¸€ç§é“¾è¡¨ç»“æ„ï¼Œä½†æ˜¯ä¸æ˜¯ä¸€ä¸ªæ™®é€šçš„é“¾è¡¨ç»“æ„ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;list&lt;/code&gt;  æ˜¯ç”±  &lt;code&gt;quicklist&lt;/code&gt;  è¿™ç§æ•°æ®ç»“æ„å®ç°çš„ã€‚ &lt;code&gt;quicklist&lt;/code&gt;  ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹æ˜¯ &lt;code&gt;quicklistNode&lt;/code&gt; , è€Œ &lt;code&gt;quicklist&lt;/code&gt;  ä¸­ &lt;code&gt;zl&lt;/code&gt;  æŒ‡é’ˆï¼ŒæŒ‡å‘çš„æ˜¯ ä¸€ä¸ª &lt;code&gt;ziplist&lt;/code&gt;  æˆ–è€… &lt;code&gt;quickListLZF&lt;/code&gt; ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ziplist&lt;/code&gt;  æ˜¯ä¸€ä¸ªæ¯”è¾ƒç¥ç§˜çš„æ•°æ®ç»“æ„ï¼Œæœ‰ &lt;code&gt;5&lt;/code&gt;  éƒ¨åˆ†æ„æˆï¼Œæ˜¯è¿ç»­å­˜å‚¨çš„ï¼Œå¯ä»¥å®ç° &lt;code&gt;O(1)&lt;/code&gt;  çš„å°¾ç«¯ &lt;code&gt;pop&lt;/code&gt;  å’Œ &lt;code&gt;push&lt;/code&gt;  æ“ä½œã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;æœ€å&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#æœ€å&#34;&gt;#&lt;/a&gt; æœ€å&lt;/h2&gt;
&lt;p&gt;æœŸæœ›ä¸ä½ ä¸€èµ·é‡è§æ›´å¥½çš„è‡ªå·±&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;/images/qrcode.jpg&#34; alt=&#34;æœŸæœ›ä¸ä½ ä¸€èµ·é‡è§æ›´å¥½çš„è‡ªå·±&#34;&gt;&lt;/p&gt;
</content>
        <category term="Redis" />
        <updated>2021-08-01T07:08:55.000Z</updated>
    </entry>
    <entry>
        <id>https://fangjiaxiaobai.github.io/2021/08/01/Redis%E7%B3%BB%E5%88%97/B-1-Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B9%8BString/</id>
        <title>Redisæ•°æ®ç»“æ„ä¹‹ String</title>
        <link rel="alternate" href="https://fangjiaxiaobai.github.io/2021/08/01/Redis%E7%B3%BB%E5%88%97/B-1-Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B9%8BString/"/>
        <content type="html">&lt;p&gt;ä»Šå¤©æ¥èŠèŠ  &lt;code&gt;Redis&lt;/code&gt;  çš„ &lt;code&gt;string&lt;/code&gt; ï¼Œè¿™ä¸€æ•°æ®ç»“æ„ã€‚&lt;/p&gt;
&lt;h3 id=&#34;stringç®€ä»‹&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#stringç®€ä»‹&#34;&gt;#&lt;/a&gt;  &lt;code&gt;string&lt;/code&gt;  ç®€ä»‹&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;string&lt;/code&gt;  æ˜¯ &lt;code&gt;Redis&lt;/code&gt;  ä¸­æœ€åŸºæœ¬ï¼Œä¹Ÿæ˜¯æœ€ç®€å•çš„æ•°æ®ç»“æ„ã€‚ä¸€ä¸ªé”® ( &lt;code&gt;key&lt;/code&gt; ) å¯¹åº”ç€ä¸€ä¸ª &lt;code&gt;string&lt;/code&gt;  ç±»å‹çš„å€¼ ( &lt;code&gt;value&lt;/code&gt; ). æˆ‘ä»¬éƒ½çŸ¥é“ &lt;code&gt;redis&lt;/code&gt;  æ˜¯ä½¿ç”¨ &lt;code&gt;C&lt;/code&gt;  è¯­è¨€æ¥ç¼–å†™çš„ï¼Œä½†æ˜¯  &lt;code&gt;string&lt;/code&gt;  è¿™ä¸€ä¸ªæ•°æ®ç»“æ„å¹¶éæ˜¯ä½¿ç”¨ &lt;code&gt;C&lt;/code&gt;  è¯­è¨€çš„  &lt;code&gt;string(char[])&lt;/code&gt;  æ¥å®ç°çš„ï¼Œè¦æƒ³å…ˆäº†è§£ï¼Œé‚£å°±åšç”µæ¢¯å§ -&amp;gt;( &lt;a href=&#34;#%60Redis%60%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E8%BF%99%E4%B8%80%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84&#34;&gt;ç”µæ¢¯ç›´è¾¾&lt;/a&gt; ).&lt;/p&gt;
&lt;p&gt;ç°åœ¨ï¼Œå…ˆæš‚ä¸”æŠ›å¼€å†…éƒ¨å®ç°ï¼Œæˆ‘ä»¬å…ˆçœ‹çœ‹æœ‰æ€ä¹ˆä½¿ç”¨è¿™ä¸€æ•°æ®ç»“æ„ã€‚&lt;/p&gt;
&lt;h3 id=&#34;stringç›¸å…³å¸¸ç”¨å‘½ä»¤&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#stringç›¸å…³å¸¸ç”¨å‘½ä»¤&#34;&gt;#&lt;/a&gt;  &lt;code&gt;string&lt;/code&gt;  ç›¸å…³å¸¸ç”¨å‘½ä»¤&lt;/h3&gt;
&lt;h4 id=&#34;setå‘½ä»¤&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#setå‘½ä»¤&#34;&gt;#&lt;/a&gt;  &lt;code&gt;set&lt;/code&gt;  å‘½ä»¤&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;SET key value [expiration EX seconds|PX milliseconds] [NX|XX]&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨ç¤ºä¾‹:&lt;/p&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;43&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 1.è®¾ç½®ä¸€ä¸ªé”®å€¼å¯¹ f1=&amp;gt;f1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; &lt;span class=&#34;built_in&#34;&gt;set&lt;/span&gt; k1 v1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;OK&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# æ ¹æ®é”®æŸ¥è¯¢å€¼&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; get k1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;v1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 2.è®¾ç½®ä¸€ä¸ªé”®å€¼å¯¹(f2=&amp;gt;f2),è®¾ç½®è¶…æ—¶æ—¶é—´ä¸º10s&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# EX è¡¨ç¤ºç§’&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; &lt;span class=&#34;built_in&#34;&gt;set&lt;/span&gt; k2 v2 EX 10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;OK&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; get k2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;v2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# ç­‰å¾…10sä¹‹åå»æŸ¥è¯¢f2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; get k2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(nil)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 3.è®¾ç½®ä¸€ä¸ªé”®å€¼å¯¹(f3=&amp;gt;f3),è®¾ç½®è¶…æ—¶æ—¶é—´ä¸º 10000æ¯«ç§’&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# PX è¡¨ç¤ºä¸ºæ¯«ç§’&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; &lt;span class=&#34;built_in&#34;&gt;set&lt;/span&gt; k3 v3 PX 10000&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;OK&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; get k3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;v3&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; get k3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(nil)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 4.è®¾ç½®é”®å€¼å¯¹k4=&amp;gt;v4,éªŒè¯&amp;quot;å­˜åœ¨ç›¸åŒçš„keyå°±è®¾ç½®å¤±è´¥&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# setnx å‘½ä»¤ä¹Ÿå¯å®ç°,æ³¨æ„è¿”å›å€¼ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; &lt;span class=&#34;built_in&#34;&gt;set&lt;/span&gt; k4 v4 NX&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;OK&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# å¦‚æœå­˜åœ¨ç›¸åŒçš„keyå°±è®¾ç½®å¤±è´¥(ä¸ä¸‹é¢çš„æ³¨æ„å¯¹æ¯”)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; &lt;span class=&#34;built_in&#34;&gt;set&lt;/span&gt; k4 v4 NX&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(nil)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 5.éªŒè¯&amp;quot;ä¸å­˜åœ¨ç›¸åŒçš„keyå°±è®¾ç½®å¤±è´¥&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; &lt;span class=&#34;built_in&#34;&gt;set&lt;/span&gt; k5 v5 XX&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(nil)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# å…ˆè®¾ç½®ä¸€ä¸ªé”®å€¼å¯¹,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; &lt;span class=&#34;built_in&#34;&gt;set&lt;/span&gt; k5 v5 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;OK&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# è®¾ç½®ä¸å­˜åœ¨ç›¸åŒçš„keyå°±è®¾ç½®å¤±è´¥&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; &lt;span class=&#34;built_in&#34;&gt;set&lt;/span&gt; k5 v5 XX&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;OK&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&#34;setnxå‘½ä»¤&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#setnxå‘½ä»¤&#34;&gt;#&lt;/a&gt;  &lt;code&gt;setnx&lt;/code&gt;  å‘½ä»¤&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;setnx key value&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;set if not exists&lt;/code&gt;  çš„ç¼©å†™ã€‚å¦‚æœå·²å­˜åœ¨ key, è¿”å› 0, ä¸å­˜åœ¨è¿”å› 1. å¸¸ç”¨äºåˆ†å¸ƒå¼é”ã€‚&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨å®ä¾‹&lt;/p&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# è®¾ç½®ä¸€ä¸ªä¸å­˜åœ¨çš„é”®å€¼å¯¹ k6=&amp;gt;v6&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; setnx k6 v6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# å¦‚æœkeyå·²ç»å­˜åœ¨,åˆ™è¿”å›0ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; setnx k6 v6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 0&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&#34;setex-å‘½ä»¤&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#setex-å‘½ä»¤&#34;&gt;#&lt;/a&gt;  &lt;code&gt;setEx&lt;/code&gt;  å‘½ä»¤&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;setex key seconds value&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;ç»™é”®å€¼å¯¹è®¾ç½®ç”Ÿå­˜æ—¶é—´ (ç§’çº§åˆ«)ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;bash&#34;&gt; è®¾ç½®k7=&amp;gt;v7è¿™ä¸ªé”®å€¼å¯¹çš„ç”Ÿå­˜æ—¶é—´ä¸º5s&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; setex k7 5 v7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;OK&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; get k7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;quot;v7&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;bash&#34;&gt; è¿‡5sç§’é’Ÿä¹‹å,å†æŸ¥çœ‹ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; get k7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(nil)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; &lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&#34;psetex-å‘½ä»¤&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#psetex-å‘½ä»¤&#34;&gt;#&lt;/a&gt;  &lt;code&gt;psetEx&lt;/code&gt;  å‘½ä»¤&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;psetex key milliseconds value&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;tip&lt;/code&gt; : å‘½ä»¤åŠ©è®°:  &lt;code&gt;psetex&lt;/code&gt;  ,  &lt;code&gt;p&lt;/code&gt;  ç›´æ¥çš„æ˜¯æ¯«ç§’ã€‚å¯ä»¥å‚è€ƒ &lt;code&gt;set&lt;/code&gt;  å‘½ä»¤çš„ &lt;code&gt;PX&lt;/code&gt;  é€‰é¡¹ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç»™é”®å€¼å¯¹è®¾ç½®ç”Ÿå­˜æ—¶é—´ (æ¯«ç§’çº§åˆ«)ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# è®¾ç½®é”®å€¼å¯¹&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; psetex k8 5000 v8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;OK&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# è·å–k8çš„å€¼&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; get k8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;v8&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 5sä¹‹åï¼Œè·å–k8çš„å€¼&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; get k8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(nil)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&#34;getå‘½ä»¤&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#getå‘½ä»¤&#34;&gt;#&lt;/a&gt;  &lt;code&gt;get&lt;/code&gt;  å‘½ä»¤&lt;/h4&gt;
&lt;p&gt;è¿™ä¸ªå‘½ä»¤ä¸å¤šè¯´äº†ï¼Œè·å– &lt;code&gt;key&lt;/code&gt;  ç›¸å…³è”çš„ &lt;code&gt;value&lt;/code&gt; .  &lt;code&gt;get key&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;getsetå‘½ä»¤&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#getsetå‘½ä»¤&#34;&gt;#&lt;/a&gt;  &lt;code&gt;getset&lt;/code&gt;  å‘½ä»¤&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;getset key value&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;è®¾ç½®é”®å€¼å¯¹ï¼Œ &lt;code&gt;key=&amp;gt;value&lt;/code&gt; , å¦‚æœ &lt;code&gt;key&lt;/code&gt;  å·²ç»å­˜åœ¨ï¼Œè¿”å›æ—§å€¼ã€‚ä¸å­˜åœ¨è¿”å›  &lt;code&gt;nil&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# è®¾ç½®é”®å€¼å¯¹&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; getset k9 v9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(nil)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# è·å–å€¼&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; get k9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;v9&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# åœ¨è®¾ç½®ä¸€æ¬¡k9,å€¼ä¸ºvv9,è¿”å›æ—§å€¼ v9&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; getset k9 vv9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;v9&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;ps: å¦‚æœåŸæ¥çš„å­˜åœ¨ keyï¼Œä½†æ˜¯ value çš„ç±»å‹ä¸æ–°è®¾ç½®çš„ç±»å‹ä¸ä¸€è‡´ï¼Œä¼šæŠ›å‡ºå‘½ä»¤é”™è¯¯ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# è®¾ç½®ä¸€ä¸ªlistç±»å‹ï¼Œkeyä¸ºk9_1, Valueä¸­åªæœ‰ä¸€ä¸ªå…ƒç´ v9_1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; lpush k9_1 v9_1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# ä½¿ç”¨getsetå‘½ä»¤è½½è®¾ç½®ä¸€æ¬¡,æŠ›å‡ºå‘½ä»¤é”™è¯¯ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; getset k9_1 vv9_1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(error) WRONGTYPE Operation against a key holding the wrong kind of value&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&#34;strlen-å‘½ä»¤&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#strlen-å‘½ä»¤&#34;&gt;#&lt;/a&gt;  &lt;code&gt;strlen&lt;/code&gt;  å‘½ä»¤&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;strlen key&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;è¿”å›å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚å¦‚æœ key ä¸å­˜åœ¨çš„æ—¶å€™ï¼Œè¿”å› 0, å¦‚æœ key å¯¹åº”çš„ä¸æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æ—¶ï¼Œè¿”å›é”™è¯¯.&lt;/p&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; &lt;span class=&#34;built_in&#34;&gt;set&lt;/span&gt; k10 v10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;OK&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; strlen k10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# æ¼”ç¤ºæŠ¥é”™&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; lpush k10_1 v10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; strlen k10_1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(error) WRONGTYPE Operation against a key holding the wrong kind of value&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&#34;appendå‘½ä»¤&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#appendå‘½ä»¤&#34;&gt;#&lt;/a&gt;  &lt;code&gt;APPEND&lt;/code&gt;  å‘½ä»¤&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;APPEND key value&lt;/code&gt;  å‘½ä»¤&lt;/p&gt;
&lt;p&gt;æ ¹æ® keyï¼Œç»™ key å¯¹åº”çš„å€¼è¿½åŠ å­—ç¬¦ä¸²ã€‚å¦‚æœ key ä¸å­˜åœ¨ï¼Œå°±è®¾ç½®ä¸€å¯¹é”®å€¼å¯¹ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# å¦‚æœkeyä¸å­˜åœ¨åˆ™è®¾ç½®é”®å€¼å¯¹&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; append k11 v11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; get k11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;v11&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# å¦‚æœå­˜åœ¨ï¼Œåˆ™è¿½åŠ &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; append k11 v11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; get k11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;v11v11&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&#34;setrangeå‘½ä»¤&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#setrangeå‘½ä»¤&#34;&gt;#&lt;/a&gt;  &lt;code&gt;setrange&lt;/code&gt;  å‘½ä»¤&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;setrange key offset value&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;ä»åç§»é‡  &lt;code&gt;offset&lt;/code&gt;  å¼€å§‹è¦†å†™åŸæ¥ &lt;code&gt;key&lt;/code&gt;  çš„å€¼ã€‚å¦‚æœ &lt;code&gt;key&lt;/code&gt;  ä¸å­˜çš„æ—¶å€™å½“ä½œç©ºå­—ç¬¦ä¸²å¤„ç†ã€‚è¿”å›è¢«è®¾ç½®å &lt;code&gt;Value&lt;/code&gt;  çš„é•¿åº¦ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# è®¾ç½®ä¸å­˜åœ¨çš„key&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; setrange k12 3 v12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# åœ¨offsetå‰çš„ç©ºä½ç½®ä¼šç”¨ \x00 å¡«å……&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; get k12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;\x00\x00\x00v12&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# è®¾ç½®å·²ç»å­˜åœ¨çš„key&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; setrange k12 4 v12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; get k12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;\x00\x00\x00vv12&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&#34;getrangeå‘½ä»¤&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#getrangeå‘½ä»¤&#34;&gt;#&lt;/a&gt;  &lt;code&gt;getrange&lt;/code&gt;  å‘½ä»¤&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;getrange key start end&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;è·å–æŒ‡å®šåŒºé—´çš„å€¼ã€‚æŠ¥é”™ start å’Œ end ä½ç½®ã€‚ç´¢å¼•ä½ç½®æ˜¯ä» 0 å¼€å§‹çš„ã€‚&lt;/p&gt;
&lt;p&gt;è´Ÿæ•°åç§»é‡è¡¨ç¤ºä»å­—ç¬¦åˆ›çš„æœ«ä½å¼€å§‹è®¡æ•°ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; &lt;span class=&#34;built_in&#34;&gt;set&lt;/span&gt; k13 v13v13v13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;OK&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; getrange k13 2 5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;3v13&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# ä»ç´¢å¼•ä¸º2å¤„ï¼Œåˆ°å€’æ•°ç¬¬4ä½ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; getrange k13 2 -4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;3v13&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# å¦‚æœendå¤§äºValueçš„é•¿åº¦ï¼Œè¿”å›ç›®å‰startåˆ°ç»“æŸçš„éƒ¨åˆ†&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; getrange k13 3 10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;v13v13&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# è¶…è¿‡Valueçš„é•¿åº¦è¿”å›ä¸º &amp;quot;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; getrange k13 100 120&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&#34;incr-å‘½ä»¤&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#incr-å‘½ä»¤&#34;&gt;#&lt;/a&gt;  &lt;code&gt;incr&lt;/code&gt;  å‘½ä»¤&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;incr key&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;åœ¨ key å¯¹åº”çš„ Value ä¸Šè¿›è¡Œè‡ªå¢ 1. å¦‚æœ Value å¯ä»¥è§£é‡Šä¸ºæ•°æ®ï¼Œåˆ™è‡ªå¢ï¼Œåä¹‹ï¼Œè¿”å›é”™è¯¯ã€‚&lt;/p&gt;
&lt;p&gt;è¿”å›å€¼ä¸ºè‡ªå¢åçš„å€¼ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœ ke ä¸å­˜åœ¨ï¼Œåˆ™å…ˆåˆå§‹åŒ– key å¯¹åº”çš„ Value=0ï¼Œ ç„¶åå†è‡ªå¢ã€‚&lt;/p&gt;
&lt;p&gt;ç›¸å¯¹çš„æ˜¯: &lt;a href=&#34;#%60DECR%60%E5%91%BD%E4%BB%A4&#34;&gt; &lt;code&gt;DECR&lt;/code&gt;  å‘½ä»¤&lt;/a&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; incr k14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; get k14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; incr k14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&#34;incrbyå‘½ä»¤&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#incrbyå‘½ä»¤&#34;&gt;#&lt;/a&gt;  &lt;code&gt;incrby&lt;/code&gt;  å‘½ä»¤&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;incrby key increment&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å¸¦æœ‰æ­¥é•¿çš„è‡ªå¢å‘½ä»¤ã€‚&lt;/p&gt;
&lt;p&gt;ç›¸å¯¹çš„å‘½ä»¤æ˜¯: &lt;a href=&#34;%60DECRBY%60%E5%91%BD%E4%BB%A4&#34;&gt; &lt;code&gt;DECRBY&lt;/code&gt;  å‘½ä»¤&lt;/a&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; incrby k15 5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; INCRBY k15 5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; INCRBY k15 5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&#34;incrbyfloatå‘½ä»¤&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#incrbyfloatå‘½ä»¤&#34;&gt;#&lt;/a&gt;  &lt;code&gt;INCRBYFLOAT&lt;/code&gt;  å‘½ä»¤&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;INCRBYFLOAT key increment&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å¸¦æœ‰æ­¥é•¿çš„æµ®ç‚¹æ•°è‡ªå¢&lt;/p&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; INCRBYFLOAT k16 5.0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;5&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; INCRBYFLOAT k16 5.2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;10.2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; INCRBYFLOAT k16 5.4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;15.6&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&#34;decrå‘½ä»¤&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#decrå‘½ä»¤&#34;&gt;#&lt;/a&gt;  &lt;code&gt;DECR&lt;/code&gt;  å‘½ä»¤&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;DECR key&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;è‡ªå‡ &lt;code&gt;1&lt;/code&gt; .&lt;/p&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# å¦‚æœkeyï¼Œä¸å­˜åœ¨ï¼ŒåŒæ ·ä¼šåˆå§‹åŒ–ä¸º0ï¼Œç„¶åè‡ªå‡1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; DECR k17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) -1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; DECR k17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) -2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; DECR k17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) -3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&#34;decrbyå‘½ä»¤&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#decrbyå‘½ä»¤&#34;&gt;#&lt;/a&gt;  &lt;code&gt;DECRBY&lt;/code&gt;  å‘½ä»¤&lt;/h4&gt;
&lt;p&gt;å¸¦æœ‰æ­¥é•¿çš„è‡ªå‡å‘½ä»¤ï¼Œä¸ &lt;a href=&#34;%60INCRBY%60%E5%91%BD%E4%BB%A4&#34;&gt; &lt;code&gt;INCRBY&lt;/code&gt;  å‘½ä»¤&lt;/a&gt;ç›¸å¯¹ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# å¦‚æœkeyä¸å­˜åœ¨ï¼Œä¼šåˆå§‹åŒ–ä¸º0ï¼Œåœ¨è¿›è¡Œè‡ªå‡ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; DECRBY k18 5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) -5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; DECRBY k18 5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) -10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&#34;mgetå‘½ä»¤&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#mgetå‘½ä»¤&#34;&gt;#&lt;/a&gt;  &lt;code&gt;mget&lt;/code&gt;  å‘½ä»¤&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;mget key [key ...]&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;ä¸€æ¬¡æ€§è¿”å›å¤šä¸ª &lt;code&gt;key&lt;/code&gt;  çš„å€¼ã€‚ å¦‚æœ &lt;code&gt;key&lt;/code&gt;  ä¸å­˜åœ¨ï¼Œè¿”å›  &lt;code&gt;(nil)&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; &lt;span class=&#34;built_in&#34;&gt;set&lt;/span&gt; k19_0 v19_0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;OK&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; &lt;span class=&#34;built_in&#34;&gt;set&lt;/span&gt; k19_1 v19_1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;OK&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; mget k19_0 k19_1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;v19_0&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;v19_1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# å¦‚æœkeyä¸å­˜åœ¨çš„æ—¶å€™ï¼Œè¿”å› (nil)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; mget k19_0 k19_1 k10_2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;v19_0&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;v19_1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3) (nil)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&#34;msetå‘½ä»¤&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#msetå‘½ä»¤&#34;&gt;#&lt;/a&gt;  &lt;code&gt;mset&lt;/code&gt;  å‘½ä»¤&lt;/h4&gt;
&lt;p&gt;åŒæ—¶ä¸ºè®¾ç½®å¤šä¸ªé”®å€¼å¯¹ã€‚ å¦‚æœ key å·²ç»å­˜åœ¨ï¼Œç›´æ¥è¦†ç›–æ‰ã€‚&lt;/p&gt;
&lt;p&gt;æ³¨æ„ï¼š è¿™ä¸ªåŸå­æ€§æ“ä½œã€‚æ‰€æœ‰ç»™å®šçš„ key éƒ½ä¼šåœ¨åŒä¸€æ—¶é—´å†…è¢«è®¾ç½®ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;tips: å¦‚æœå¸Œæœ›ï¼Œå·²ç»å­˜åœ¨çš„ key ä¸è¢«è¦†ç›–ï¼Œå¯ä»¥å‚è€ƒ &lt;a href=&#34;#%60msetnx%60%E5%91%BD%E4%BB%A4&#34;&gt; &lt;code&gt;msetnx&lt;/code&gt;  å‘½ä»¤&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# ä¸€ä¸‹è®¾ç½®ä¸‰å¯¹&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; mset k20_0 v20_0 k20_1 v20_1 k20_2 v20_2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;OK&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; mget k20_0 k20_1 k20_2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;v20_0&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;v20_1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3) &lt;span class=&#34;string&#34;&gt;&amp;quot;v20_2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# æ¼”ç¤ºå·²æœ‰çš„keyå¯¹åº”çš„å€¼ä¼šè¢«è¦†ç›–æ‰ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; mset k20_2 vv20_2 k20_3 v20_3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;OK&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; mget k20_2 k20_3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;vv20_2&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;v20_3&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&#34;msetnxå‘½ä»¤&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#msetnxå‘½ä»¤&#34;&gt;#&lt;/a&gt;  &lt;code&gt;msetnx&lt;/code&gt;  å‘½ä»¤&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;MSETNX key value [key value ...]&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å½“ä¸”ä»…å½“æ‰€æœ‰ç»™å®šçš„ key ä¸å­˜åœ¨çš„æ—¶å€™ï¼Œæ‰ä¼šè®¾ç½®é”®å€¼å¯¹ã€‚å³ä½¿æœ‰ä¸€ä¸ª key å­˜åœ¨ï¼Œè¯¥å‘½ä»¤ä¹Ÿä¸ä¼šè®¾ç½®å…¶ä»–çš„ key å¯¹åº”çš„é”®å€¼å¯¹.&lt;/p&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# æ¼”ç¤ºè®¾ç½®æˆåŠŸ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; MSETNX k21_0 v21_0 k21_1 v21_1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; MGET k21_0 k21_1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;v21_0&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) &lt;span class=&#34;string&#34;&gt;&amp;quot;v21_1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# å­˜åœ¨å…¶ä¸­çš„ä¸€ä¸ªç»™å®škeyï¼Œå°±ä¸èƒ½è®¾ç½®æˆåŠŸ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; msetnx k21_1 vv21_1 k21_2 v21_2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(&lt;span class=&#34;built_in&#34;&gt;integer&lt;/span&gt;) 0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; MGET k21_1 k21_2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;1) &lt;span class=&#34;string&#34;&gt;&amp;quot;v21_1&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2) (nil)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;rediså¦‚ä½•å®ç°stringè¿™ä¸€æ•°æ®ç»“æ„&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#rediså¦‚ä½•å®ç°stringè¿™ä¸€æ•°æ®ç»“æ„&#34;&gt;#&lt;/a&gt;  &lt;code&gt;Redis&lt;/code&gt;  å¦‚ä½•å®ç° &lt;code&gt;String&lt;/code&gt;  è¿™ä¸€æ•°æ®ç»“æ„&lt;/h3&gt;
&lt;p&gt;åœ¨  &lt;code&gt;string&lt;/code&gt;  çš„ç›¸å…³å‘½ä»¤ä»‹ç»çš„æ—¶å€™ï¼Œæˆ‘å…¶å®ä½¿ç”¨ä¸€ä¸ªé”™è¯¯çš„æè¿°ã€‚å°±æ˜¯å°† &lt;code&gt;Redis&lt;/code&gt;  çš„ &lt;code&gt;String&lt;/code&gt;  ç±»å‹ç§°ä¸ºå­—ç¬¦ä¸²ã€‚è¿™ç§è¯´æ³•å…¶å®ä¸æ­£ç¡®çš„ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨  &lt;code&gt;redis&lt;/code&gt;  ä¸­ï¼Œ &lt;code&gt;string&lt;/code&gt;  è¿™ä¸€æ•°æ®ç»“æ„ä½¿ç”¨ &lt;code&gt;sds&lt;/code&gt;  æ¥è¡¨ç¤ºçš„ã€‚&lt;/p&gt;
&lt;h4 id=&#34;sds&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#sds&#34;&gt;#&lt;/a&gt;  &lt;code&gt;sds&lt;/code&gt;&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;sds&lt;/code&gt;  æ˜¯  &lt;code&gt;simple dynamic string&lt;/code&gt;  çš„ç®€ç§°ã€‚ æ„æ€æ˜¯  &lt;code&gt;ç®€å•çš„åŠ¨æ€å­—ç¬¦ä¸²&lt;/code&gt; ã€‚ è¿™é‡Œé¢çš„ &lt;code&gt;string&lt;/code&gt;  å°±æ˜¯å®æ‰“å®çš„ &lt;code&gt;C&lt;/code&gt;  è¯­è¨€ä¸­çš„å­—ç¬¦ä¸² ( &lt;code&gt;char[]&lt;/code&gt; ).  &lt;code&gt;Redis&lt;/code&gt;  ä¹Ÿå¹¶éä¸€ç‚¹ä¹Ÿæ²¡æœ‰ä½¿ç”¨  &lt;code&gt;C&lt;/code&gt;  è¯­è¨€çš„å­—ç¬¦ä¸²ï¼Œåƒä¸€äº›å­—é¢é‡å¸¸äº®ï¼Œæ—¥å¿—éƒ½æ˜¯ä½¿ç”¨ &lt;code&gt;C&lt;/code&gt;  è¯­è¨€çš„å­—ç¬¦ä¸²ã€‚&lt;/p&gt;
&lt;p&gt;é‚£  &lt;code&gt;sds&lt;/code&gt;  åˆ°åº•æ˜¯ä¸€ä¸ªä»€ä¹ˆæ ·çš„ç»“æ„å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;åœ¨æºç çš„  &lt;code&gt;src&lt;/code&gt;  ç›®å½•ä¸‹ï¼Œæˆ‘æ‰¾åˆ°äº†  &lt;code&gt;sds.h&lt;/code&gt;  è¿™æ ·ä¸€ä¸ªæ–‡ä»¶ã€‚è¿™é‡Œè§„å®šäº†  &lt;code&gt;sds&lt;/code&gt;  ç»“æ„ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;class&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;struct&lt;/span&gt; __&lt;span class=&#34;title&#34;&gt;attribute__&lt;/span&gt; ((__&lt;span class=&#34;title&#34;&gt;packed__&lt;/span&gt;)) &lt;span class=&#34;title&#34;&gt;sdshdr64&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// è¡¨ç¤ºå·²ä½¿ç”¨çš„é•¿åº¦,å³buf[]çš„é•¿åº¦ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;uint64_t&lt;/span&gt; len; &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// å·²åˆ†é…çš„é•¿åº¦(åŒ…æ‹¬æœªä½¿ç”¨çš„é•¿åº¦)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// alloc-len,å¯¹åº”ç€ä¹‹å‰ç‰ˆæœ¬çš„free&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;uint64_t&lt;/span&gt; alloc; &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;unsigned&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;char&lt;/span&gt; flags; &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;char&lt;/span&gt; buf[];&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;tips: å¦‚æœä½ æ³¨æ„åˆ°äº†è¿™ä¸ªç»“æ„ä½“çš„å‘½åã€‚é‚£ä¹ˆæ¥çœ‹ä¸‹&lt;a href=&#34;&#34;&gt;è¿™ç¯‡æ–‡ç« &lt;/a&gt;å§ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;code&gt;sds&lt;/code&gt;  ä¿ç•™äº†  &lt;code&gt;C&lt;/code&gt;  å­—ç¬¦ä¸²ä»¥ç©ºå­—ç¬¦ç»“å°¾çš„æƒ¯ä¾‹ã€‚ä¿ç•™çš„è¿™ä¸ªç©ºå­—ç¬¦çš„é•¿åº¦ä¸ä¼šä¿å­˜åœ¨  &lt;code&gt;len&lt;/code&gt;  å­—æ®µä¸­ã€‚ä¿ç•™è¿™ä¸€æƒ¯ä¾‹çš„å¥½å¤„å°±æ˜¯å¯ä»¥ä½¿ç”¨ &lt;code&gt;C&lt;/code&gt;  å­—ç¬¦ä¸²å‡½æ•°åº“çš„ä¸€äº›æ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;å‡è®¾æˆ‘ä»¬åˆ†é…äº† &lt;code&gt;10&lt;/code&gt;  ä¸ªå­—èŠ‚ç©ºé—´ï¼Œåªä¿å­˜äº†  &lt;code&gt;redis&lt;/code&gt;  è¿™ä¸ª &lt;code&gt;C&lt;/code&gt;  å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆ åœ¨ &lt;code&gt;sds&lt;/code&gt;  ä¸­ï¼Œæ˜¯è¿™ä¹ˆè¡¨ç¤ºçš„ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;/images/Redis%E7%B3%BB%E5%88%97/images/01-01-sds%E7%A4%BA%E6%84%8F%E5%9B%BE.png&#34; alt=&#34;01-01-sdsç¤ºæ„å›¾.png&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;ä½¿ç”¨sdsæ¯”ä½¿ç”¨cå­—ç¬¦ä¸²æœ‰ä»€ä¹ˆå¥½å¤„å‘¢&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#ä½¿ç”¨sdsæ¯”ä½¿ç”¨cå­—ç¬¦ä¸²æœ‰ä»€ä¹ˆå¥½å¤„å‘¢&#34;&gt;#&lt;/a&gt; ä½¿ç”¨ &lt;code&gt;sds&lt;/code&gt;  æ¯”ä½¿ç”¨ &lt;code&gt;C&lt;/code&gt;  å­—ç¬¦ä¸²æœ‰ä»€ä¹ˆå¥½å¤„å‘¢ï¼Ÿ&lt;/h4&gt;
&lt;h5 id=&#34;è·å–å­—ç¬¦é•¿åº¦çš„æ—¶é—´å¤æ‚åº¦ä¸º-o1&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#è·å–å­—ç¬¦é•¿åº¦çš„æ—¶é—´å¤æ‚åº¦ä¸º-o1&#34;&gt;#&lt;/a&gt; è·å–å­—ç¬¦é•¿åº¦çš„æ—¶é—´å¤æ‚åº¦ä¸º  &lt;code&gt;O(1)&lt;/code&gt;&lt;/h5&gt;
&lt;p&gt;&lt;code&gt;C&lt;/code&gt;  è¯­è¨€è·å–ä¸€ä¸ªå­—ç¬¦ä¸²çš„é•¿åº¦ä¸º  &lt;code&gt;O(N)&lt;/code&gt; . éœ€è¦éå†å­—ç¬¦ä¸²å¹¶ç´¯åŠ ï¼Œåˆ¤æ–­å­—ç¬¦æ˜¯å¦ä¸º  &lt;code&gt;&#39;\0&#39;&lt;/code&gt;  æ¥è·å¾—å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;sds&lt;/code&gt;  åªéœ€è¦æ ¹æ®  &lt;code&gt;len&lt;/code&gt;  å­—æ®µè·å–å³å¯ã€‚æ€ä¹ˆè·å–çš„å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬æ¥çœ‹ä¸‹æºç ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;// å®šä¹‰charç±»å‹çš„æŒ‡é’ˆç±»å‹ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;typedef&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;char&lt;/span&gt; *sds;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;// è·å–é•¿åº¦çš„ç»“æ„ä½“æŒ‡é’ˆçš„å®.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;// å¯æ ¹æ®æŒ‡å‘bufçš„æŒ‡é’ˆè¿”å›æŒ‡å‘sdshdrç»“æ„ä½“é¦–åœ°å€çš„å®&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;#&lt;span class=&#34;meta-keyword&#34;&gt;define&lt;/span&gt; SDS_HDR(T,s) ((struct sdshdr##T *)((s)-(sizeof(struct sdshdr##T))))&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;// sds ç›´æ¥æŒ‡å‘ç»“æ„ä½“é‡Œçš„buf&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;function&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;inline&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;size_t&lt;/span&gt; &lt;span class=&#34;title&#34;&gt;sdslen&lt;/span&gt;&lt;span class=&#34;params&#34;&gt;(&lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; sds s)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// sdsæ˜¯ç›´æ¥æŒ‡å‘ç»“æ„ä½“é‡Œçš„bufæ•°æ®, å½“è·å–lenç­‰å­—æ®µçš„ä¿¡æ¯,åªéœ€è¦å‡å»ç»“æ„ä½“é•¿åº¦ï¼Œå›é€€ä¸€ä¸‹æŒ‡é’ˆå°±å¯ä»¥äº†ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// è¿™é‡Œä½¿ç”¨çš„å°¾æŒ‡é’ˆæ³•ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;unsigned&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;char&lt;/span&gt; flags = s[&lt;span class=&#34;number&#34;&gt;-1&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// åˆ¤æ–­å±äºé‚£ç§ sdshdr,å¯¹åº”å‡å»ä¸åŒçš„åœ°å€ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;built_in&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;switch&lt;/span&gt;&lt;/span&gt;(flags&amp;amp;SDS_TYPE_MASK) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;keyword&#34;&gt;case&lt;/span&gt; SDS_TYPE_5:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;built_in&#34;&gt;SDS_TYPE_5_LEN&lt;/span&gt;(flags);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;keyword&#34;&gt;case&lt;/span&gt; SDS_TYPE_8:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;built_in&#34;&gt;SDS_HDR&lt;/span&gt;(&lt;span class=&#34;number&#34;&gt;8&lt;/span&gt;,s)-&amp;gt;len;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;keyword&#34;&gt;case&lt;/span&gt; SDS_TYPE_16:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;built_in&#34;&gt;SDS_HDR&lt;/span&gt;(&lt;span class=&#34;number&#34;&gt;16&lt;/span&gt;,s)-&amp;gt;len;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;keyword&#34;&gt;case&lt;/span&gt; SDS_TYPE_32:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;built_in&#34;&gt;SDS_HDR&lt;/span&gt;(&lt;span class=&#34;number&#34;&gt;32&lt;/span&gt;,s)-&amp;gt;len;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;keyword&#34;&gt;case&lt;/span&gt; SDS_TYPE_64:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;built_in&#34;&gt;SDS_HDR&lt;/span&gt;(&lt;span class=&#34;number&#34;&gt;64&lt;/span&gt;,s)-&amp;gt;len;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h5 id=&#34;å¯ä»¥æœç»ç¼“å†²åŒºæº¢å‡º&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#å¯ä»¥æœç»ç¼“å†²åŒºæº¢å‡º&#34;&gt;#&lt;/a&gt; å¯ä»¥æœç»ç¼“å†²åŒºæº¢å‡º&lt;/h5&gt;
&lt;p&gt;&lt;code&gt;C&lt;/code&gt;  è¯­è¨€æ˜¯ä¸ä¼šåˆ¤æ–­æ•°ç»„æ˜¯å¦è¶Šç•Œçš„ã€‚æ¯”å¦‚  &lt;code&gt;strcat&lt;/code&gt;  æ–¹æ³•ï¼Œå¦‚æœå½“å‰çš„æ•°æ®ä¸èƒ½å®¹çº³æ‹¼æ¥ä¹‹åå­—ç¬¦æ—¶ï¼Œå¿…ç„¶ä¼šå‘ç”Ÿç¼“å­˜åŒºæº¢å‡ºã€‚&lt;br&gt;
ä½†æ˜¯  &lt;code&gt;sds&lt;/code&gt;  åˆ™ä¸ä¼šã€‚æˆ‘ä»¬æ¥çœ‹ä¸‹  &lt;code&gt;sds&lt;/code&gt;  çš„å­—ç¬¦ä¸²æ‹¼æ¥çš„æ–¹æ³•  &lt;code&gt;sdscat&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;// s åŸæ¥çš„å­—ç¬¦ä¸²ï¼Œtæ˜¯è¦æ‹¼æ¥çš„å­—ç¬¦ä¸²&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;function&#34;&gt;sds &lt;span class=&#34;title&#34;&gt;sdscat&lt;/span&gt;&lt;span class=&#34;params&#34;&gt;(sds s, &lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;char&lt;/span&gt; *t)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;built_in&#34;&gt;sdscatlen&lt;/span&gt;(s, t, &lt;span class=&#34;built_in&#34;&gt;strlen&lt;/span&gt;(t));&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;function&#34;&gt;sds &lt;span class=&#34;title&#34;&gt;sdscatlen&lt;/span&gt;&lt;span class=&#34;params&#34;&gt;(sds s, &lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;void&lt;/span&gt; *t, &lt;span class=&#34;keyword&#34;&gt;size_t&lt;/span&gt; len)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// è·å–åŸæ¥å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚(è§ä¸Šé¢çš„æ–¹æ³•)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;size_t&lt;/span&gt; curlen = &lt;span class=&#34;built_in&#34;&gt;sdslen&lt;/span&gt;(s);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// æ‰©å¤§sdså­—ç¬¦ä¸²æœ«å°¾çš„å¯ç”¨ç©ºé—´ï¼Œ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;//ä»¥ä¾¿è°ƒç”¨è€…ç¡®ä¿åœ¨è°ƒç”¨æ­¤å‡½æ•°åå¯ä»¥è¦†ç›–å­—ç¬¦ä¸²æœ«å°¾çš„addlenå­—èŠ‚ï¼Œ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;//å†ä¸ºnullé¡¹å†åŠ ä¸Šä¸€ä¸ªå­—èŠ‚ã€‚ å…·ä½“å®ç°ï¼Œå‚è€ƒæºç (sds.c:204)ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    s = &lt;span class=&#34;built_in&#34;&gt;sdsMakeRoomFor&lt;/span&gt;(s,len);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// å¦‚æœå†…å­˜åˆ†é…å¤±è´¥ï¼Œå°±ä¼šè¿”å›null&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (s == &lt;span class=&#34;literal&#34;&gt;NULL&lt;/span&gt;) &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;literal&#34;&gt;NULL&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// è°ƒç”¨Cè¯­è¨€çš„åˆ†é…&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;built_in&#34;&gt;memcpy&lt;/span&gt;(s+curlen, t, len);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// sdsè®¾ç½® sdshdrçš„lenå­—æ®µçš„å€¼ã€‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;built_in&#34;&gt;sdssetlen&lt;/span&gt;(s, curlen+len);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// æ·»åŠ æœ€åä¸€ä¸ªå­—ç¬¦ä¸º: &amp;#x27;\0&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    s[curlen+len] = &lt;span class=&#34;string&#34;&gt;&amp;#x27;\0&amp;#x27;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt; s;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h5 id=&#34;sds-ä¼˜åŒ–äº†cè¯­è¨€çš„å†…å­˜åˆ†é…ç­–ç•¥&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#sds-ä¼˜åŒ–äº†cè¯­è¨€çš„å†…å­˜åˆ†é…ç­–ç•¥&#34;&gt;#&lt;/a&gt; sds ä¼˜åŒ–äº† C è¯­è¨€çš„å†…å­˜åˆ†é…ç­–ç•¥&lt;/h5&gt;
&lt;h6 id=&#34;ç©ºé—´é¢„åˆ†é…&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#ç©ºé—´é¢„åˆ†é…&#34;&gt;#&lt;/a&gt; ç©ºé—´é¢„åˆ†é…&lt;/h6&gt;
&lt;p&gt;ç©ºé—´é¢„åˆ†é…ç­–ç•¥éµå¾ªä¸‹é¢çš„å…¬å¼:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚æœ &lt;code&gt;SDS&lt;/code&gt;  çš„é•¿åº¦å°äºæœ€å¤§çš„é¢„åˆ†é…ç©ºé—´ ( &lt;code&gt;1MB&lt;/code&gt; ), é‚£ä¹ˆä¼šåˆ†é…ä¸¤å€çš„æ–°ç©ºé—´ï¼Œå†åŠ ä¸Šç»“å°¾çš„ç©ºå­—ç¬¦ &lt;code&gt;&#39;\0&#39;&lt;/code&gt;  ä¸¾ä¸ªä¾‹å­ï¼šåŸæœ‰çš„ &lt;code&gt;sds&lt;/code&gt;  çš„ &lt;code&gt;len&lt;/code&gt;  ä¸º &lt;code&gt;5&lt;/code&gt; , &lt;code&gt;alloc&lt;/code&gt;  ä¸º &lt;code&gt;5&lt;/code&gt; , è¦æ‹¼æ¥çš„å­—ç¬¦ä¸²é•¿åº¦ä¸º &lt;code&gt;15&lt;/code&gt; , é‚£ä¹ˆæ–°åˆ†é…çš„ç©ºé—´å¤§å°æ˜¯:  &lt;code&gt;(5byte+15byte)*2 + 1byte = 41byte&lt;/code&gt; .&lt;/li&gt;
&lt;li&gt;å¦‚æœ &lt;code&gt;sds&lt;/code&gt;  çš„é•¿åº¦å¤§äºç­‰äºé»˜è®¤çš„é¢„åˆ†é…ç©ºé—´ï¼Œé‚£ä¹ˆå°±åœ¨æ–°åˆ†é…çš„ç©ºé—´å¤§å°åŸºç¡€ä¸Šï¼Œåœ¨åˆ†é… &lt;code&gt;1MB&lt;/code&gt;  çš„ç©ºé—´ã€‚å¦‚æœä¿®æ”¹åçš„ï¼Œ &lt;code&gt;SDS&lt;/code&gt;  çš„ &lt;code&gt;len&lt;/code&gt;  æ˜¯  &lt;code&gt;20M&lt;/code&gt; ï¼Œé‚£ä¹ˆ &lt;code&gt;alloc&lt;/code&gt;  å°±æ˜¯  &lt;code&gt;20M + 1M + 1byte&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å…·ä½“åˆ†é…è¿‡ç¨‹è§ä¸‹é¢çš„æºç &lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;48&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;// SDS é»˜è®¤æœ€å¤§çš„é¢„åˆ†é…ç©ºé—´ä¸º1M&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;#&lt;span class=&#34;meta-keyword&#34;&gt;define&lt;/span&gt; SDS_MAX_PREALLOC (1024*1024)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;// sds é¢„åˆ†é…ç©ºé—´&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;function&#34;&gt;sds &lt;span class=&#34;title&#34;&gt;sdsMakeRoomFor&lt;/span&gt;&lt;span class=&#34;params&#34;&gt;(sds s, &lt;span class=&#34;keyword&#34;&gt;size_t&lt;/span&gt; addlen)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;void&lt;/span&gt; *sh, *newsh;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;size_t&lt;/span&gt; avail = &lt;span class=&#34;built_in&#34;&gt;sdsavail&lt;/span&gt;(s);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;size_t&lt;/span&gt; len, newlen;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;char&lt;/span&gt; type, oldtype = s[&lt;span class=&#34;number&#34;&gt;-1&lt;/span&gt;] &amp;amp; SDS_TYPE_MASK;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;int&lt;/span&gt; hdrlen;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;/* å¦‚æœç©ºé—´è¶³å¤Ÿï¼Œç›´æ¥è¿”å› */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (avail &amp;gt;= addlen) &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt; s;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    len = &lt;span class=&#34;built_in&#34;&gt;sdslen&lt;/span&gt;(s);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    sh = (&lt;span class=&#34;keyword&#34;&gt;char&lt;/span&gt;*)s-&lt;span class=&#34;built_in&#34;&gt;sdsHdrSize&lt;/span&gt;(oldtype);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    newlen = (len+addlen);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (newlen &amp;lt; SDS_MAX_PREALLOC)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        newlen *= &lt;span class=&#34;number&#34;&gt;2&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;else&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        newlen += SDS_MAX_PREALLOC;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    type = &lt;span class=&#34;built_in&#34;&gt;sdsReqType&lt;/span&gt;(newlen);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;/* Don&amp;#x27;t use type 5: the user is appending to the string and type 5 is&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;     * not able to remember empty space, so sdsMakeRoomFor() must be called&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;     * at every appending operation. */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (type == SDS_TYPE_5) type = SDS_TYPE_8;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    hdrlen = &lt;span class=&#34;built_in&#34;&gt;sdsHdrSize&lt;/span&gt;(type);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (oldtype==type) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        newsh = &lt;span class=&#34;built_in&#34;&gt;s_realloc&lt;/span&gt;(sh, hdrlen+newlen+&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (newsh == &lt;span class=&#34;literal&#34;&gt;NULL&lt;/span&gt;) &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;literal&#34;&gt;NULL&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        s = (&lt;span class=&#34;keyword&#34;&gt;char&lt;/span&gt;*)newsh+hdrlen;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125; &lt;span class=&#34;keyword&#34;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;comment&#34;&gt;/* Since the header size changes, need to move the string forward,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;         * and can&amp;#x27;t use realloc */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        newsh = &lt;span class=&#34;built_in&#34;&gt;s_malloc&lt;/span&gt;(hdrlen+newlen+&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (newsh == &lt;span class=&#34;literal&#34;&gt;NULL&lt;/span&gt;) &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;literal&#34;&gt;NULL&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;built_in&#34;&gt;memcpy&lt;/span&gt;((&lt;span class=&#34;keyword&#34;&gt;char&lt;/span&gt;*)newsh+hdrlen, s, len+&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;built_in&#34;&gt;s_free&lt;/span&gt;(sh);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        s = (&lt;span class=&#34;keyword&#34;&gt;char&lt;/span&gt;*)newsh+hdrlen;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        s[&lt;span class=&#34;number&#34;&gt;-1&lt;/span&gt;] = type;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;built_in&#34;&gt;sdssetlen&lt;/span&gt;(s, len);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;built_in&#34;&gt;sdssetalloc&lt;/span&gt;(s, newlen);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt; s;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h6 id=&#34;æƒ°æ€§ç©ºé—´é‡Šæ”¾&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#æƒ°æ€§ç©ºé—´é‡Šæ”¾&#34;&gt;#&lt;/a&gt; æƒ°æ€§ç©ºé—´é‡Šæ”¾&lt;/h6&gt;
&lt;p&gt;å½“å¯¹ sds è¿›è¡Œç¼©çŸ­æ“ä½œæ—¶ï¼Œç¨‹åºå¹¶ä¸ä¼šç«‹é©¬å¯¹å†…å­˜é‡åˆ†é…æ¥å›æ”¶æ”¶ç¼©çš„ç©ºé—´ï¼Œè€Œæ˜¯ä»…ä»…æ”¹å˜ &lt;code&gt;len&lt;/code&gt;  å±æ€§ï¼Œå¹¶ä¸”åœ¨é˜Ÿå¯¹åº”çš„ä½ç½®ä¸Šå°†å­—ç¬¦è®¾ç½®ä¸º:  &lt;code&gt;&#39;\0&#39;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;ä»¥ å‡½æ•°  &lt;code&gt;sdstrim&lt;/code&gt;  ä¸ºä¾‹ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;function&#34;&gt;sds &lt;span class=&#34;title&#34;&gt;sdstrim&lt;/span&gt;&lt;span class=&#34;params&#34;&gt;(sds s, &lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;char&lt;/span&gt; *cset)&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;char&lt;/span&gt; *start, *end, *sp, *ep;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;size_t&lt;/span&gt; len;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    sp = start = s;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ep = end = s+&lt;span class=&#34;built_in&#34;&gt;sdslen&lt;/span&gt;(s)&lt;span class=&#34;number&#34;&gt;-1&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;while&lt;/span&gt;(sp &amp;lt;= end &amp;amp;&amp;amp; &lt;span class=&#34;built_in&#34;&gt;strchr&lt;/span&gt;(cset, *sp)) sp++;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;while&lt;/span&gt;(ep &amp;gt; sp &amp;amp;&amp;amp; &lt;span class=&#34;built_in&#34;&gt;strchr&lt;/span&gt;(cset, *ep)) ep--;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    len = (sp &amp;gt; ep) ? &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt; : ((ep-sp)+&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// è¿›è¡Œç§»ä½&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (s != sp) &lt;span class=&#34;built_in&#34;&gt;memmove&lt;/span&gt;(s, sp, len);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// è®¾ç½®å­—ç¬¦ä¸²ç»“æŸç¬¦&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    s[len] = &lt;span class=&#34;string&#34;&gt;&amp;#x27;\0&amp;#x27;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// è®¾ç½®lenå­—æ®µçš„å€¼&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;built_in&#34;&gt;sdssetlen&lt;/span&gt;(s,len);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt; s;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ä¸Šè¿°å®ç°ä¸­ï¼Œå¹¶æ²¡æœ‰è¿›è¡Œå†…å­˜å›æ”¶ã€‚ &lt;code&gt;sds&lt;/code&gt;  ä¹Ÿæä¾›äº†å†…å­˜å›æ”¶çš„å‡½æ•° &lt;code&gt;sds_free&lt;/code&gt; . å…·ä½“å¯ä»¥çœ‹ &lt;code&gt;Redis 5.0.7&lt;/code&gt;  ç‰ˆæºç .  &lt;code&gt;sds.c&lt;/code&gt;  ç¬¬ &lt;code&gt;1120&lt;/code&gt;  è¡Œã€‚è¿™é‡Œä¸å†æ·±å…¥å­¦ä¹ äº†ã€‚&lt;/p&gt;
&lt;h4 id=&#34;äºŒè¿›åˆ¶å®‰å…¨&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#äºŒè¿›åˆ¶å®‰å…¨&#34;&gt;#&lt;/a&gt; äºŒè¿›åˆ¶å®‰å…¨&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;sds&lt;/code&gt;  çš„ &lt;code&gt;API&lt;/code&gt;  éƒ½æ˜¯äºŒè¿›åˆ¶å®‰å…¨çš„ã€‚å› ä¸º &lt;code&gt;Redis&lt;/code&gt;  å¯¹  &lt;code&gt;sds&lt;/code&gt;  ç»“æ„ä¸­çš„ &lt;code&gt;buf&lt;/code&gt;  æ•°ç»„ä¸­çš„æ•°æ®éƒ½æ˜¯ä»¥äºŒè¿›åˆ¶çš„æ–¹å¼å¤„ç†çš„ã€‚&lt;/p&gt;
&lt;h4 id=&#34;å…¼å®¹éƒ¨åˆ†çš„cå­—ç¬¦ä¸²å‡½æ•°&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#å…¼å®¹éƒ¨åˆ†çš„cå­—ç¬¦ä¸²å‡½æ•°&#34;&gt;#&lt;/a&gt; å…¼å®¹éƒ¨åˆ†çš„ &lt;code&gt;C&lt;/code&gt;  å­—ç¬¦ä¸²å‡½æ•°&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;Redis&lt;/code&gt;  è¿˜æ˜¯éµå¾ªäº† &lt;code&gt;C&lt;/code&gt;  å­—ç¬¦ä¸²ä»¥  &lt;code&gt;&#39;\0&#39;&lt;/code&gt;  ç»“å°¾çš„ä¹ æƒ¯ï¼Œæ‰€ä»¥ä¿å­˜äº†æ–‡æœ¬æ•°æ®çš„ &lt;code&gt;sds&lt;/code&gt;  æ˜¯å¯ä»¥å¤ç”¨  &lt;code&gt;&amp;lt;string.h&amp;gt;&lt;/code&gt;  åº“ä¸­çš„å‡½æ•°ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ€»ç»“&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#æ€»ç»“&#34;&gt;#&lt;/a&gt; æ€»ç»“&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;string&lt;/code&gt;  æ˜¯ &lt;code&gt;redis&lt;/code&gt;  ä¸­æœ€ç®€å•çš„æ•°æ®ç»“æ„.  &lt;code&gt;string&lt;/code&gt;  ä¸æ˜¯ &lt;code&gt;C&lt;/code&gt;  å­—ç¬¦ä¸²ï¼Œè€Œæ˜¯å¯¹ &lt;code&gt;C&lt;/code&gt;  å­—ç¬¦ä¸²è¿›è¡Œäº†å°è£….&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å­¦ä¹ äº† &lt;code&gt;string&lt;/code&gt;  ç±»å‹ç›¸å…³çš„ &lt;code&gt;api&lt;/code&gt; ã€‚  &lt;code&gt;set&lt;/code&gt; , &lt;code&gt;setnx&lt;/code&gt; , &lt;code&gt;setex&lt;/code&gt; ,  &lt;code&gt;get&lt;/code&gt; ,  &lt;code&gt;getset&lt;/code&gt; ,  &lt;code&gt;incr&lt;/code&gt; ,  &lt;code&gt;decr&lt;/code&gt; ,â€¦&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;sds&lt;/code&gt;  è¿™ç§è®¾è®¡çš„å¥½å¤„ï¼Œæé«˜äº†æ€§èƒ½ï¼Œä¼˜åŒ–å†…å­˜åˆ†é…ï¼ŒäºŒè¿›åˆ¶å®‰å…¨ï¼Œå…¼å®¹ &lt;code&gt;C&lt;/code&gt;  å­—ç¬¦ä¸²ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;æœ€å&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#æœ€å&#34;&gt;#&lt;/a&gt; æœ€å&lt;/h2&gt;
&lt;p&gt;æœŸæœ›ä¸ä½ ä¸€èµ·é‡è§æ›´å¥½çš„è‡ªå·±&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;/images/qrcode.jpg&#34; alt=&#34;æœŸæœ›ä¸ä½ ä¸€èµ·é‡è§æ›´å¥½çš„è‡ªå·±&#34;&gt;&lt;/p&gt;
</content>
        <category term="Redis" />
        <updated>2021-08-01T06:58:55.000Z</updated>
    </entry>
    <entry>
        <id>https://fangjiaxiaobai.github.io/2021/08/01/Redis%E7%B3%BB%E5%88%97/02-Redis%E7%9A%84%E5%A4%9A%E4%B8%AA%E6%95%B0%E6%8D%AE%E5%BA%93/</id>
        <title>Redis å¤šä¸ªæ•°æ®åº“</title>
        <link rel="alternate" href="https://fangjiaxiaobai.github.io/2021/08/01/Redis%E7%B3%BB%E5%88%97/02-Redis%E7%9A%84%E5%A4%9A%E4%B8%AA%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
        <content type="html">&lt;p&gt;&lt;code&gt;Redis&lt;/code&gt;  é»˜è®¤æä¾›äº† &lt;code&gt;16&lt;/code&gt;  ä¸ªæ•°æ®åº“ã€‚æ¯ä¸ªæ•°æ®åº“éƒ½æœ‰ä¸€ä¸ª &lt;code&gt;id&lt;/code&gt; , ä»  &lt;code&gt;0&lt;/code&gt;  å¼€å§‹ï¼Œ[0,15]ã€‚ ä¸åŒçš„æ•°æ®åº“ä¸­æ•°æ®éš”ç¦»ä¿å­˜ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¿®æ”¹ redis çš„é…ç½®æ–‡ä»¶è¿›è¡Œä¿®æ”¹æ•°æ®åº“çš„æ•°é‡ã€‚&lt;/p&gt;
&lt;figure class=&#34;highlight properties&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;attr&#34;&gt;database&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;32&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨  &lt;code&gt;select &amp;lt;ID&amp;gt;&lt;/code&gt;  å¯ä»¥åˆ‡æ¢æ•°æ®åº“.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç¤ºä¾‹å¦‚ä¸‹:&lt;/p&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379&amp;gt; select 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;OK&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# æ¼”ç¤ºæ•°æ®éš”ç¦»&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379[1]&amp;gt; &lt;span class=&#34;built_in&#34;&gt;set&lt;/span&gt; &lt;span class=&#34;built_in&#34;&gt;test&lt;/span&gt; 1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;OK&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379[1]&amp;gt; select 2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Ok&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127.0.0.1:6379[2]&amp;gt; get &lt;span class=&#34;built_in&#34;&gt;test&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(nil)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;å¯ä»¥é€šè¿‡å‘½ä»¤ä¹‹å‰çš„éƒ¨åˆ†åŒºåˆ†æˆ‘ä»¬æ‰€åœ¨çš„æ•°æ®åº“.&lt;br&gt;
 &lt;code&gt;127.0.0.1:6379[2]&amp;gt; select 2&lt;/code&gt;  æ‰§è¡Œè¿™ä¸ªå‘½ä»¤çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ˜¯åœ¨æ•°æ®åº“ &lt;code&gt;1&lt;/code&gt;  ä¸­çš„ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨  &lt;code&gt;flushdb&lt;/code&gt;  åªèƒ½åˆ é™¤ &lt;b&gt;è¯¥æ•°æ®åº“ (ä¸€ä¸ªåº“)&lt;/b&gt; ä¸­çš„æ•°æ®ã€‚&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨  &lt;code&gt;flushall&lt;/code&gt;  å¯ä»¥åˆ é™¤ &lt;b&gt;æ‰€æœ‰åº“&lt;/b&gt; ä¸­çš„æ•°æ®ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;redisä½¿ç”¨åˆ†åº“çš„æ„ä¹‰&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#redisä½¿ç”¨åˆ†åº“çš„æ„ä¹‰&#34;&gt;#&lt;/a&gt; redis ä½¿ç”¨åˆ†åº“çš„æ„ä¹‰&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;é¿å…ä¸åŒåº”ç”¨ç›¸åŒ &lt;code&gt;key&lt;/code&gt;  çš„å½±å“ã€‚&lt;/li&gt;
&lt;li&gt;æ›´ä¾¿äºç®¡ç†ã€‚&lt;br&gt;
ä¸€ä¸ªå®ä¾‹ä¸Šè¿è¡Œå¤šä¸ªåº“ï¼Œåªè¿ç»´è¿™ä¸€ä¸ªå®ä¾‹å°±å¯ä»¥äº†ã€‚&lt;/li&gt;
&lt;li&gt;ä¹Ÿæœ‰ä¸å°‘æ–‡ç« è¯´ï¼Œredis çš„ä½œè€…æ›¾è¯´è¿‡ï¼Œâ€œå¤šæ•°æ®åº“çš„è®¾è®¡å¯èƒ½æ˜¯æœ€ç³Ÿç³•çš„å†³å®š.â€. Redis æ˜¯å•çº¿ç¨‹çš„ï¼Œå³ä½¿æ˜¯å¤šæ•°æ®åº“ä¹Ÿä¸ä¼šå¸¦æ¥æ€§èƒ½æå‡ã€‚ä½†æ˜¯è¿™ä¸ªå¹¶æ²¡æœ‰å’Œå‰é¢çš„ä¸¤ä¸ªå¥½å¤„å†²çªã€‚ä¸‹é¢æ˜¯ä½œè€…çš„åŸè¯:&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;I understand how this can be useful, but unfortunately I consider Redis multiple database errors my worst decision in Redis design at allâ€¦ without any kind of real gain, it makes the internals a lot more complex. The reality is that databases donâ€™t scale well for a number of reason, like active expire of keys and VM. If the DB selection can be performed with a string I can see this feature being used as a scalable O(1) dictionary layer, that instead it is not.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;With DB numbers, with a default of a few DBs, we are communication better what this feature is and how can be used I think. I hope that at some point we can drop the multiple DBs support at all, but I think it is probably too late as there is a number of people relying on this feature for their work.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;redisçš„åˆ†åº“æ˜¯æ€ä¹ˆå®ç°&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#redisçš„åˆ†åº“æ˜¯æ€ä¹ˆå®ç°&#34;&gt;#&lt;/a&gt; Redis çš„åˆ†åº“æ˜¯æ€ä¹ˆå®ç°ï¼Ÿ&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;Redis&lt;/code&gt;  æœåŠ¡å™¨é—´æ‰€æœ‰çš„æ•°æ®åº“éƒ½ä¿å­˜åœ¨ æœåŠ¡å™¨çŠ¶æ€  &lt;code&gt;redis.h/redisServer&lt;/code&gt;  ç»“æ„çš„ db æ•°ç»„ä¸­ã€‚ &lt;code&gt;db&lt;/code&gt;  æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ª  &lt;code&gt;redis.h/redisDb&lt;/code&gt;  ç»“æ„ã€‚æ¯ä¸ª &lt;code&gt;redisDb&lt;/code&gt;  ç»“æ„ä»£è¡¨ä¸€ä¸ªæ•°æ®åº“.&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;class&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;title&#34;&gt;redisServer&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// ä¿å­˜æ‰€æœ‰æ•°æ®åº“&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    redisDb *db;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// æ•°æ®åº“çš„æ•°é‡(redis.confæ–‡ä»¶ä¸­ databaseé…ç½®çš„)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;int&lt;/span&gt; dbnum;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;æ¯ä¸ª &lt;code&gt;Redis&lt;/code&gt;  å®¢æˆ·ç«¯éƒ½æœ‰è‡ªå·±çš„ç›®æ ‡æ•°æ®åº“ï¼Œæ¯ä¸ªå®¢æˆ·ç«¯æ‰§è¡Œæ•°æ®åº“å†™å‘½ä»¤æˆ–è€…æ•°æ®åº“è¯»å‘½ä»¤çš„æ—¶å€™ï¼Œç›®æ ‡æ•°æ®åº“éƒ½ä¼šæˆä¸ºè¿™äº›å‘½ä»¤çš„æ“ä½œå¯¹è±¡.&lt;br&gt;
 æ¯ä¸ªå®¢æˆ·ç«¯ç”¨  &lt;code&gt;RedisClient&lt;/code&gt;  æ¥æè¿°ã€‚  &lt;code&gt;RedisClient&lt;/code&gt;  ç»“æ„çš„ &lt;code&gt;db&lt;/code&gt;  å±æ€§è®°å½•äº†å®¢æˆ·ç«¯å½“å‰çš„ç›®æ ‡æ•°æ®åº“ï¼Œè¿™ä¸ªå±æ€§æ˜¯ä¸€ä¸ªæŒ‡å‘  &lt;code&gt;redisDb&lt;/code&gt;  çš„æŒ‡é’ˆ.&lt;/p&gt;
&lt;figure class=&#34;highlight c++&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;typedef&lt;/span&gt; &lt;span class=&#34;class&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;title&#34;&gt;redisClient&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// è®°å½•å®¢æˆ·ç«¯ç«¯æ­£åœ¨ä½¿ç”¨çš„æ•°æ®åº“id&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    redisDb *db;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125; redisClient;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&#34;ä¸¾ä¸ªä¾‹å­&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#ä¸¾ä¸ªä¾‹å­&#34;&gt;#&lt;/a&gt; ä¸¾ä¸ªä¾‹å­:&lt;/h4&gt;
&lt;p&gt;å‡è®¾æˆ‘ä»¬å®¢æˆ·ç«¯è¿æ¥çš„æ˜¯æ•°æ®åº“ &lt;code&gt;1&lt;/code&gt; , é‚£ä¹ˆå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ç«¯ä¹‹é—´çš„å…³ç³»æ˜¯è¿™æ ·çš„:&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;./images/00-01%E5%A4%9A%E6%95%B0%E6%8D%AE%E5%BA%93%E7%A4%BA%E6%84%8F%E5%9B%BE.png&#34; alt=&#34;00-01å¤šæ•°æ®åº“ç¤ºæ„å›¾&#34;&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœæˆ‘ä»¬è¿è¡Œ  &lt;code&gt;select 2&lt;/code&gt; , å…¶å®ï¼Œå°±æ˜¯æ”¹å˜çš„ db çš„æŒ‡é’ˆã€‚è®©å®ƒæŒ‡å‘äº†  &lt;code&gt;db(2)&lt;/code&gt; , è¿™å°±æ˜¯  &lt;code&gt;select&lt;/code&gt;  å‘½ä»¤çš„è¿è¡ŒåŸç†ã€‚å¦‚ä¸‹å›¾ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;./images/00-02%E5%A4%9A%E6%95%B0%E6%8D%AE%E5%BA%93%E7%A4%BA%E6%84%8F%E5%9B%BE.png&#34; alt=&#34;00-02å¤šæ•°æ®åº“ç¤ºæ„å›¾&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä»¥ä¸Šå°±æ˜¯ å…³äº  &lt;code&gt;Redis&lt;/code&gt;  å¤šæ•°æ®åº“çš„å†…å®¹äº†ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æœ€å&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#æœ€å&#34;&gt;#&lt;/a&gt; æœ€å&lt;/h2&gt;
&lt;p&gt;æœŸæœ›ä¸ä½ ä¸€èµ·é‡è§æ›´å¥½çš„è‡ªå·±&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;/images/qrcode.jpg&#34; alt=&#34;æœŸæœ›ä¸ä½ ä¸€èµ·é‡è§æ›´å¥½çš„è‡ªå·±&#34;&gt;&lt;/p&gt;
</content>
        <category term="Redis" />
        <updated>2021-08-01T06:48:55.000Z</updated>
    </entry>
    <entry>
        <id>https://fangjiaxiaobai.github.io/2021/08/01/Redis%E7%B3%BB%E5%88%97/01-Redis%E7%AE%80%E4%BB%8B%E4%BB%A5%E5%8F%8A%E4%B8%8E%E5%85%B6%E4%BB%96%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%AF%B9%E6%AF%94/</id>
        <title>Redis ç®€ä»‹</title>
        <link rel="alternate" href="https://fangjiaxiaobai.github.io/2021/08/01/Redis%E7%B3%BB%E5%88%97/01-Redis%E7%AE%80%E4%BB%8B%E4%BB%A5%E5%8F%8A%E4%B8%8E%E5%85%B6%E4%BB%96%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%AF%B9%E6%AF%94/"/>
        <content type="html">&lt;p&gt;&lt;code&gt;Redis&lt;/code&gt;  æ˜¯ä¸€ä¸ªå¼€æ”¾æºä»£ç ï¼ˆ &lt;code&gt;BSD&lt;/code&gt;  è®¸å¯ï¼‰çš„å†…å­˜ä¸­æ•°æ®ç»“æ„å­˜å‚¨ï¼Œç”¨ä½œæ•°æ®åº“ï¼Œç¼“å­˜å’Œæ¶ˆæ¯ä»£ç†ã€‚å®ƒæ”¯æŒæ•°æ®ç»“æ„ï¼Œä¾‹å¦‚å­—ç¬¦ä¸²ï¼Œå“ˆå¸Œï¼Œåˆ—è¡¨ï¼Œé›†åˆï¼Œå¸¦èŒƒå›´æŸ¥è¯¢çš„æ’åºé›†åˆï¼Œä½å›¾ ( &lt;code&gt;bitMap&lt;/code&gt; )ï¼Œè¶…æ—¥å¿— ( &lt;code&gt;hyperlog&lt;/code&gt; )ï¼Œå¸¦æœ‰åŠå¾„æŸ¥è¯¢å’Œæµçš„åœ°ç†ç©ºé—´ç´¢å¼• ( &lt;code&gt;geohash&lt;/code&gt; )ã€‚ &lt;code&gt;Redis&lt;/code&gt;  è¿˜å†…ç½®äº†å‰¯æœ¬ï¼Œ &lt;code&gt;Lua&lt;/code&gt;  è„šæœ¬ï¼Œ &lt;code&gt;LRU&lt;/code&gt;  é©±é€ç­–ç•¥ï¼Œäº‹åŠ¡å’Œä¸åŒçº§åˆ«çš„ç£ç›˜æŒä¹…æ€§ï¼Œå¹¶é€šè¿‡ &lt;code&gt;Redis Sentinel&lt;/code&gt;  å’Œ &lt;code&gt;Redis Cluster&lt;/code&gt;  è‡ªåŠ¨åˆ†åŒºæä¾›äº†é«˜å¯ç”¨æ€§ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Redis&lt;/code&gt;  è¿˜æ”¯æŒä¸€ä¸‹ç‰¹æ€§:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;äº‹åŠ¡&lt;/li&gt;
&lt;li&gt;å‘å¸ƒ / è®¢é˜…æ¨¡å¼&lt;/li&gt;
&lt;li&gt;&lt;code&gt;lua&lt;/code&gt;  è„šæœ¬&lt;/li&gt;
&lt;li&gt;é”®å€¼çš„å…è®¸ç”Ÿå­˜æ—¶é•¿.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;LRU&lt;/code&gt;  é©±é€&lt;/li&gt;
&lt;li&gt;æ•…éšœè‡ªåŠ¨è½¬ç§»&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;ä¸å…¶ä»–æ•°æ®åº“å¯¹æ¯”&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#ä¸å…¶ä»–æ•°æ®åº“å¯¹æ¯”&#34;&gt;#&lt;/a&gt; ä¸å…¶ä»–æ•°æ®åº“å¯¹æ¯”&lt;/h2&gt;
&lt;p&gt;ä¸å…¶ä»–æ•°æ®åº“çš„å¯¹æ¯”:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;-&lt;/th&gt;
&lt;th&gt;Redis&lt;/th&gt;
&lt;th&gt;MongoDB&lt;/th&gt;
&lt;th&gt;Hbase&lt;/th&gt;
&lt;th&gt;Mysql&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;æ•°æ®åº“ç±»å‹&lt;/td&gt;
&lt;td&gt;NoSQL&lt;/td&gt;
&lt;td&gt;NOSQL&lt;/td&gt;
&lt;td&gt;NoSQL&lt;/td&gt;
&lt;td&gt;å…³ç³»å‹æ•°æ®åº“&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æ•°æ®ç±»å‹&lt;/td&gt;
&lt;td&gt;key-value, æä¾› String,List,zet ç­‰å¤šç§ç»“æ„&lt;/td&gt;
&lt;td&gt;Collection.Document.BSON&lt;/td&gt;
&lt;td&gt;åŸºäºåˆ—æ¨¡å¼çš„æ˜ å°„æ•°æ®åº“ï¼Œå¯è¡¨ç¤ºç®€å•çš„ key-value çš„æ˜ å°„å…³ç³»ã€‚&lt;/td&gt;
&lt;td&gt;DB.table.row/col&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æŒä¹…åŒ–&lt;/td&gt;
&lt;td&gt;æ”¯æŒ (RDB/AOF)&lt;/td&gt;
&lt;td&gt;æ”¯æŒ&lt;/td&gt;
&lt;td&gt;æ”¯æŒ&lt;/td&gt;
&lt;td&gt;æ”¯æŒ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æ˜¯å¦æ”¯æŒé›†ç¾¤&lt;/td&gt;
&lt;td&gt;æ”¯æŒ&lt;/td&gt;
&lt;td&gt;æ”¯æŒ&lt;/td&gt;
&lt;td&gt;æ”¯æŒ&lt;/td&gt;
&lt;td&gt;æ”¯æŒ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ä½¿ç”¨åœºæ™¯&lt;/td&gt;
&lt;td&gt;ç¼“å­˜ (å†…å­˜ç¨³å®šï¼Œè¯»å†™æ€§èƒ½æä½³), è¯»å¤šå†™å°‘&lt;/td&gt;
&lt;td&gt;ä½¿ç”¨ Mysql ç­‰å…³ç³»å‹æ•°æ®åº“ï¼Œä½†æ˜¯ä¼šé‡åˆ°è¡¨ç»“æ„ä¸ç¨³å®šçš„æ—¶å€™ (çµæ´»)&lt;/td&gt;
&lt;td&gt;æ•°æ®åº“å¤§ï¼Œç‰¹åˆ«å¤§ï¼Œåˆ—æ•°æ®åº“ï¼Œé€‚åˆå†™å¤šè¯»å°‘çš„åœºæ™¯&lt;/td&gt;
&lt;td&gt;å¸¸è§„çš„æ•°æ®å­˜å‚¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æ˜¯å¦æ”¯æŒç´¢å¼•&lt;/td&gt;
&lt;td&gt;æ”¯æŒ&lt;/td&gt;
&lt;td&gt;æ”¯æŒ&lt;/td&gt;
&lt;td&gt;æ”¯æŒ&lt;/td&gt;
&lt;td&gt;æ”¯æŒ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;æ˜¯å¦æ”¯æŒäº‹åŠ¡&lt;/td&gt;
&lt;td&gt;æ”¯æŒ&lt;/td&gt;
&lt;td&gt;ä¸æ”¯æŒ&lt;/td&gt;
&lt;td&gt;æ”¯æŒ&lt;/td&gt;
&lt;td&gt;æ”¯æŒ&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;æœ€å&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#æœ€å&#34;&gt;#&lt;/a&gt; æœ€å&lt;/h2&gt;
&lt;p&gt;æœŸæœ›ä¸ä½ ä¸€èµ·é‡è§æ›´å¥½çš„è‡ªå·±&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;/images/qrcode.jpg&#34; alt=&#34;æœŸæœ›ä¸ä½ ä¸€èµ·é‡è§æ›´å¥½çš„è‡ªå·±&#34;&gt;&lt;/p&gt;
</content>
        <category term="Redis" />
        <updated>2021-08-01T06:40:55.000Z</updated>
    </entry>
    <entry>
        <id>https://fangjiaxiaobai.github.io/2021/08/01/Redis%E7%B3%BB%E5%88%97/01-%E5%AE%89%E8%A3%85%E5%8D%95%E6%9C%BA%E7%89%88Redis/</id>
        <title>Redisçš„å•æœºéƒ¨ç½²</title>
        <link rel="alternate" href="https://fangjiaxiaobai.github.io/2021/08/01/Redis%E7%B3%BB%E5%88%97/01-%E5%AE%89%E8%A3%85%E5%8D%95%E6%9C%BA%E7%89%88Redis/"/>
        <content type="html">&lt;h1 id=&#34;æºç å®‰è£…&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#æºç å®‰è£…&#34;&gt;#&lt;/a&gt; æºç å®‰è£…&lt;/h1&gt;
&lt;h2 id=&#34;ä¸‹è½½åœ°å€&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#ä¸‹è½½åœ°å€&#34;&gt;#&lt;/a&gt; ä¸‹è½½åœ°å€&lt;/h2&gt;
&lt;p&gt;&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cDovL2Rvd25sb2FkLnJlZGlzLmlvL3JlbGVhc2VzL3JlZGlzLTUuMC43LnRhci5neg==&#34;&gt;http://download.redis.io/releases/redis-5.0.7.tar.gz&lt;/span&gt;&lt;/p&gt;
&lt;h2 id=&#34;å®‰è£…æ­¥éª¤&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#å®‰è£…æ­¥éª¤&#34;&gt;#&lt;/a&gt; å®‰è£…æ­¥éª¤&lt;/h2&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;wget http://download.redis.io/releases/redis-5.0.7.tar.gz&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;tar xvf redis-5.0.7.tar.gz&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root@fangjiaxiaobai &lt;span class=&#34;built_in&#34;&gt;local&lt;/span&gt;]&lt;span class=&#34;comment&#34;&gt;# cd ./redis-5.0.7/&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root@fangjiaxiaobai redis-5.0.7]&lt;span class=&#34;comment&#34;&gt;# make &amp;amp;&amp;amp; make install&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Hint: It&lt;span class=&#34;string&#34;&gt;&amp;#x27;s a good idea to run &amp;#x27;&lt;/span&gt;make &lt;span class=&#34;built_in&#34;&gt;test&lt;/span&gt;&lt;span class=&#34;string&#34;&gt;&amp;#x27; ;)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;# å‡ºç°ä¸Šé¢çš„æç¤ºä»£è¡¨æˆåŠŸäº†&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;å¯èƒ½å‡ºç°ä»¥ä¸‹é”™è¯¯&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#å¯èƒ½å‡ºç°ä»¥ä¸‹é”™è¯¯&#34;&gt;#&lt;/a&gt; å¯èƒ½å‡ºç°ä»¥ä¸‹é”™è¯¯:&lt;/h3&gt;
&lt;figure class=&#34;highlight sh&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;/bin/sh: cc: &lt;span class=&#34;built_in&#34;&gt;command&lt;/span&gt; not found&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;è§£å†³æ–¹æ¡ˆ: yum install gcc&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;jemalloc/jemalloc.h: No such file or directory&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;åŸå› æ˜¯jemallocé‡è½½äº†Linuxä¸‹çš„ANSI Cçš„mallocå’Œfreeå‡½æ•°ã€‚è§£å†³åŠæ³•ï¼šmakeæ—¶æ·»åŠ å‚æ•°ã€‚&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;è§£å†³æ–¹æ¡ˆ: make MALLOC=libc&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;å¯åŠ¨&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#å¯åŠ¨&#34;&gt;#&lt;/a&gt; å¯åŠ¨&lt;/h3&gt;
&lt;p&gt;[root@fangjiaxiaobai ~]# cd /usr/local/redis-5.0.7/src/&lt;/p&gt;
&lt;p&gt;[root@fangjiaxiaobai init.d]# ./redis_6379 start&lt;/p&gt;
&lt;h3 id=&#34;å…³é—­&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#å…³é—­&#34;&gt;#&lt;/a&gt; å…³é—­&lt;/h3&gt;
&lt;p&gt;[root@fangjiaxiaobai src]# ./redis-cli -p 6379 shutdown&lt;/p&gt;
&lt;h2 id=&#34;æœ€å&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#æœ€å&#34;&gt;#&lt;/a&gt; æœ€å&lt;/h2&gt;
&lt;p&gt;æœŸæœ›ä¸ä½ ä¸€èµ·é‡è§æ›´å¥½çš„è‡ªå·±&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;/images/qrcode.jpg&#34; alt=&#34;æœŸæœ›ä¸ä½ ä¸€èµ·é‡è§æ›´å¥½çš„è‡ªå·±&#34;&gt;&lt;/p&gt;
</content>
        <category term="Redis" />
        <updated>2021-08-01T06:38:55.000Z</updated>
    </entry>
    <entry>
        <id>https://fangjiaxiaobai.github.io/2021/07/23/Redis%E7%B3%BB%E5%88%97/00-%E5%89%8D%E8%A8%80/</id>
        <title>Redis å¼€ç¯‡æ‚è°ˆ</title>
        <link rel="alternate" href="https://fangjiaxiaobai.github.io/2021/07/23/Redis%E7%B3%BB%E5%88%97/00-%E5%89%8D%E8%A8%80/"/>
        <content type="html">&lt;h2 id=&#34;æ‚è°ˆ&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#æ‚è°ˆ&#34;&gt;#&lt;/a&gt; æ‚è°ˆ&lt;/h2&gt;
&lt;p&gt;è¿™é‡Œè¯´äº›æ‚è°ˆå§ã€‚&lt;/p&gt;
&lt;p&gt;ä»¥ä¸‹çš„æ–‡ç« ä¸­ï¼ŒåŒä¸€ä¸ªåè¯å¹¶éä»£è¡¨çš„æ˜¯åŒä¸€ç§å¯¹è±¡ã€‚æ¯”å¦‚ listã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ t_list.c ä¸­ï¼Œlist çš„è¡¨ç¤ºçš„ é¢å‘äºç”¨æˆ·çš„ Redis æ•°æ®ç»“æ„ List (åˆ—è¡¨)ã€‚è€Œåœ¨ adlsit.c ä¸­è¡¨ç¤ºçš„ Redis æ•°æ®ç»“æ„çš„åº•å±‚å®ç° list (å…¶å®æ˜¯é“¾è¡¨è¿™ç§æ•°æ®ç»“æ„ - æ­¤å¤„çš„æ•°æ®ç»“æ„ï¼Œè¡¨ç¤ºçœŸå®çš„æ•°æ®ç»“æ„)ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æœ€å&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#æœ€å&#34;&gt;#&lt;/a&gt; æœ€å&lt;/h2&gt;
&lt;p&gt;æœŸæœ›ä¸ä½ ä¸€èµ·é‡è§æ›´å¥½çš„è‡ªå·±&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;/images/qrcode.jpg&#34; alt=&#34;æœŸæœ›ä¸ä½ ä¸€èµ·é‡è§æ›´å¥½çš„è‡ªå·±&#34;&gt;&lt;/p&gt;
</content>
        <category term="Redis" />
        <updated>2021-07-23T06:28:55.000Z</updated>
    </entry>
    <entry>
        <id>https://fangjiaxiaobai.github.io/2021/07/23/Redis%E7%B3%BB%E5%88%97/00-%E7%9B%AE%E5%BD%95/</id>
        <title>Redis å¼€ç¯‡ &amp; è¯´æ˜</title>
        <link rel="alternate" href="https://fangjiaxiaobai.github.io/2021/07/23/Redis%E7%B3%BB%E5%88%97/00-%E7%9B%AE%E5%BD%95/"/>
        <content type="html">&lt;p&gt;æœ¬ç³»åˆ—å­¦ä¹ ç¬”è®°ä»¥  &lt;code&gt;redis5.0.7&lt;/code&gt;  ç‰ˆæœ¬ä¸ºåŸºç¡€è¿›è¡Œå­¦ä¹ .&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;2021-07-21 Redis 6.0.6&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;2019-12-19 Redis 6.x&lt;/code&gt;  å¼€å§‹å‘å¸ƒï¼Œå…·ä½“å†…å®¹: &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2FudGlyZXovcmVkaXMvNi4wLzAwLVJFTEVBU0VOT1RFUw==&#34;&gt;Redis 6.x ç‰ˆæœ¬å‘å¸ƒæ˜ç»†&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å¼€ç¯‡è¯´æ˜&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#å¼€ç¯‡è¯´æ˜&#34;&gt;#&lt;/a&gt; å¼€ç¯‡ &amp;amp; è¯´æ˜&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;/2021/07/23/Redis%E7%B3%BB%E5%88%97/00-%E5%89%8D%E8%A8%80/&#34;&gt;Redis å¼€ç¯‡ &amp;amp; è¯´æ˜ &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;æ–°æ‰‹å…¥é—¨&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#æ–°æ‰‹å…¥é—¨&#34;&gt;#&lt;/a&gt; æ–°æ‰‹å…¥é—¨&lt;/h2&gt;
&lt;h3 id=&#34;åŸºç¡€æ¦‚å¿µ&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#åŸºç¡€æ¦‚å¿µ&#34;&gt;#&lt;/a&gt; åŸºç¡€æ¦‚å¿µ&lt;/h3&gt;
&lt;ul class=&#34;task-list&#34;&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input type=&#34;checkbox&#34; id=&#34;cbx_0&#34; checked=&#34;true&#34; disabled=&#34;true&#34;&gt;&lt;label for=&#34;cbx_0&#34;&gt; &lt;a href=&#34;/2021/08/01/Redis%E7%B3%BB%E5%88%97/01-Redis%E7%AE%80%E4%BB%8B%E4%BB%A5%E5%8F%8A%E4%B8%8E%E5%85%B6%E4%BB%96%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%AF%B9%E6%AF%94/&#34;&gt;Redis ç®€ä»‹åŠå…¶ä»–æ•°æ®åº“å¯¹æ¯”&lt;/a&gt;&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input type=&#34;checkbox&#34; id=&#34;cbx_1&#34; checked=&#34;true&#34; disabled=&#34;true&#34;&gt;&lt;label for=&#34;cbx_1&#34;&gt; &lt;a href=&#34;/2021/08/01/Redis%E7%B3%BB%E5%88%97/02-Redis%E7%9A%84%E5%A4%9A%E4%B8%AA%E6%95%B0%E6%8D%AE%E5%BA%93/&#34;&gt;Redis çš„å¤šä¸ªæ•°æ®åº“&lt;/a&gt;&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input type=&#34;checkbox&#34; id=&#34;cbx_2&#34; checked=&#34;true&#34; disabled=&#34;true&#34;&gt;&lt;label for=&#34;cbx_2&#34;&gt; &lt;a href=&#34;/2021/08/01/Redis%E7%B3%BB%E5%88%97/01-%E5%AE%89%E8%A3%85%E5%8D%95%E6%9C%BA%E7%89%88Redis/&#34;&gt;Redis çš„å•æœºéƒ¨ç½²&lt;/a&gt;&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input type=&#34;checkbox&#34; id=&#34;cbx_3&#34; disabled=&#34;true&#34;&gt;&lt;label for=&#34;cbx_3&#34;&gt; Redis çš„é›†ç¾¤éƒ¨ç½² (æºç å®‰è£… /docker å®‰è£…)&lt;/label&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;äº”ç§å¸¸ç”¨çš„æ•°æ®ç±»å‹&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#äº”ç§å¸¸ç”¨çš„æ•°æ®ç±»å‹&#34;&gt;#&lt;/a&gt; äº”ç§å¸¸ç”¨çš„æ•°æ®ç±»å‹&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;å¸¸ç”¨çš„å‘½ä»¤ä»¥åŠæµ…æµ…çš„äº†è§£å†…éƒ¨ç»“æ„ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul class=&#34;task-list&#34;&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input type=&#34;checkbox&#34; id=&#34;cbx_4&#34; checked=&#34;true&#34; disabled=&#34;true&#34;&gt;&lt;label for=&#34;cbx_4&#34;&gt; &lt;a href=&#34;/2021/08/01/Redis%E7%B3%BB%E5%88%97/B-1-Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B9%8BString/&#34;&gt;Redis æ•°æ®ç»“æ„ä¹‹  &lt;code&gt;String&lt;/code&gt; &lt;/a&gt;&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input type=&#34;checkbox&#34; id=&#34;cbx_5&#34; checked=&#34;true&#34; disabled=&#34;true&#34;&gt;&lt;label for=&#34;cbx_5&#34;&gt; &lt;a href=&#34;/2021/08/01/Redis%E7%B3%BB%E5%88%97/B-2-Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B9%8Blist/&#34;&gt;Redis æ•°æ®ç»“æ„ä¹‹  &lt;code&gt;List&lt;/code&gt; &lt;/a&gt;&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input type=&#34;checkbox&#34; id=&#34;cbx_6&#34; checked=&#34;true&#34; disabled=&#34;true&#34;&gt;&lt;label for=&#34;cbx_6&#34;&gt; &lt;a href=&#34;/2021/08/01/Redis%E7%B3%BB%E5%88%97/B-3-Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B9%8Bhash/&#34;&gt;Redis æ•°æ®ç»“æ„ä¹‹  &lt;code&gt;Hash&lt;/code&gt; &lt;/a&gt;&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input type=&#34;checkbox&#34; id=&#34;cbx_7&#34; checked=&#34;true&#34; disabled=&#34;true&#34;&gt;&lt;label for=&#34;cbx_7&#34;&gt; &lt;a href=&#34;/2021/08/01/Redis%E7%B3%BB%E5%88%97/B-4-Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B9%8B%E9%9B%86%E5%90%88set/&#34;&gt;Redis æ•°æ®ç»“æ„ä¹‹é›†åˆ  &lt;code&gt;Set&lt;/code&gt; &lt;/a&gt;&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input type=&#34;checkbox&#34; id=&#34;cbx_8&#34; checked=&#34;true&#34; disabled=&#34;true&#34;&gt;&lt;label for=&#34;cbx_8&#34;&gt; &lt;a href=&#34;/2021/08/01/Redis%E7%B3%BB%E5%88%97/B-5-Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B9%8B%E6%9C%89%E5%BA%8F%E9%9B%86%E5%90%88zset/&#34;&gt;Redis æ•°æ®ç»“æ„ä¹‹æœ‰åºé›†åˆ  &lt;code&gt;Zset&lt;/code&gt; &lt;/a&gt;&lt;/label&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;çŸ¥é“ä¼šå¾ˆç‰›é€¼çš„æ•°æ®ç±»å‹&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#çŸ¥é“ä¼šå¾ˆç‰›é€¼çš„æ•°æ®ç±»å‹&#34;&gt;#&lt;/a&gt; çŸ¥é“ä¼šå¾ˆç‰›é€¼çš„æ•°æ®ç±»å‹&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;å¸¸ç”¨çš„å‘½ä»¤ä»¥åŠæµ…æµ…çš„äº†è§£å†…éƒ¨ç»“æ„ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul class=&#34;task-list&#34;&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input type=&#34;checkbox&#34; id=&#34;cbx_9&#34; checked=&#34;true&#34; disabled=&#34;true&#34;&gt;&lt;label for=&#34;cbx_9&#34;&gt; &lt;a href=&#34;/2021/08/01/Redis%E7%B3%BB%E5%88%97/B-6-Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B9%8B%E4%BD%8D%E5%9B%BEbitmap/&#34;&gt;Redis æ•°æ®ç»“æ„ä¹‹ä½å›¾  &lt;code&gt;BitMap&lt;/code&gt; &lt;/a&gt;&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input type=&#34;checkbox&#34; id=&#34;cbx_10&#34; checked=&#34;true&#34; disabled=&#34;true&#34;&gt;&lt;label for=&#34;cbx_10&#34;&gt; &lt;a href=&#34;/2021/08/01/Redis%E7%B3%BB%E5%88%97/B-7-Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B9%8BHyperLogLogs/&#34;&gt;Redis æ•°æ®ç»“æ„ä¹‹  &lt;code&gt;HyperLogLogs&lt;/code&gt; &lt;/a&gt;&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input type=&#34;checkbox&#34; id=&#34;cbx_11&#34; disabled=&#34;true&#34;&gt;&lt;label for=&#34;cbx_11&#34;&gt; GeoHash&lt;/label&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;å…¶ä»–å‘½ä»¤&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#å…¶ä»–å‘½ä»¤&#34;&gt;#&lt;/a&gt; å…¶ä»–å‘½ä»¤&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;é™¤äº†åŸºæœ¬çš„æ•°æ®ç»“æ„ä¹‹å¤–çš„ &lt;code&gt;Redis&lt;/code&gt;  çš„å‘½ä»¤ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul class=&#34;task-list&#34;&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input type=&#34;checkbox&#34; id=&#34;cbx_12&#34; disabled=&#34;true&#34;&gt;&lt;label for=&#34;cbx_12&#34;&gt; help&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input type=&#34;checkbox&#34; id=&#34;cbx_13&#34; disabled=&#34;true&#34;&gt;&lt;label for=&#34;cbx_13&#34;&gt; auth&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input type=&#34;checkbox&#34; id=&#34;cbx_14&#34; disabled=&#34;true&#34;&gt;&lt;label for=&#34;cbx_14&#34;&gt; scan&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input type=&#34;checkbox&#34; id=&#34;cbx_15&#34; disabled=&#34;true&#34;&gt;&lt;label for=&#34;cbx_15&#34;&gt; keys&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input type=&#34;checkbox&#34; id=&#34;cbx_16&#34; disabled=&#34;true&#34;&gt;&lt;label for=&#34;cbx_16&#34;&gt; select&lt;/label&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å†…åŠŸå¿ƒæ³•&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#å†…åŠŸå¿ƒæ³•&#34;&gt;#&lt;/a&gt; å†…åŠŸå¿ƒæ³•&lt;/h2&gt;
&lt;h3 id=&#34;redisä¸­çš„æ•°æ®ç»“æ„&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#redisä¸­çš„æ•°æ®ç»“æ„&#34;&gt;#&lt;/a&gt; Redis ä¸­çš„æ•°æ®ç»“æ„&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;Redis&lt;/code&gt;  å†…éƒ¨çš„æ•°æ®ç»“æ„è¯¦è§£&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul class=&#34;task-list&#34;&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input type=&#34;checkbox&#34; id=&#34;cbx_17&#34; checked=&#34;true&#34; disabled=&#34;true&#34;&gt;&lt;label for=&#34;cbx_17&#34;&gt; &lt;a href=&#34;/2021/08/02/Redis%E7%B3%BB%E5%88%97/C-4-%E8%B7%B3%E8%A1%A8/&#34;&gt;Redis ä¸­çš„æ•°æ®ç»“æ„ä¹‹è·³è¡¨åŠå…¶åŸç†&lt;/a&gt;&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input type=&#34;checkbox&#34; id=&#34;cbx_18&#34; checked=&#34;true&#34; disabled=&#34;true&#34;&gt;&lt;label for=&#34;cbx_18&#34;&gt; &lt;a href=&#34;/2021/08/02/Redis%E7%B3%BB%E5%88%97/C-1-Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B9%8Bziplist/&#34;&gt;Redis æ•°æ®ç»“æ„ä¹‹è¯¦è§£ &lt;code&gt;ziplist&lt;/code&gt; &lt;/a&gt;&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input type=&#34;checkbox&#34; id=&#34;cbx_19&#34; disabled=&#34;true&#34;&gt;&lt;label for=&#34;cbx_19&#34;&gt; intset&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input type=&#34;checkbox&#34; id=&#34;cbx_20&#34; disabled=&#34;true&#34;&gt;&lt;label for=&#34;cbx_20&#34;&gt; dict&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input type=&#34;checkbox&#34; id=&#34;cbx_21&#34; disabled=&#34;true&#34;&gt;&lt;label for=&#34;cbx_21&#34;&gt; skiplist&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input type=&#34;checkbox&#34; id=&#34;cbx_22&#34; disabled=&#34;true&#34;&gt;&lt;label for=&#34;cbx_22&#34;&gt; module object&lt;/label&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;é«˜é˜¶ &lt;code&gt;Redis&lt;/code&gt;  ä½¿ç”¨ï¼ŒåŠ©åŠ›æˆä¸ºå¤§ç‰›&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul class=&#34;task-list&#34;&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input type=&#34;checkbox&#34; id=&#34;cbx_23&#34; disabled=&#34;true&#34;&gt;&lt;label for=&#34;cbx_23&#34;&gt; Redis çš„æ•°æ®æ·˜æ±°æœºåˆ¶&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input type=&#34;checkbox&#34; id=&#34;cbx_24&#34; disabled=&#34;true&#34;&gt;&lt;label for=&#34;cbx_24&#34;&gt; æŒä¹…åŒ–ç­–ç•¥&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input type=&#34;checkbox&#34; id=&#34;cbx_25&#34; disabled=&#34;true&#34;&gt;&lt;label for=&#34;cbx_25&#34;&gt; ä¸»ä»å¤åˆ¶&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input type=&#34;checkbox&#34; id=&#34;cbx_26&#34; disabled=&#34;true&#34;&gt;&lt;label for=&#34;cbx_26&#34;&gt; äº‹åŠ¡æœºåˆ¶&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input type=&#34;checkbox&#34; id=&#34;cbx_27&#34; disabled=&#34;true&#34;&gt;&lt;label for=&#34;cbx_27&#34;&gt; å“¨å…µæœºåˆ¶&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input type=&#34;checkbox&#34; id=&#34;cbx_28&#34; disabled=&#34;true&#34;&gt;&lt;label for=&#34;cbx_28&#34;&gt; ç›‘å¯Ÿå™¨&lt;/label&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å®æˆ˜ä¸åº”ç”¨&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#å®æˆ˜ä¸åº”ç”¨&#34;&gt;#&lt;/a&gt; å®æˆ˜ä¸åº”ç”¨&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;è¯´çš„å†å¤šï¼Œä¸å¦‚åŠ¨æ‰‹ç»ƒç»ƒ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul class=&#34;task-list&#34;&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input type=&#34;checkbox&#34; id=&#34;cbx_29&#34; disabled=&#34;true&#34;&gt;&lt;label for=&#34;cbx_29&#34;&gt; Redis å®ç°åˆ†å¸ƒå¼é”ã€‚&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input type=&#34;checkbox&#34; id=&#34;cbx_30&#34; disabled=&#34;true&#34;&gt;&lt;label for=&#34;cbx_30&#34;&gt; Redis å®ç°å‘å¸ƒè®¢é˜…æ¨¡å¼&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input type=&#34;checkbox&#34; id=&#34;cbx_31&#34; disabled=&#34;true&#34;&gt;&lt;label for=&#34;cbx_31&#34;&gt; å¸ƒéš†è¿‡æ»¤å™¨&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input type=&#34;checkbox&#34; id=&#34;cbx_32&#34; disabled=&#34;true&#34;&gt;&lt;label for=&#34;cbx_32&#34;&gt; é™æµå®ä¾‹&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input type=&#34;checkbox&#34; id=&#34;cbx_33&#34; disabled=&#34;true&#34;&gt;&lt;label for=&#34;cbx_33&#34;&gt; å»¶æ—¶é˜Ÿåˆ—&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input type=&#34;checkbox&#34; id=&#34;cbx_34&#34; disabled=&#34;true&#34;&gt;&lt;label for=&#34;cbx_34&#34;&gt; ç»Ÿè®¡ PV&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input type=&#34;checkbox&#34; id=&#34;cbx_35&#34; disabled=&#34;true&#34;&gt;&lt;label for=&#34;cbx_35&#34;&gt; é™æµ&lt;/label&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;è¿ç»´&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#è¿ç»´&#34;&gt;#&lt;/a&gt; è¿ç»´&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸è®©åˆ«äººæ“¦å±è‚¡&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul class=&#34;task-list&#34;&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input type=&#34;checkbox&#34; id=&#34;cbx_36&#34; disabled=&#34;true&#34;&gt;&lt;label for=&#34;cbx_36&#34;&gt; é…ç½®æ–‡ä»¶è¯¦è§£&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input type=&#34;checkbox&#34; id=&#34;cbx_37&#34; disabled=&#34;true&#34;&gt;&lt;label for=&#34;cbx_37&#34;&gt; æ•°æ®æŒä¹…åŒ–&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input type=&#34;checkbox&#34; id=&#34;cbx_38&#34; disabled=&#34;true&#34;&gt;&lt;label for=&#34;cbx_38&#34;&gt; æ•°æ®è¿ç§»&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input type=&#34;checkbox&#34; id=&#34;cbx_39&#34; disabled=&#34;true&#34;&gt;&lt;label for=&#34;cbx_39&#34;&gt; å†è°ˆé›†ç¾¤&lt;/label&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å…¶ä»–&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#å…¶ä»–&#34;&gt;#&lt;/a&gt; å…¶ä»–&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸ä»…è¦æœ‰å†…æ¶µï¼Œæ›´è¦æœ‰é¢œå€¼ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul class=&#34;task-list&#34;&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input type=&#34;checkbox&#34; id=&#34;cbx_40&#34; disabled=&#34;true&#34;&gt;&lt;label for=&#34;cbx_40&#34;&gt;  &lt;code&gt;Redis&lt;/code&gt;  é¢è¯•é¢˜&lt;/label&gt;&lt;/li&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input type=&#34;checkbox&#34; id=&#34;cbx_41&#34; disabled=&#34;true&#34;&gt;&lt;label for=&#34;cbx_41&#34;&gt;  &lt;code&gt;Redis&lt;/code&gt;  ä¸ºä»€ä¹ˆè¿™ä¹ˆå¿«&lt;/label&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å­¦ä¹ è·¯çº¿å›¾&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#å­¦ä¹ è·¯çº¿å›¾&#34;&gt;#&lt;/a&gt; å­¦ä¹ è·¯çº¿å›¾&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;è¿™é‡Œæ˜¯ç¯å¡”ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul class=&#34;task-list&#34;&gt;
&lt;li class=&#34;task-list-item&#34;&gt;&lt;input type=&#34;checkbox&#34; id=&#34;cbx_42&#34; disabled=&#34;true&#34;&gt;&lt;label for=&#34;cbx_42&#34;&gt; è·¯çº¿å›¾&lt;/label&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;æœ€å&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#æœ€å&#34;&gt;#&lt;/a&gt; æœ€å&lt;/h2&gt;
&lt;p&gt;æœŸæœ›ä¸ä½ ä¸€èµ·é‡è§æ›´å¥½çš„è‡ªå·±&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;/images/qrcode.jpg&#34; alt=&#34;æœŸæœ›ä¸ä½ ä¸€èµ·é‡è§æ›´å¥½çš„è‡ªå·±&#34;&gt;&lt;/p&gt;
</content>
        <category term="ç›®å½•" />
        <category term="Redis" />
        <updated>2021-07-23T06:18:55.000Z</updated>
    </entry>
</feed>
